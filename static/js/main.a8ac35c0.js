/*! For license information please see main.a8ac35c0.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},753:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,a=new Promise((function(a,o){n(i=e[t].apply(e,r)).then(a,o)}));return a.request=i,a}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function a(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function o(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),a=i.request;return a&&(a.onupgradeneeded=function(e){n&&n(new d(a.result,e.oldVersion,a.transaction))}),i.then((function(e){return new p(e)}))}function y(e){return r(indexedDB,"deleteDatabase",[e])}a(c,"_index",["name","keyPath","multiEntry","unique"]),o(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),s(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),a(l,"_cursor",["direction","key","primaryKey","value"]),o(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},a(f,"_store",["name","keyPath","indexNames","autoIncrement"]),o(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),s(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),u(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},a(h,"_tx",["objectStoreNames","mode"]),u(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},a(d,"_db",["name","version","objectStoreNames"]),u(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},a(p,"_db",["name","version","objectStoreNames"]),u(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,a=i[e].apply(i,n.slice(0,-1));a.onsuccess=function(){r(a.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=y,Object.defineProperty(e,"__esModule",{value:!0})}(t)},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,I=60107,E=60108,S=60114,T=60109,C=60110,N=60112,A=60113,R=60120,P=60115,O=60116,D=60121,L=60128,M=60129,F=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var V=Symbol.for;x=V("react.element"),_=V("react.portal"),I=V("react.fragment"),E=V("react.strict_mode"),S=V("react.profiler"),T=V("react.provider"),C=V("react.context"),N=V("react.forward_ref"),A=V("react.suspense"),R=V("react.suspense_list"),P=V("react.memo"),O=V("react.lazy"),D=V("react.block"),V("react.scope"),L=V("react.opaque.id"),M=V("react.debug_trace_mode"),F=V("react.offscreen"),U=V("react.legacy_hidden")}var j,z="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function B(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var K=!1;function W(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function H(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case _:return"Portal";case S:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case D:return G(e._render);case O:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,me=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Re(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Oe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Oe,Fe=!1,Ue=!1;function Ve(){null===Ce&&null===Ne||(Le(),Pe())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){ze=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(ye){ze=!1}function Be(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ke=!1,We=null,He=!1,Ge=null,Qe={onError:function(e){Ke=!0,We=e}};function $e(e,t,n,r,i,a,o,u,s){Ke=!1,We=null,Be.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},Et={},St={};function Tt(e){if(Et[e])return Et[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Et[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Ct=Tt("animationend"),Nt=Tt("animationiteration"),At=Tt("animationstart"),Rt=Tt("transitionend"),Pt=new Map,Ot=new Map,Dt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Mt):0!==(u&=a)&&(r=Ft(u),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==u&&(r=Ft(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function Vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?jt(10,t):e;case 10:return 0===(e=zt(192&~t))?jt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ht|0)|0},Wt=Math.log,Ht=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){Fe||Le();var i=Xt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||Ve()}}function Jt(e,t,n,r){Qt(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=yt(ut,e,t,n,r,i),!0;case"dragenter":return st=yt(st,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,yt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=sn(yn),gn=sn(i({},yn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),_n=sn(i({},hn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return Tn}var Nn=i({},pn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=sn(Nn),Rn=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var Vn=f&&"TextEvent"in window&&!Un,jn=f&&(!Fn||Un&&8<Un&&11>=Un),zn=String.fromCharCode(32),qn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Qn(e,t,n,r){Re(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Jn(e){Nr(e,0)}function Xn(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",ar),Yn=$n=null)}function ar(e){if("value"===e.propertyName&&Xn(Yn)){var t=[];if(Qn(t,Yn,e,Se(e)),e=Jn,Fe)e(t);else{Fe=!0;try{Oe(e,t)}finally{Fe=!1,Ve()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Yn)}function sr(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==X(r)||("selectionStart"in(r=kr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Ir.length;Er++)Ot.set(Ir[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if($e.apply(this,arguments),Ke){if(!Ke)throw Error(o(198));var l=We;Ke=!1,We=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Rr]||(e[Rr]=!0,u.forEach((function(t){Tr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Jt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Me(e,t,n)}finally{Ue=!1,Ve()}}((function(){var r=a,i=Se(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=An;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case Ct:case Nt:case At:s=bn;break;case Rt:s=On;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=je(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==s&&Vr(o,u,s,l,!1),null!==c&&null!==f&&Vr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Zn;else if(Gn(u))if(er)y=cr;else{y=ur;var m=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=sr);switch(y&&(y=y(e,r))?Qn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ie(u,"number",u.value)),m=r?ii(r):window,e){case"focusin":(Gn(m)||"true"===m.contentEditable)&&(kr=m,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?Bn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(m=Fr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Kn(n))&&(k.data=g))),(g=Vn?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(qn=!0,zn);case"textInput":return(e=t.data)===zn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Fn&&Bn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=je(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=je(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=je(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=je(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function jr(){}var zr=null,qr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Jr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Xr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Ii=null,Ei=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},Ui=void 0!==Ni?Ni:function(){},Vi=null,ji=null,zi=!1,qi=Ai(),Bi=1e4>qi?Ai:function(){return Ai()-qi};function Ki(){switch(Ri()){case Pi:return 99;case Oi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Pi;case 98:return Oi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Hi(e,t){return e=Wi(e),Ei(e,t)}function Gi(e,t,n){return e=Wi(e),Si(e,t,n)}function Qi(){if(null!==ji){var e=ji;ji=null,Ti(e)}$i()}function $i(){if(!zi&&null!==Vi){zi=!0;var e=0;try{var t=Vi;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Vi=null}catch(n){throw null!==Vi&&(Vi=Vi.slice(e+1)),Si(Pi,Qi),n}finally{zi=!1}}}var Yi=w.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=mi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=mi(t)?vi:di.current,i.context=yi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ia(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Js(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Js(t,e.mode,n)).return=e,t}if(xa(t)||q(t))return(t=Qs(t,e.mode,n,null)).return=e,t;Ia(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===I?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||q(n))return null!==i?null:f(e,t,n,r,null);Ia(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===I?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);Ia(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,u,s,c){var l=q(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===I&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===I){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===I?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=_a(e,r,a),s.return=e,e=s)}return u(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Js(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(q(a))return y(e,r,a,s);if(l&&Ia(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Sa=Ea(!0),Ta=Ea(!1),Ca={},Na=ci(Ca),Aa=ci(Ca),Ra=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Oa(e,t){switch(fi(Ra,t),fi(Aa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Da(){li(Na),li(Aa),li(Ra)}function La(e){Pa(Ra.current);var t=Pa(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function Ma(e){Aa.current===e&&(li(Na),li(Aa))}var Fa=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Va=null,ja=null,za=!1;function qa(e,t){var n=Ks(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ba(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ka(e){if(za){var t=ja;if(t){var n=t;if(!Ba(e,t)){if(!(t=Qr(n.nextSibling))||!Ba(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Va=e);qa(Va,n)}Va=e,ja=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Va=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Va=e}function Ha(e){if(e!==Va)return!1;if(!za)return Wa(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=ja;t;)qa(e,t),t=Qr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ja=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ja=null}}else ja=Va?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){ja=Va=null,za=!1}var Qa=[];function $a(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ya=w.ReactCurrentDispatcher,Ja=w.ReactCurrentBatchConfig,Xa=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Oo:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Lo,e=n(r,i)}while(ro)}if(Ya.current=Po,t=null!==eo&&null!==eo.next,Xa=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,zu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Ou;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ya.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Kt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function yo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Za,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void mo(t,n,a,r)}Za.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return wo(516,4,e,t)}function Io(e,t){return wo(4,2,e,t)}function Eo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Eo.bind(null,t,e),n)}function To(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Ki();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Ro(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:yo,useDebugValue:To,useDeferredValue:function(e){var t=yo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=yo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=yo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,mo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return yo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:So,useLayoutEffect:Io,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:So,useLayoutEffect:Io,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Fo=!1;function Uo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Sa(t,e.child,n,r)}function Vo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function jo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ws(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Hs(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Ko(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Uo(e,t,i,n),t.child}function Bo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ko(e,t,n,r,i){var a=mi(n)?vi:di.current;return a=yi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Wo(e,t,n,r,i){if(mi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=yi(t,c=mi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ya(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ji(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=yi(t,s=mi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ya(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,a,i)}function Ho(e,t,n,r,i,a){Bo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,u,a)):Uo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var Qo,$o,Yo,Jo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Ka(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=$s({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=$s(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Hs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hs(o,u),null!==e?r=Hs(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),$a(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ha(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Na.current),Ha(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Xr]=t,r[Zr]=u,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Ar(Sr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,u),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Ar("invalid",r);break;case"textarea":se(r,u),Ar("invalid",r)}for(var c in Ie(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Ee(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)Ar(Sr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Ar("invalid",e);break;default:a=r}Ie(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Ar("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=jr)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Ra.current),Pa(Na.current),Ha(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ha(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Uu&&(Uu=3):(0!==Uu&&3!==Uu||(Uu=4),null===Ou||0===(134217727&zu)&&0===(134217727&qu)||gs(Ou,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Uu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Hu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Ua(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return _s(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),$a(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _s(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Na.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=jr)}for(f in Ie(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Ju=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){js(e,n)}else t.current=null}function yu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function mu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){js(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){js(t,a)}break;case 5:vu(t);break;case 4:Eu(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_u(e,n,t):Iu(e,n,t)}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Iu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Iu(e,t,n),e=e.sibling;null!==e;)Iu(e,t,n),e=e.sibling}function Eu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Su(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wu=Bi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=qs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Nu=Math.ceil,Au=w.ReactCurrentDispatcher,Ru=w.ReactCurrentOwner,Pu=0,Ou=null,Du=null,Lu=0,Mu=0,Fu=ci(0),Uu=0,Vu=null,ju=0,zu=0,qu=0,Bu=0,Ku=null,Wu=0,Hu=1/0;function Gu(){Hu=Bi()+500}var Qu,$u=null,Yu=!1,Ju=null,Xu=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Pu)?Bi():-1!==us?us:us=Bi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===ss&&(ss=ju),0!==Yi.transition){0!==cs&&(cs=null!==Ku?Ku.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&Pu)&&98===e?e=jt(12,ss):e=jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;Bt(e,t,n),e===Ou&&(qu|=t,4===Uu&&gs(e,Lu));var r=Ki();1===t?0!==(8&Pu)&&0===(48&Pu)?ks(e):(ys(e,n),0===Pu&&(Gu(),Qi())):(0===(4&Pu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ys(e,n)),Ku=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ys(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Kt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ut(e,e===Ou?Lu:0),t=Mt,0===r)null!==n&&(n!==Fi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ti(n)}15===t?(n=ks.bind(null,e),null===Vi?(Vi=[n],ji=Si(Pi,$i)):Vi.push(n),n=Fi):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ms.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ms(e){if(us=-1,cs=ss=0,0!==(48&Pu))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ut(e,e===Ou?Lu:0);if(0===n)return null;var r=n,i=Pu;Pu|=16;var a=Ss();for(Ou===e&&Lu===r||(Gu(),Is(e,r));;)try{Ns();break}catch(s){Es(e,s)}if(na(),Au.current=a,Pu=i,null!==Du?r=0:(Ou=null,Lu=0,r=Uu),0!==(ju&qu))Is(e,0);else if(0!==r){if(2===r&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Vt(e))&&(r=Ts(e,n))),1===r)throw t=Vu,Is(e,0),gs(e,n),ys(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ps(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Wu+500-Bi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Ps.bind(null,e),r);break}Ps(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Kt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nu(n/1960))-n)){e.timeoutHandle=Wr(Ps.bind(null,e),n);break}Ps(e);break;default:throw Error(o(329))}}return ys(e,Bi()),e.callbackNode===t?ms.bind(null,e):null}function gs(e,t){for(t&=~Bu,t&=~qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Pu))throw Error(o(327));if(Ls(),e===Ou&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ts(e,t);0!==(ju&qu)&&(n=Ts(e,t=Ut(e,t)))}else n=Ts(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Vt(e))&&(n=Ts(e,t))),1===n)throw n=Vu,Is(e,0),gs(e,t),ys(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e),ys(e,Bi()),null}function bs(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Qi())}}function ws(e,t){var n=Pu;Pu&=-2,Pu|=8;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Qi())}}function xs(e,t){fi(Fu,Mu),Mu|=t,ju|=t}function _s(){Mu=Fu.current,li(Fu)}function Is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),$a();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:_s()}n=n.return}Ou=e,Du=Hs(e.current,null),Lu=Mu=ju=t,Uu=0,Vu=null,Bu=qu=zu=0}function Es(e,t){for(;;){var n=Du;try{if(na(),Ya.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=Za=null,ro=!1,Ru.current=null,null===n||null===n.return){Uu=1,Vu=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=zs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Uu&&(Uu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xu||!Xu.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Rs(n)}catch(_){t=_,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Ss(){var e=Au.current;return Au.current=Po,null===e?Po:e}function Ts(e,t){var n=Pu;Pu|=16;var r=Ss();for(Ou===e&&Lu===t||Is(e,t);;)try{Cs();break}catch(i){Es(e,i)}if(na(),Pu=n,Au.current=r,null!==Du)throw Error(o(261));return Ou=null,Lu=0,Uu}function Cs(){for(;null!==Du;)As(Du)}function Ns(){for(;null!==Du&&!Ci();)As(Du)}function As(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Rs(e):Du=t,Ru.current=null}function Rs(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Uu&&(Uu=5)}function Ps(e){var t=Ki();return Hi(99,Os.bind(null,e,t)),null}function Os(e,t){do{Ls()}while(null!==es);if(0!==(48&Pu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Kt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Ou&&(Du=Ou=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pu,Pu|=32,Ru.current=null,zr=$t,mr(u=yr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(S){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=u,m=null;t:for(;;){for(var g;y!==s||0!==a&&3!==y.nodeType||(h=f+a),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===u)break t;if(m===s&&++p===a&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;qr={focusedElem:u,selectionRange:s},$t=!1,ls=null,fs=!1,$u=r;do{try{Ds()}catch(S){if(null===$u)throw Error(o(330));js($u,S),$u=$u.nextEffect}}while(null!==$u);ls=null,$u=r;do{try{for(u=e;null!==$u;){var k=$u.flags;if(16&k&&ge($u.stateNode,""),128&k){var b=$u.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu($u),$u.flags&=-3;break;case 6:xu($u),$u.flags&=-3,Su($u.alternate,$u);break;case 1024:$u.flags&=-1025;break;case 1028:$u.flags&=-1025,Su($u.alternate,$u);break;case 4:Su($u.alternate,$u);break;case 8:Eu(u,s=$u);var x=s.alternate;bu(s),null!==x&&bu(x)}$u=$u.nextEffect}}catch(S){if(null===$u)throw Error(o(330));js($u,S),$u=$u.nextEffect}}while(null!==$u);if(w=qr,b=yr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&mr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!zr,qr=zr=null,e.current=n,$u=r;do{try{for(k=e;null!==$u;){var _=$u.flags;if(36&_&&mu(k,$u.alternate,$u),128&_){b=void 0;var I=$u.ref;if(null!==I){var E=$u.stateNode;$u.tag,b=E,"function"===typeof I?I(b):I.current=b}}$u=$u.nextEffect}}catch(S){if(null===$u)throw Error(o(330));js($u,S),$u=$u.nextEffect}}while(null!==$u);$u=null,Ui(),Pu=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for($u=r;null!==$u;)t=$u.nextEffect,$u.nextEffect=null,8&$u.flags&&((_=$u).sibling=null,_.stateNode=null),$u=t;if(0===(r=e.pendingLanes)&&(Xu=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(S){}if(ys(e,Bi()),Yu)throw Yu=!1,e=Ju,Ju=null,e;return 0!==(8&Pu)||Qi(),null}function Ds(){for(;null!==$u;){var e=$u.alternate;fs||null===ls||(0!==(8&$u.flags)?et($u,ls)&&(fs=!0):13===$u.tag&&Cu(e,$u)&&et($u,ls)&&(fs=!0));var t=$u.flags;0!==(256&t)&&yu(e,$u),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return Ls(),null}))),$u=$u.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Hi(e,Us)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Fs(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Us(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Pu))throw Error(o(331));var t=Pu;Pu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));js(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));js(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Pu=t,Qi(),!0}function Vs(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(Bt(e,1,t),ys(e,t))}function js(e,t){if(3===e.tag)Vs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Vs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))Bt(n,1,i),ys(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Ou===e&&(Lu&n)===n&&(4===Uu||3===Uu&&(62914560&Lu)===Lu&&500>Bi()-Wu?Is(e,0):Bu|=n),ys(e,t)}function qs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===ss&&(ss=ju),0===(t=zt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(Bt(e,t,n),ys(e,n))}function Bs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(e,t,n,r){return new Bs(e,t,n,r)}function Ws(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hs(e,t){var n=e.alternate;return null===n?((n=Ks(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ws(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case I:return Qs(n.children,i,a,t);case M:u=8,i|=16;break;case E:u=8,i|=1;break;case S:return(e=Ks(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case A:return(e=Ks(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case R:return(e=Ks(19,n,t,i)).elementType=R,e.lanes=a,e;case F:return $s(n,i,a,t);case U:return(e=Ks(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case N:u=11;break e;case P:u=14;break e;case O:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ks(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ks(7,e,r,t)).lanes=n,e}function $s(e,t,n,r){return(e=Ks(23,e,r,t)).elementType=F,e.lanes=n,e}function Ys(e,t,n){return(e=Ks(6,e,null,t)).lanes=n,e}function Js(e,t,n){return(t=Ks(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xs(e,t,null!=n&&!0===n.hydrate),t=Ks(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:mi(t.type)&&wi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ya(t,r,u,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ho(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ws(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Ko(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Vo(null,t,i,e,n);break e;case 14:t=jo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(ja=Qr(t.stateNode.containerInfo.firstChild),Va=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Ka(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Kr(r,i)?u=null:null!==a&&Kr(r,a)&&(t.flags|=16),Bo(e,t),Uo(e,t,u,n),t.child;case 6:return null===e&&Ka(t),null;case 13:return Xo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Xi,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),jo(e,t,i,a=Ji(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=bs,De=function(e,t,n,r,i){var a=Pu;Pu|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Pu=a)&&(Gu(),Qi())}},Le=function(){0===(49&Pu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ys(e,Bi())}))}Qi()}(),Ls())},Me=function(e,t){var n=Pu;Pu|=2;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Qi())}};var sc={Events:[ri,ii,ai,Re,Pe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Ii=fc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pu;if(0!==(48&n))return e(t);Pu|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Pu=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],y=n[3],m=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,_="?"===k||"*"===k,I=n[2]||l,E=m||g;r.push({name:y||a++,prefix:v||"",delimiter:I,optional:_,repeat:x,partial:w,asterisk:!!b,pattern:E?c(E):b?".*":"[^"+s(I)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var k=g.prototype=new m;k.constructor=g,r(k,y.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+S(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+S(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function R(){var e=A.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=y.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return m.prototype=g,s(x,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(I.prototype),s(I.prototype,o,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+g;try{y(!0,e)?w.postMessage(null):(v=!1,y=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,w.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>E(o,n))void 0!==s&&0>E(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>E(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],T=[],C=1,N=null,A=3,R=!1,P=!1,O=!1;function D(e){for(var t=_(T);null!==t;){if(null===t.callback)I(T);else{if(!(t.startTime<=e))break;I(T),t.sortIndex=t.expirationTime,x(S,t)}t=_(T)}}function L(e){if(O=!1,D(e),!P)if(null!==_(S))P=!0,n(M);else{var t=_(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,O&&(O=!1,i()),R=!0;var a=A;try{for(D(n),N=_(S);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var u=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?N.callback=u:N===_(S)&&I(S),D(n)}else I(S);N=_(S)}if(null!==N)var s=!0;else{var c=_(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{N=null,A=a,R=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return _(S)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===_(S)&&e===_(T)&&(O?i():O=!0,r(L,o-u))):(e.sortIndex=s,x(S,e),P||R||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".0530f370.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="slack-clone:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/slack-clone/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkslack_clone=self.webpackChunkslack_clone||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Na},SDK_VERSION:function(){return So},_DEFAULT_ENTRY_NAME:function(){return ho},_addComponent:function(){return mo},_addOrOverwriteComponent:function(){return go},_apps:function(){return vo},_clearComponents:function(){return xo},_components:function(){return yo},_getProvider:function(){return bo},_registerComponent:function(){return ko},_removeServiceInstance:function(){return wo},deleteApp:function(){return Ao},getApp:function(){return Co},getApps:function(){return No},initializeApp:function(){return To},onLog:function(){return Oo},registerVersion:function(){return Po},setLogLevel:function(){return Do}});var t=n(791),r=n(164);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||o(e,t)||u()}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function f(e,t){if(null==e)return{};var n,r,i=l(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=h(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function d(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=h(e))&&(r&&(r+=" "),r+=t);return r}var p=n(110),v=n.n(p),y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m="object"===("undefined"===typeof window?"undefined":y(window))&&"object"===("undefined"===typeof document?"undefined":y(document))&&9===document.nodeType;function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,b(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _={}.constructor;function I(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(I);if(e.constructor!==_)return e;var t={};for(var n in e)t[n]=I(e[n]);return t}function E(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=I(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var S=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},T=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=S(e[r]," ");else n=S(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function C(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function N(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function A(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var u=C(n),s=u.linebreak,c=u.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=s),r+=N(h+":"+c+T(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=s),r+=N(p+":"+c+T(v)+";",a))}for(var y in t){var m=t[y];null!=m&&"fallbacks"!==y&&(r&&(r+=s),r+=N(y+":"+c+T(m)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+s+r+s),N(""+e+c+"{"+r,--a)+N("}",a)):r}var R=/([[\].#*$><+~=|^:(),"'`\s])/g,P="undefined"!==typeof CSS&&CSS.escape,O=function(e){return P?P(e):e.replace(R,"\\$1")},D=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var u=a&&o;if(u?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var s=this.options.sheet;return s&&s.attached,this},e}(),L=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,u=r.sheet,s=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=s(x(x(i)),u),i.selectorText="."+O(i.id)),i}w(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=T(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?c({},e,{allowEmpty:!0}):e;return A(this.selectorText,this.style,n)},k(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(D),M={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new L(e,t,n)}},F={indent:1,children:!0},U=/@([\w-]+)/,V=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(U);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new ce(c({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=F);var t=C(e).linebreak;if(null==e.indent&&(e.indent=F.indent),null==e.children&&(e.children=F.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),j=/@media|@supports\s+/,z={onCreateRule:function(e,t,n){return j.test(e)?new V(e,t,n):null}},q={indent:1,children:!0},B=/@keyframes\s+([\w-]+)/,K=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(B);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,a=n.sheet,o=n.generateId;for(var u in this.id=!1===i?this.name:O(o(this,a)),this.rules=new ce(c({},n,{parent:this})),t)this.rules.add(u,t[u],c({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=q);var t=C(e).linebreak;if(null==e.indent&&(e.indent=q.indent),null==e.children&&(e.children=q.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),W=/@keyframes\s+/,H=/\$([\w-]+)/g,G=function(e,t){return"string"===typeof e?e.replace(H,(function(e,n){return n in t?t[n]:e})):e},Q=function(e,t,n){var r=e[t],i=G(r,n);i!==r&&(e[t]=i)},$={onCreateRule:function(e,t,n){return"string"===typeof e&&W.test(e)?new K(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&Q(e,"animation-name",n.keyframes),"animation"in e&&Q(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return G(e,r.keyframes);default:return e}}},Y=function(e){function t(){return e.apply(this,arguments)||this}return w(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?c({},e,{allowEmpty:!0}):e;return A(this.key,this.style,n)},t}(D),J={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new Y(e,t,n):null}},X=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=C(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=A(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return A(this.at,this.style,e)},e}(),Z=/@font-face/,ee={onCreateRule:function(e,t,n){return Z.test(e)?new X(e,t,n):null}},te=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return A(this.key,this.style,e)},e}(),ne={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new te(e,t,n):null}},re=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),ie={"@charset":!0,"@import":!0,"@namespace":!0},ae={onCreateRule:function(e,t,n){return e in ie?new re(e,t,n):null}},oe=[M,z,$,J,ee,ne,ae],ue={process:!0},se={force:!0,process:!0},ce=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,a=r.sheet,o=r.jss,u=r.Renderer,s=r.generateId,l=r.scoped,f=c({classes:this.classes,parent:i,sheet:a,jss:o,Renderer:u,generateId:s,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(f.selector="."+O(this.classes[h]));var d=E(h,t,f);if(!d)return null;this.register(d);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==i&&(a=c({},n,{index:i})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof L?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof K&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof L?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof K&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=ue);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var u=t.style;if(a.onUpdate(n,t,o,r),r.process&&u&&u!==t.style){for(var s in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[s];c!==u[s]&&t.prop(s,c,se)}for(var l in u){var f=t.style[l],h=u[l];null==f&&f!==h&&t.prop(l,null,se)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=C(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),le=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=c({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new ce(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),fe=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),he=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=l(t,["attached"]),i=C(r).linebreak,a="",o=0;o<this.registry.length;o++){var u=this.registry[o];null!=n&&u.attached!==n||(a&&(a+=i),a+=u.toString(r))}return a},k(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),de=new he,pe="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ve="2f1acc6c3a606b082e5eef5e54414ffb";null==pe[ve]&&(pe[ve]=0);var ye=pe[ve]++,me=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+ye+i+t:a+n.key+"-"+ye+(i?"-"+i:"")+"-"+t}},ge=function(e){var t;return function(){return t||(t=e()),t}},ke=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},be=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=T(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},we=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},xe=function(e,t){return e.selectorText=t,e.selectorText===t},_e=ge((function(){return document.querySelector("head")}));function Ie(e){var t=de.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=_e(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var Ee=ge((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),Se=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},Te=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},Ce=function(){function e(e){this.getPropertyValue=ke,this.setProperty=be,this.removeProperty=we,this.setSelector=xe,this.hasInsertedRules=!1,this.cssRules=[],e&&de.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=Ee();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=Ie(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else _e().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=Te(n,t);if(!1===(i=Se(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var u=Te(n,t),s=Se(n,o,u);return!1!==s&&(this.hasInsertedRules=!0,this.refCssRule(e,u,s),s)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof le&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Ne=0,Ae=function(){function e(e){this.id=Ne++,this.version="10.9.0",this.plugins=new fe,this.options={id:{minify:!1},createGenerateId:me,Renderer:m?Ce:null,plugins:[]},this.generateId=me({minify:!1});for(var t=0;t<oe.length;t++)this.plugins.use(oe[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=c({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===de.index?0:de.index+1);var r=new le(e,c({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),de.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=c({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=E(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),Re=function(e){return new Ae(e)},Pe="object"===typeof CSS&&null!=CSS&&"number"in CSS;function Oe(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=Oe(r);a&&(t||(t={}),t[n]=a)}}return t}Re();function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=c({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var Le={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Me=Le;var Fe=t.createContext(null);function Ue(){return t.useContext(Fe)}var Ve="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",je=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var ze=Date.now(),qe="fnValues"+ze,Be="fnStyle"+ ++ze,Ke=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=E(e,{},n);return r[Be]=t,r},onProcessStyle:function(e,t){if(qe in t||Be in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[qe]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Be];a&&(i.style=a(e)||{});var o=i[qe];if(o)for(var u in o)i.prop(u,o[u](e),r)}}},We="@global",He="@global ",Ge=function(){function e(e,t,n){for(var r in this.type="global",this.at=We,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new ce(c({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Qe=function(){function e(e,t,n){this.type="global",this.at=We,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(He.length);this.rule=n.jss.createRule(r,t,c({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),$e=/\s*,\s*/g;function Ye(e,t){for(var n=e.split($e),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Je=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===We)return new Ge(e,t,n);if("@"===e[0]&&e.substr(0,He.length)===He)return new Qe(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[We]:null;if(i){for(var a in i)t.addRule(a,i[a],c({},n,{selector:Ye(a,e.selector)}));delete r[We]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,We.length)===We){var a=Ye(i.substr(We.length),e.selector);t.addRule(a,r[i],c({},n,{selector:a})),delete r[i]}}(e,t))}}},Xe=/\s*,\s*/g,Ze=/&/g,et=/\$([\w-]+)/g;var tt=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Xe),r=e.split(Xe),i="",a=0;a<n.length;a++)for(var o=n[a],u=0;u<r.length;u++){var s=r[u];i&&(i+=", "),i+=-1!==s.indexOf("&")?s.replace(Ze,o):o+" "+s}return i}function n(e,t,n){if(n)return c({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=c({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,a){if("style"!==i.type)return r;var o,u,s=i,l=s.options.parent;for(var f in r){var h=-1!==f.indexOf("&"),d="@"===f[0];if(h||d){if(o=n(s,l,o),h){var p=t(f,s.selector);u||(u=e(l,a)),p=p.replace(et,u);var v=s.key+"-"+f;"replaceRule"in l?l.replaceRule(v,r[f],c({},o,{selector:p})):l.addRule(v,r[f],c({},o,{selector:p}))}else d&&l.addRule(f,{},o).addRule(s.key,r[f],{selector:s.selector});delete r[f]}}return r}}},nt=/[A-Z]/g,rt=/^ms-/,it={};function at(e){return"-"+e.toLowerCase()}var ot=function(e){if(it.hasOwnProperty(e))return it[e];var t=e.replace(nt,at);return it[e]=rt.test(t)?"-"+t:t};function ut(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:ot(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(ut):t.fallbacks=ut(e.fallbacks)),t}var st=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=ut(e[t]);return e}return ut(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=ot(t);return t===r?e:(n.prop(r,e),null)}}},ct=Pe&&CSS?CSS.px:"px",lt=Pe&&CSS?CSS.ms:"ms",ft=Pe&&CSS?CSS.percent:"%";function ht(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var dt=ht({"animation-delay":lt,"animation-duration":lt,"background-position":ct,"background-position-x":ct,"background-position-y":ct,"background-size":ct,border:ct,"border-bottom":ct,"border-bottom-left-radius":ct,"border-bottom-right-radius":ct,"border-bottom-width":ct,"border-left":ct,"border-left-width":ct,"border-radius":ct,"border-right":ct,"border-right-width":ct,"border-top":ct,"border-top-left-radius":ct,"border-top-right-radius":ct,"border-top-width":ct,"border-width":ct,"border-block":ct,"border-block-end":ct,"border-block-end-width":ct,"border-block-start":ct,"border-block-start-width":ct,"border-block-width":ct,"border-inline":ct,"border-inline-end":ct,"border-inline-end-width":ct,"border-inline-start":ct,"border-inline-start-width":ct,"border-inline-width":ct,"border-start-start-radius":ct,"border-start-end-radius":ct,"border-end-start-radius":ct,"border-end-end-radius":ct,margin:ct,"margin-bottom":ct,"margin-left":ct,"margin-right":ct,"margin-top":ct,"margin-block":ct,"margin-block-end":ct,"margin-block-start":ct,"margin-inline":ct,"margin-inline-end":ct,"margin-inline-start":ct,padding:ct,"padding-bottom":ct,"padding-left":ct,"padding-right":ct,"padding-top":ct,"padding-block":ct,"padding-block-end":ct,"padding-block-start":ct,"padding-inline":ct,"padding-inline-end":ct,"padding-inline-start":ct,"mask-position-x":ct,"mask-position-y":ct,"mask-size":ct,height:ct,width:ct,"min-height":ct,"max-height":ct,"min-width":ct,"max-width":ct,bottom:ct,left:ct,top:ct,right:ct,inset:ct,"inset-block":ct,"inset-block-end":ct,"inset-block-start":ct,"inset-inline":ct,"inset-inline-end":ct,"inset-inline-start":ct,"box-shadow":ct,"text-shadow":ct,"column-gap":ct,"column-rule":ct,"column-rule-width":ct,"column-width":ct,"font-size":ct,"font-size-delta":ct,"letter-spacing":ct,"text-decoration-thickness":ct,"text-indent":ct,"text-stroke":ct,"text-stroke-width":ct,"word-spacing":ct,motion:ct,"motion-offset":ct,outline:ct,"outline-offset":ct,"outline-width":ct,perspective:ct,"perspective-origin-x":ft,"perspective-origin-y":ft,"transform-origin":ft,"transform-origin-x":ft,"transform-origin-y":ft,"transform-origin-z":ft,"transition-delay":lt,"transition-duration":lt,"vertical-align":ct,"flex-basis":ct,"shape-margin":ct,size:ct,gap:ct,grid:ct,"grid-gap":ct,"row-gap":ct,"grid-row-gap":ct,"grid-column-gap":ct,"grid-template-rows":ct,"grid-template-columns":ct,"grid-auto-rows":ct,"grid-auto-columns":ct,"box-shadow-x":ct,"box-shadow-y":ct,"box-shadow-blur":ct,"box-shadow-spread":ct,"font-line-height":ct,"text-shadow-x":ct,"text-shadow-y":ct,"text-shadow-blur":ct});function pt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=pt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=pt(i,t[i],n);else for(var a in t)t[a]=pt(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||dt[e];return!o||0===t&&o===ct?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var vt=function(e){void 0===e&&(e={});var t=ht(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=pt(r,e[r],t);return e},onChangeValue:function(e,n){return pt(n,e,t)}}};function yt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function mt(e){return function(e){if(Array.isArray(e))return a(e)}(e)||yt(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var gt="",kt="",bt="",wt="",xt=m&&"ontouchstart"in document.documentElement;if(m){var _t={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},It=document.createElement("p").style;for(var Et in _t)if(Et+"Transform"in It){gt=Et,kt=_t[Et];break}"Webkit"===gt&&"msHyphens"in It&&(gt="ms",kt=_t.ms,wt="edge"),"Webkit"===gt&&"-apple-trailing-word"in It&&(bt="apple")}var St=gt,Tt=kt,Ct=bt,Nt=wt,At=xt;var Rt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===St?"-webkit-"+e:Tt+e)}},Pt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===St?Tt+"print-"+e:e)}},Ot=/[-\s]+(.)?/g;function Dt(e,t){return t?t.toUpperCase():""}function Lt(e){return e.replace(Ot,Dt)}function Mt(e){return Lt("-"+e)}var Ft,Ut={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===St){var n="mask-image";if(Lt(n)in t)return e;if(St+Mt(n)in t)return Tt+e}return e}},Vt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==Ct||At?e:Tt+e)}},jt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:Tt+e)}},zt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:Tt+e)}},qt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===St||"ms"===St&&"edge"!==Nt?Tt+e:e)}},Bt={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===St||"ms"===St||"apple"===Ct?Tt+e:e)}},Kt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===St?"WebkitColumn"+Mt(e)in t&&Tt+"column-"+e:"Moz"===St&&("page"+Mt(e)in t&&"page-"+e))}},Wt={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===St)return e;var n=e.replace("-inline","");return St+Mt(n)in t&&Tt+n}},Ht={supportedProperty:function(e,t){return Lt(e)in t&&e}},Gt={supportedProperty:function(e,t){var n=Mt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:St+n in t?Tt+e:"Webkit"!==St&&"Webkit"+n in t&&"-webkit-"+e}},Qt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===St?""+Tt+e:e)}},$t={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===St?Tt+"scroll-chaining":e)}},Yt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Jt={supportedProperty:function(e,t){var n=Yt[e];return!!n&&(St+Mt(n)in t&&Tt+n)}},Xt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Zt=Object.keys(Xt),en=function(e){return Tt+e},tn={supportedProperty:function(e,t,n){var r=n.multiple;if(Zt.indexOf(e)>-1){var i=Xt[e];if(!Array.isArray(i))return St+Mt(i)in t&&Tt+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(St+Mt(i[0])in t))return!1;return i.map(en)}return!1}},nn=[Rt,Pt,Ut,Vt,jt,zt,qt,Bt,Kt,Wt,Ht,Gt,Qt,$t,Jt,tn],rn=nn.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),an=nn.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,mt(t.noPrefill)),e}),[]),on={};if(m){Ft=document.createElement("p");var un=window.getComputedStyle(document.documentElement,"");for(var sn in un)isNaN(sn)||(on[un[sn]]=un[sn]);an.forEach((function(e){return delete on[e]}))}function cn(e,t){if(void 0===t&&(t={}),!Ft)return e;if(null!=on[e])return on[e];"transition"!==e&&"transform"!==e||(t[e]=e in Ft.style);for(var n=0;n<rn.length&&(on[e]=rn[n](e,Ft.style,t),!on[e]);n++);try{Ft.style[e]=""}catch(r){return!1}return on[e]}var ln,fn={},hn={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},dn=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function pn(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?cn(t):", "+cn(n);return r||(t||n)}function vn(e,t){var n=t;if(!ln||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=fn[r])return fn[r];try{ln.style[e]=n}catch(i){return fn[r]=!1,!1}if(hn[e])n=n.replace(dn,pn);else if(""===ln.style[e]&&("-ms-flex"===(n=Tt+n)&&(ln.style[e]="-ms-flexbox"),ln.style[e]=n,""===ln.style[e]))return fn[r]=!1,!1;return ln.style[e]="",fn[r]=n,fn[r]}m&&(ln=document.createElement("p"));var yn=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=cn(n);a&&a!==n&&(i=!0);var o=!1,u=vn(a,T(r));u&&u!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=u||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===St?e:"@"+Tt+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return vn(t,T(e))||e}}};var mn=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var gn=Re({plugins:[Ke(),Je(),tt(),st(),vt(),"undefined"===typeof window?null:yn(),mn()]}),kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,u=""===o?"":"".concat(o,"-"),s=0,c=function(){return s+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==je.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(u).concat(r,"-").concat(e.key);return t.options.theme[Ve]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(u).concat(i).concat(c())}}(),bn={disableGeneration:!1,generateClassName:kn,jss:gn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},wn=t.createContext(bn);var xn=-1e9;function _n(){return xn+=1}function In(e){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(e)}function En(e){return e&&"object"===In(e)&&e.constructor===Object}function Sn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?c({},e):e;return En(e)&&En(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(En(t[i])&&i in e?r[i]=Sn(e[i],t[i],n):r[i]=t[i])})),r}function Tn(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(u){throw u}if(!r||!n.overrides||!n.overrides[r])return i;var a=n.overrides[r],o=c({},i);return Object.keys(a).forEach((function(e){o[e]=Sn(o[e],a[e])})),o},options:{}}}var Cn={};function Nn(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=De({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function An(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,a=e.stylesCreator,o=e.name;if(!i.disableGeneration){var u=Me.get(i.sheetsManager,a,r);u||(u={refs:0,staticSheet:null,dynamicStyles:null},Me.set(i.sheetsManager,a,r,u));var s=c({},a.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});s.generateId=s.serverGenerateClassName||s.generateClassName;var l=i.sheetsRegistry;if(0===u.refs){var f;i.sheetsCache&&(f=Me.get(i.sheetsCache,a,r));var h=a.create(r,o);f||((f=i.jss.createStyleSheet(h,c({link:!1},s))).attach(),i.sheetsCache&&Me.set(i.sheetsCache,a,r,f)),l&&l.add(f),u.staticSheet=f,u.dynamicStyles=Oe(h)}if(u.dynamicStyles){var d=i.jss.createStyleSheet(u.dynamicStyles,c({link:!0},s));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=De({baseClasses:u.staticSheet.classes,newClasses:d.classes}),l&&l.add(d)}else n.classes=u.staticSheet.classes;u.refs+=1}}function Rn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function Pn(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Me.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Me.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function On(e,n){var r,i=t.useRef([]),a=t.useMemo((function(){return{}}),n);i.current!==a&&(i.current=a,r=e()),t.useEffect((function(){return function(){r&&r()}}),[a])}function Dn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.name,i=n.classNamePrefix,a=n.Component,o=n.defaultTheme,u=void 0===o?Cn:o,s=f(n,["name","classNamePrefix","Component","defaultTheme"]),l=Tn(e),h=r||i||"makeStyles";l.options={index:_n(),name:r,meta:h,classNamePrefix:h};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Ue()||u,i=c({},t.useContext(wn),s),o=t.useRef(),f=t.useRef();On((function(){var t={name:r,state:{},stylesCreator:l,stylesOptions:i,theme:n};return An(t,e),f.current=!1,o.current=t,function(){Pn(t)}}),[n,l]),t.useEffect((function(){f.current&&Rn(o.current,e),f.current=!0}));var h=Nn(o.current,e.classes,a);return h};return d}function Ln(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}var Mn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var i=n.defaultTheme,a=n.withTheme,o=void 0!==a&&a,u=n.name,s=f(n,["defaultTheme","withTheme","name"]);var l=u,h=Dn(e,c({defaultTheme:i,Component:r,name:u||r.displayName,classNamePrefix:l},s)),d=t.forwardRef((function(e,n){e.classes;var a,s=e.innerRef,l=f(e,["classes","innerRef"]),d=h(c({},r.defaultProps,e)),p=l;return("string"===typeof u||o)&&(a=Ue()||i,u&&(p=Ln({theme:a,name:u,props:l})),o&&!p.theme&&(p.theme=a)),t.createElement(r,c({ref:s||n,classes:d},p))}));return v()(d,r),d}},Fn=["xs","sm","md","lg","xl"];function Un(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=f(e,["values","unit","step"]);function s(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function l(e,t){var r=Fn.indexOf(t);return r===Fn.length-1?s(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[Fn[r+1]]?n[Fn[r+1]]:t)-o/100).concat(i,")")}return c({keys:Fn,values:n,up:s,down:function(e){var t=Fn.indexOf(e)+1,r=n[Fn[t]];return t===Fn.length?s("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-o/100).concat(i,")")},between:l,only:function(e){return l(e,e)},width:function(e){return n[e]}},u)}function Vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jn(e,t,n){var r;return c({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),c({paddingLeft:t(2),paddingRight:t(2)},n,Vn({},e.up("sm"),c({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},Vn(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Vn(r,e.up("sm"),{minHeight:64}),r)},n)}function zn(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}var qn={black:"#000",white:"#fff"},Bn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Kn={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Wn={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Hn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Gn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Qn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},$n={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Yn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Jn(e){if(e.type)return e;if("#"===e.charAt(0))return Jn(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(zn(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function Xn(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function Zn(e){var t="hsl"===(e=Jn(e)).type?Jn(function(e){var t=(e=Jn(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),Xn({type:u,values:s})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function er(e,t){return e=Jn(e),t=Yn(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,Xn(e)}function tr(e,t){if(e=Jn(e),t=Yn(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Xn(e)}function nr(e,t){if(e=Jn(e),t=Yn(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return Xn(e)}var rr={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:qn.white,default:Bn[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ir={text:{primary:qn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Bn[800],default:"#303030"},action:{active:qn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ar(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=nr(e.main,i):"dark"===t&&(e.dark=tr(e.main,a)))}function or(e){var t=e.primary,n=void 0===t?{light:Kn[300],main:Kn[500],dark:Kn[700]}:t,r=e.secondary,i=void 0===r?{light:Wn.A200,main:Wn.A400,dark:Wn.A700}:r,a=e.error,o=void 0===a?{light:Hn[300],main:Hn[500],dark:Hn[700]}:a,u=e.warning,s=void 0===u?{light:Gn[300],main:Gn[500],dark:Gn[700]}:u,l=e.info,h=void 0===l?{light:Qn[300],main:Qn[500],dark:Qn[700]}:l,d=e.success,p=void 0===d?{light:$n[300],main:$n[500],dark:$n[700]}:d,v=e.type,y=void 0===v?"light":v,m=e.contrastThreshold,g=void 0===m?3:m,k=e.tonalOffset,b=void 0===k?.2:k,w=f(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function x(e){var t=function(e,t){var n=Zn(e),r=Zn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,ir.text.primary)>=g?ir.text.primary:rr.text.primary;return t}var _=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=c({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(zn(4,t));if("string"!==typeof e.main)throw new Error(zn(5,JSON.stringify(e.main)));return ar(e,"light",n,b),ar(e,"dark",r,b),e.contrastText||(e.contrastText=x(e.main)),e},I={dark:ir,light:rr};return Sn(c({common:qn,type:y,primary:_(n),secondary:_(i,"A400","A200","A700"),error:_(o),warning:_(s),info:_(h),success:_(p),grey:Bn,contrastThreshold:g,getContrastText:x,augmentColor:_,tonalOffset:b},I[y]),w)}function ur(e){return Math.round(1e5*e)/1e5}function sr(e){return ur(e)}var cr={textTransform:"uppercase"},lr='"Roboto", "Helvetica", "Arial", sans-serif';function fr(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?lr:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,l=n.fontWeightRegular,h=void 0===l?400:l,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,y=void 0===v?700:v,m=n.htmlFontSize,g=void 0===m?16:m,k=n.allVariants,b=n.pxToRem,w=f(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var x=o/14,_=b||function(e){return"".concat(e/g*x,"rem")},I=function(e,t,n,r,a){return c({fontFamily:i,fontWeight:e,fontSize:_(t),lineHeight:n},i===lr?{letterSpacing:"".concat(ur(r/t),"em")}:{},a,k)},E={h1:I(s,96,1.167,-1.5),h2:I(s,60,1.2,-.5),h3:I(h,48,1.167,0),h4:I(h,34,1.235,.25),h5:I(h,24,1.334,0),h6:I(p,20,1.6,.15),subtitle1:I(h,16,1.75,.15),subtitle2:I(p,14,1.57,.1),body1:I(h,16,1.5,.15),body2:I(h,14,1.43,.15),button:I(p,14,1.75,.4,cr),caption:I(h,12,1.66,.4),overline:I(h,12,2.66,1,cr)};return Sn(c({htmlFontSize:g,pxToRem:_,round:sr,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:y},E),w,{clone:!1})}function hr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var dr=["none",hr(0,2,1,-1,0,1,1,0,0,1,3,0),hr(0,3,1,-2,0,2,2,0,0,1,5,0),hr(0,3,3,-2,0,3,4,0,0,1,8,0),hr(0,2,4,-1,0,4,5,0,0,1,10,0),hr(0,3,5,-1,0,5,8,0,0,1,14,0),hr(0,3,5,-1,0,6,10,0,0,1,18,0),hr(0,4,5,-2,0,7,10,1,0,2,16,1),hr(0,5,5,-3,0,8,10,1,0,3,14,2),hr(0,5,6,-3,0,9,12,1,0,3,16,2),hr(0,6,6,-3,0,10,14,1,0,4,18,3),hr(0,6,7,-4,0,11,15,1,0,4,20,3),hr(0,7,8,-4,0,12,17,2,0,5,22,4),hr(0,7,8,-4,0,13,19,2,0,5,24,4),hr(0,7,9,-4,0,14,21,2,0,5,26,4),hr(0,8,9,-5,0,15,22,2,0,6,28,5),hr(0,8,10,-5,0,16,24,2,0,6,30,5),hr(0,8,11,-5,0,17,26,2,0,6,32,5),hr(0,9,11,-5,0,18,28,2,0,7,34,6),hr(0,9,12,-6,0,19,29,2,0,7,36,6),hr(0,10,13,-6,0,20,31,3,0,8,38,7),hr(0,10,13,-6,0,21,33,3,0,8,40,7),hr(0,10,14,-6,0,22,35,3,0,8,42,7),hr(0,11,14,-7,0,23,36,3,0,9,44,8),hr(0,11,15,-7,0,24,38,3,0,9,46,8)],pr={borderRadius:4},vr={xs:0,sm:600,md:960,lg:1280,xl:1920},yr={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(vr[e],"px)")}};var mr=function(e,t){return t?Sn(e,t,{clone:!1}):e};var gr={m:"margin",p:"padding"},kr={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},br={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},wr=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!br[e])return[e];e=br[e]}var t=s(e.split(""),2),n=t[0],r=t[1],i=gr[n],a=kr[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),xr=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function _r(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function Ir(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function Er(e){var t=_r(e.theme);return Object.keys(e).map((function(n){if(-1===xr.indexOf(n))return null;var r=Ir(wr(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||yr;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===In(t)){var i=e.theme.breakpoints||yr;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(mr,{})}Er.propTypes={},Er.filterProps=xr;function Sr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=_r({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var Tr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Cr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Nr(e){return"".concat(Math.round(e),"ms")}var Ar={easing:Tr,duration:Cr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?Cr.standard:n,i=t.easing,a=void 0===i?Tr.easeInOut:i,o=t.delay,u=void 0===o?0:o;f(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:Nr(r)," ").concat(a," ").concat("string"===typeof u?u:Nr(u))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},Rr={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Pr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,i=void 0===r?{}:r,a=e.palette,o=void 0===a?{}:a,u=e.spacing,s=e.typography,c=void 0===s?{}:s,l=f(e,["breakpoints","mixins","palette","spacing","typography"]),h=or(o),d=Un(n),p=Sr(u),v=Sn({breakpoints:d,direction:"ltr",mixins:jn(d,p,i),overrides:{},palette:h,props:{},shadows:dr,typography:fr(h,c),spacing:p,shape:pr,transitions:Ar,zIndex:Rr},l),y=arguments.length,m=new Array(y>1?y-1:0),g=1;g<y;g++)m[g-1]=arguments[g];return v=m.reduce((function(e,t){return Sn(e,t)}),v)}var Or=Pr();var Dr=function(e,t){return Mn(e,c({defaultTheme:Or},t))};function Lr(e){if("string"!==typeof e)throw new Error(zn(7));return e.charAt(0).toUpperCase()+e.slice(1)}var Mr=t.forwardRef((function(e,n){var r=e.children,i=e.classes,a=e.className,o=e.color,u=void 0===o?"inherit":o,s=e.component,l=void 0===s?"svg":s,h=e.fontSize,p=void 0===h?"medium":h,v=e.htmlColor,y=e.titleAccess,m=e.viewBox,g=void 0===m?"0 0 24 24":m,k=f(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return t.createElement(l,c({className:d(i.root,a,"inherit"!==u&&i["color".concat(Lr(u))],"default"!==p&&"medium"!==p&&i["fontSize".concat(Lr(p))]),focusable:"false",viewBox:g,color:v,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:n},k),r,y?t.createElement("title",null,y):null)}));Mr.muiName="SvgIcon";var Fr=Dr((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(Mr);function Ur(e,n){var r=function(n,r){return t.createElement(Fr,c({ref:r},n),e)};return r.muiName=Fr.muiName,t.memo(t.forwardRef(r))}var Vr=Ur(t.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));var jr=t.forwardRef((function(e,n){var r=e.alt,i=e.children,a=e.classes,o=e.className,u=e.component,s=void 0===u?"div":u,l=e.imgProps,h=e.sizes,p=e.src,v=e.srcSet,y=e.variant,m=void 0===y?"circular":y,g=f(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),k=null,b=function(e){var n=e.src,r=e.srcSet,i=t.useState(!1),a=i[0],o=i[1];return t.useEffect((function(){if(n||r){o(!1);var e=!0,t=new Image;return t.src=n,t.srcSet=r,t.onload=function(){e&&o("loaded")},t.onerror=function(){e&&o("error")},function(){e=!1}}}),[n,r]),a}({src:p,srcSet:v}),w=p||v,x=w&&"error"!==b;return k=x?t.createElement("img",c({alt:r,src:p,srcSet:v,sizes:h,className:a.img},l)):null!=i?i:w&&r?r[0]:t.createElement(Vr,{className:a.fallback}),t.createElement(s,c({className:d(a.root,a.system,a[m],o,!x&&a.colorDefault),ref:n},g),k)})),zr=Dr((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(jr),qr=Ur(t.createElement(t.Fragment,null,t.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),t.createElement("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"}))),Br=Ur(t.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})),Kr=Ur(t.createElement("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"})),Wr=n(184),Hr=(0,t.createContext)(),Gr=function(e){var n=e.reducer,r=e.initialState,i=e.children;return(0,Wr.jsx)(Hr.Provider,{value:(0,t.useReducer)(n,r),children:i})},Qr=function(){return(0,t.useContext)(Hr)};var $r=function(){var e=s(Qr(),1)[0].user;return(0,Wr.jsxs)("div",{className:"header",children:[(0,Wr.jsxs)("div",{className:"header__left",children:[(0,Wr.jsx)(zr,{className:"header__avatar",src:null===e||void 0===e?void 0:e.photoURL,alt:null===e||void 0===e?void 0:e.displayName}),(0,Wr.jsx)(qr,{})]}),(0,Wr.jsxs)("div",{className:"header__search",children:[(0,Wr.jsx)(Br,{}),(0,Wr.jsx)("input",{type:"text",placeholder:"Search Clever Programmer"})]}),(0,Wr.jsx)("div",{className:"header__right",children:(0,Wr.jsx)(Kr,{})})]})},Yr=Ur(t.createElement("circle",{cx:"12",cy:"12",r:"8"})),Jr=Ur(t.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})),Xr=Ur(t.createElement("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"})),Zr=Ur(t.createElement("path",{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10z"})),ei=Ur(t.createElement("path",{d:"M21.99 8c0-.72-.37-1.35-.94-1.7L12 1 2.95 6.3C2.38 6.65 2 7.28 2 8v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2l-.01-10zM12 13L3.74 7.84 12 3l8.26 4.84L12 13z"})),ti=Ur(t.createElement("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z"})),ni=Ur(t.createElement(t.Fragment,null,t.createElement("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87z"}),t.createElement("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"}),t.createElement("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24zM9 13c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"}))),ri=Ur(t.createElement("path",{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"})),ii=Ur(t.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"})),ai=Ur(t.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"})),oi=Ur(t.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})),ui=Ur(t.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}));function si(e){return"/"===e.charAt(0)}function ci(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var li=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&si(e),o=t&&si(t),u=a||o;if(e&&si(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var s=i[i.length-1];n="."===s||".."===s||""===s}else n=!1;for(var c=0,l=i.length;l>=0;l--){var f=i[l];"."===f?ci(i,l):".."===f?(ci(i,l),c++):c&&(ci(i,l),c--)}if(!u)for(;c--;c)i.unshift("..");!u||""===i[0]||i[0]&&si(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h},fi="Invariant failed";function hi(e,t){if(!e)throw new Error(fi)}function di(e){return"/"===e.charAt(0)?e:"/"+e}function pi(e){return"/"===e.charAt(0)?e.substr(1):e}function vi(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function yi(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function mi(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function gi(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=c({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=li(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function ki(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var bi=!("undefined"===typeof window||!window.document||!window.document.createElement);function wi(e,t){t(window.confirm(e))}var xi="popstate",_i="hashchange";function Ii(){try{return window.history.state||{}}catch(e){return{}}}function Ei(e){void 0===e&&(e={}),bi||hi(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,u=i.getUserConfirmation,s=void 0===u?wi:u,l=i.keyLength,f=void 0===l?6:l,h=e.basename?yi(di(e.basename)):"";function d(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return h&&(a=vi(a,h)),gi(a,r,n)}function p(){return Math.random().toString(36).substr(2,f)}var v=ki();function y(e){c(C,e),C.length=t.length,v.notifyListeners(C.location,C.action)}function m(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||b(d(e.state))}function g(){b(d(Ii()))}var k=!1;function b(e){if(k)k=!1,y();else{v.confirmTransitionTo(e,"POP",s,(function(t){t?y({action:"POP",location:e}):function(e){var t=C.location,n=x.indexOf(t.key);-1===n&&(n=0);var r=x.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(k=!0,I(i))}(e)}))}}var w=d(Ii()),x=[w.key];function _(e){return h+mi(e)}function I(e){t.go(e)}var E=0;function S(e){1===(E+=e)&&1===e?(window.addEventListener(xi,m),r&&window.addEventListener(_i,g)):0===E&&(window.removeEventListener(xi,m),r&&window.removeEventListener(_i,g))}var T=!1;var C={length:t.length,action:"POP",location:w,createHref:_,push:function(e,r){var i="PUSH",a=gi(e,r,p(),C.location);v.confirmTransitionTo(a,i,s,(function(e){if(e){var r=_(a),u=a.key,s=a.state;if(n)if(t.pushState({key:u,state:s},null,r),o)window.location.href=r;else{var c=x.indexOf(C.location.key),l=x.slice(0,c+1);l.push(a.key),x=l,y({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=gi(e,r,p(),C.location);v.confirmTransitionTo(a,i,s,(function(e){if(e){var r=_(a),u=a.key,s=a.state;if(n)if(t.replaceState({key:u,state:s},null,r),o)window.location.replace(r);else{var c=x.indexOf(C.location.key);-1!==c&&(x[c]=a.key),y({action:i,location:a})}else window.location.replace(r)}}))},go:I,goBack:function(){I(-1)},goForward:function(){I(1)},block:function(e){void 0===e&&(e=!1);var t=v.setPrompt(e);return T||(S(1),T=!0),function(){return T&&(T=!1,S(-1)),t()}},listen:function(e){var t=v.appendListener(e);return S(1),function(){S(-1),t()}}};return C}var Si="hashchange",Ti={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+pi(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:pi,decodePath:di},slash:{encodePath:di,decodePath:di}};function Ci(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function Ni(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function Ai(e){window.location.replace(Ci(window.location.href)+"#"+e)}function Ri(e){void 0===e&&{},bi||hi(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?wi:r,a=n.hashType,o=void 0===a?"slash":a,u=e.basename?yi(di(e.basename)):"",s=Ti[o],l=s.encodePath,f=s.decodePath;function h(){var e=f(Ni());return u&&vi(e,u),gi(e)}var d=ki();function p(e){c(S,e),S.length=t.length,d.notifyListeners(S.location,S.action)}var v=!1,y=null;function m(){var e,t,n=Ni(),r=l(n);if(n!==r)Ai(r);else{var a=h(),o=S.location;if(!v&&(a,o.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(y===mi(a))return;null,function(e){if(v)!1,p();else{var t="POP";d.confirmTransitionTo(e,t,i,(function(n){n?p({action:t,location:e}):function(e){var t=S.location,n=w.lastIndexOf(mi(t));-1===n&&0;var r=w.lastIndexOf(mi(e));-1===r&&0;var i=n-r;i&&(!0,x(i))}(e)}))}}(a)}}var g=Ni(),k=l(g);g!==k&&Ai(k);var b=h(),w=[mi(b)];function x(e){t.go(e)}var _=0;function I(e){1===(_+=e)&&1===e?window.addEventListener(Si,m):0===_&&window.removeEventListener(Si,m)}var E=!1;var S={length:t.length,action:"POP",location:b,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&Ci(window.location.href),n+"#"+l(u+mi(e))},push:function(e,t){var n="PUSH",r=gi(e,void 0,void 0,S.location);d.confirmTransitionTo(r,n,i,(function(e){if(e){var t=mi(r),i=l(u+t);if(Ni()!==i){t,function(e){window.location.hash=e}(i);var a=w.lastIndexOf(mi(S.location)),o=w.slice(0,a+1);o.push(t),o,p({action:n,location:r})}else p()}}))},replace:function(e,t){var n="REPLACE",r=gi(e,void 0,void 0,S.location);d.confirmTransitionTo(r,n,i,(function(e){if(e){var t=mi(r),i=l(u+t);Ni()!==i&&(t,Ai(i));var a=w.indexOf(mi(S.location));-1!==a&&(w[a]=t),p({action:n,location:r})}}))},go:x,goBack:function(){x(-1)},goForward:function(){x(1)},block:function(e){void 0===e&&!1;var t=d.setPrompt(e);return E||(I(1),!0),function(){return E&&(!1,I(-1)),t()}},listen:function(e){var t=d.appendListener(e);return I(1),function(){I(-1),t()}}};return S}function Pi(e,t,n){return Math.min(Math.max(e,t),n)}function Oi(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,o=void 0===a?0:a,u=t.keyLength,s=void 0===u?6:u,l=ki();function f(e){c(m,e),m.length=m.entries.length,l.notifyListeners(m.location,m.action)}function h(){return Math.random().toString(36).substr(2,s)}var d=Pi(o,0,i.length-1),p=i.map((function(e){return gi(e,void 0,"string"===typeof e?h():e.key||h())})),v=mi;function y(e){var t=Pi(m.index+e,0,m.entries.length-1),r=m.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var m={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=gi(e,t,h(),m.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=m.index+1,n=m.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=gi(e,t,h(),m.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(m.entries[m.index]=i,f({action:r,location:i}))}))},go:y,goBack:function(){y(-1)},goForward:function(){y(1)},canGo:function(e){var t=m.index+e;return t>=0&&t<m.entries.length},block:function(e){return void 0===e&&!1,l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return m}var Di=n(7),Li=n.n(Di),Mi=1073741823,Fi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function Ui(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var Vi=t.createContext||function(e,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return Fi[e]=(Fi[e]||0)+1}()+"__",o=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=Ui(t.props.value),t}w(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):Mi,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((r={})[a]=Li().object.isRequired,r);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}w(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?Mi:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?Mi:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[a]=Li().object,i),{Provider:o,Consumer:u}},ji=Vi,zi=n(239),qi=n.n(zi),Bi=(n(441),function(e){var t=ji();return t.displayName=e,t}),Ki=Bi("Router-History"),Wi=Bi("Router"),Hi=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}w(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(Wi.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(Ki.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var Gi={},Qi=0;function $i(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Gi[n]||(Gi[n]={});if(r[e])return r[e];var i=[],a={regexp:qi()(e,i,t),keys:i};return Qi<1e4&&(r[e]=a,Qi++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var Yi=function(e){function n(){return e.apply(this,arguments)||this}return w(n,e),n.prototype.render=function(){var e=this;return t.createElement(Wi.Consumer,null,(function(n){n||hi(!1);var r=e.props.location||n.location,i=c({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?$i(r.pathname,e.props):n.match}),a=e.props,o=a.children,u=a.component,s=a.render;return Array.isArray(o)&&function(e){return 0===t.Children.count(e)}(o)&&(o=null),t.createElement(Wi.Provider,{value:i},i.match?o?"function"===typeof o?o(i):o:u?t.createElement(u,i):s?s(i):null:"function"===typeof o?o(i):null)}))},n}(t.Component);function Ji(e){return"/"===e.charAt(0)?e:"/"+e}function Xi(e,t){if(!e)return t;var n=Ji(e);return 0!==t.pathname.indexOf(n)?t:c({},t,{pathname:t.pathname.substr(n.length)})}function Zi(e){return"string"===typeof e?e:mi(e)}function ea(e){return function(){hi(!1)}}function ta(){}t.Component;var na=function(e){function n(){return e.apply(this,arguments)||this}return w(n,e),n.prototype.render=function(){var e=this;return t.createElement(Wi.Consumer,null,(function(n){n||hi(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var o=e.props.path||e.props.from;i=o?$i(a.pathname,c({},e.props,{path:o})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);var ra=t.useContext;function ia(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aa(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function oa(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function ua(e){return ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ua(e)}function sa(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ca(e,t){if(t&&("object"===In(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function la(e){var t=sa();return function(){var n,r=ua(e);if(t){var i=ua(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ca(this,n)}}function fa(e,t,n){return fa=sa()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&b(i,n.prototype),i},fa.apply(null,arguments)}function ha(e){var t="function"===typeof Map?new Map:void 0;return ha=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return fa(e,arguments,ua(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),b(n,e)},ha(e)}var da=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},pa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(da(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},va=function(e){var t=da(e);return pa.encodeByteArray(t,!0)},ya=function(e){return va(e).replace(/\./g,"")},ma=function(e){try{return pa.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ga(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&ka(n)&&(e[n]=ga(e[n],t[n]));return e}function ka(e){return"__proto__"!==e}var ba=function(){function e(){var t=this;ia(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return k(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function wa(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ya(JSON.stringify({alg:"none",type:"JWT"})),ya(JSON.stringify(a)),""].join(".")}function xa(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _a(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xa())}function Ia(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Ea(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Sa(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ta(){var e=xa();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ca(){return"object"===typeof indexedDB}var Na=function(e){oa(n,e);var t=la(n);function n(e,r,i){var a;return ia(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(x(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(a),Aa.prototype.create),a}return k(n)}(ha(Error)),Aa=function(){function e(t,n,r){ia(this,e),this.service=t,this.serviceName=n,this.errors=r}return k(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ra(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Na(n,a,t);return o}}]),e}();function Ra(e,t){return e.replace(Pa,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Pa=/\{\$([^}]+)}/g;function Oa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Da(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(La(u)&&La(s)){if(!Da(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function La(e){return null!==e&&"object"===typeof e}function Ma(e){for(var t=[],n=function(){var e=s(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Fa(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=s(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ua(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Va(e,t){var n=new ja(e,t);return n.subscribe.bind(n)}var ja=function(){function e(t,n){var r=this;ia(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return k(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=aa(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=za),void 0===r.error&&(r.error=za),void 0===r.complete&&(r.complete=za);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function za(){}function qa(e){return e&&e._delegate?e._delegate:e}function Ba(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Ka(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ba(a,r,i,o,u,"next",e)}function u(e){Ba(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Wa=n(757),Ha=n.n(Wa),Ga=function(){function e(t,n,r){ia(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return k(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Qa="[DEFAULT]",$a=function(){function e(t,n){ia(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return k(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ba;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Qa})}catch(c){}var t,n=aa(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ka(Wa.mark((function e(){var t;return Wa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(mt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),mt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=aa(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=s(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=aa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(UC){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Qa?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(UC){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa;return this.component?this.component.multipleInstances?e:Qa:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ya,Ja,Xa=function(){function e(t){ia(this,e),this.name=t,this.providers=new Map}return k(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new $a(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Za=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ja||(Ja={}));var eo={debug:Ja.DEBUG,verbose:Ja.VERBOSE,info:Ja.INFO,warn:Ja.WARN,error:Ja.ERROR,silent:Ja.SILENT},to=Ja.INFO,no=(Vn(Ya={},Ja.DEBUG,"log"),Vn(Ya,Ja.VERBOSE,"log"),Vn(Ya,Ja.INFO,"info"),Vn(Ya,Ja.WARN,"warn"),Vn(Ya,Ja.ERROR,"error"),Ya),ro=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=no[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},io=function(){function e(t){ia(this,e),this.name=t,this._logLevel=to,this._logHandler=ro,this._userLogHandler=null,Za.push(this)}return k(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ja))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?eo[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ja.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ja.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ja.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ja.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ja.INFO].concat(t)),this._logHandler.apply(this,[this,Ja.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ja.WARN].concat(t)),this._logHandler.apply(this,[this,Ja.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ja.ERROR].concat(t)),this._logHandler.apply(this,[this,Ja.ERROR].concat(t))}}]),e}();var ao,oo,uo=n(753),so=function(){function e(t){ia(this,e),this.container=t}return k(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var co="@firebase/app",lo="0.7.18",fo=new io("@firebase/app"),ho="[DEFAULT]",po=(Vn(ao={},co,"fire-core"),Vn(ao,"@firebase/app-compat","fire-core-compat"),Vn(ao,"@firebase/analytics","fire-analytics"),Vn(ao,"@firebase/analytics-compat","fire-analytics-compat"),Vn(ao,"@firebase/app-check","fire-app-check"),Vn(ao,"@firebase/app-check-compat","fire-app-check-compat"),Vn(ao,"@firebase/auth","fire-auth"),Vn(ao,"@firebase/auth-compat","fire-auth-compat"),Vn(ao,"@firebase/database","fire-rtdb"),Vn(ao,"@firebase/database-compat","fire-rtdb-compat"),Vn(ao,"@firebase/functions","fire-fn"),Vn(ao,"@firebase/functions-compat","fire-fn-compat"),Vn(ao,"@firebase/installations","fire-iid"),Vn(ao,"@firebase/installations-compat","fire-iid-compat"),Vn(ao,"@firebase/messaging","fire-fcm"),Vn(ao,"@firebase/messaging-compat","fire-fcm-compat"),Vn(ao,"@firebase/performance","fire-perf"),Vn(ao,"@firebase/performance-compat","fire-perf-compat"),Vn(ao,"@firebase/remote-config","fire-rc"),Vn(ao,"@firebase/remote-config-compat","fire-rc-compat"),Vn(ao,"@firebase/storage","fire-gcs"),Vn(ao,"@firebase/storage-compat","fire-gcs-compat"),Vn(ao,"@firebase/firestore","fire-fst"),Vn(ao,"@firebase/firestore-compat","fire-fst-compat"),Vn(ao,"fire-js","fire-js"),Vn(ao,"firebase","fire-js-all"),ao),vo=new Map,yo=new Map;function mo(e,t){try{e.container.addComponent(t)}catch(n){fo.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function go(e,t){e.container.addOrOverwriteComponent(t)}function ko(e){var t=e.name;if(yo.has(t))return fo.debug("There were multiple attempts to register component ".concat(t,".")),!1;yo.set(t,e);var n,r=aa(vo.values());try{for(r.s();!(n=r.n()).done;){mo(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function bo(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function wo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ho;bo(e,t).clearInstance(n)}function xo(){yo.clear()}var _o=(Vn(oo={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Vn(oo,"bad-app-name","Illegal App name: '{$appName}"),Vn(oo,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Vn(oo,"app-deleted","Firebase App named '{$appName}' already deleted"),Vn(oo,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Vn(oo,"invalid-log-argument","First argument to `onLog` must be null or a function."),Vn(oo,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Vn(oo,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Vn(oo,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Vn(oo,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),oo),Io=new Aa("app","Firebase",_o),Eo=function(){function e(t,n,r){var i=this;ia(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ga("app",(function(){return i}),"PUBLIC"))}return k(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Io.create("app-deleted",{appName:this._name})}}]),e}(),So="9.6.8";function To(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:ho,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Io.create("bad-app-name",{appName:String(i)});var a=vo.get(i);if(a){if(Da(e,a.options)&&Da(r,a.config))return a;throw Io.create("duplicate-app",{appName:i})}var o,u=new Xa(i),s=aa(yo.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Eo(e,r,u);return vo.set(i,l),l}function Co(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ho,t=vo.get(e);if(!t)throw Io.create("no-app",{appName:e});return t}function No(){return Array.from(vo.values())}function Ao(e){return Ro.apply(this,arguments)}function Ro(){return Ro=Ka(Wa.mark((function e(t){var n;return Wa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!vo.has(n)){e.next=6;break}return vo.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Ro.apply(this,arguments)}function Po(e,t,n){var r,i=null!==(r=po[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void fo.warn(u.join(" "))}ko(new Ga("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Oo(e,t){if(null!==e&&"function"!==typeof e)throw Io.create("invalid-log-argument");!function(e,t){var n,r=aa(Za);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=eo[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ja[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Do(e){var t;t=e,Za.forEach((function(e){e.setLogLevel(t)}))}var Lo="firebase-heartbeat-store",Mo=null;function Fo(){return Mo||(Mo=(0,uo.openDb)("firebase-heartbeat-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(Lo)})).catch((function(e){throw Io.create("storage-open",{originalErrorMessage:e.message})}))),Mo}function Uo(e){return Vo.apply(this,arguments)}function Vo(){return Vo=Ka(Wa.mark((function e(t){var n;return Wa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fo();case 3:return n=e.sent,e.abrupt("return",n.transaction(Lo).objectStore(Lo).get(Ko(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Io.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Vo.apply(this,arguments)}function jo(e,t){return zo.apply(this,arguments)}function zo(){return zo=Ka(Wa.mark((function e(t,n){var r,i,a;return Wa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fo();case 3:return r=e.sent,i=r.transaction(Lo,"readwrite"),a=i.objectStore(Lo),e.next=8,a.put(n,Ko(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),Io.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),zo.apply(this,arguments)}function qo(e){return Bo.apply(this,arguments)}function Bo(){return Bo=Ka(Wa.mark((function e(t){var n,r;return Wa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fo();case 3:return n=e.sent,r=n.transaction(Lo,"readwrite"),e.next=7,r.objectStore(Lo).delete(Ko(t));case 7:return e.abrupt("return",r.complete);case 10:throw e.prev=10,e.t0=e.catch(0),Io.create("storage-delete",{originalErrorMessage:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Bo.apply(this,arguments)}function Ko(e){return"".concat(e.name,"!").concat(e.options.appId)}var Wo=function(){function e(t){var n=this;ia(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Yo(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return k(e,[{key:"triggerHeartbeat",value:function(){var e=Ka(Wa.mark((function e(){var t,n,r;return Wa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ho(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(!this._heartbeatsCache.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.push({date:r,userAgent:n});case 12:return this._heartbeatsCache=this._heartbeatsCache.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ka(Wa.mark((function e(){var t,n,r,i;return Wa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache){e.next=5;break}return e.abrupt("return","");case 5:if(t=Go(this._heartbeatsCache),n=t.heartbeatsToSend,r=t.unsentEntries,i=va(JSON.stringify({version:2,heartbeats:n})),!(r.length>0)){e.next=13;break}return this._heartbeatsCache=r,e.next=11,this._storage.overwrite(this._heartbeatsCache);case 11:e.next=15;break;case 13:this._heartbeatsCache=null,this._storage.deleteAll();case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ho(){return(new Date).toISOString().substring(0,10)}function Go(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=aa(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.userAgent===e.userAgent}));if(a){if(a.dates.push(e.date),Jo(r)>n)return a.dates.pop(),"break"}else if(r.push({userAgent:e.userAgent,dates:[e.date]}),Jo(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Qo,$o,Yo=function(){function e(t){ia(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return k(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ka(Wa.mark((function e(){return Wa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ca()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ka(Wa.mark((function e(){var t;return Wa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",[]);case 7:return e.next=9,Uo(this.app);case 9:return t=e.sent,e.abrupt("return",(null===t||void 0===t?void 0:t.heartbeats)||[]);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ka(Wa.mark((function e(t){return Wa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("return",jo(this.app,{heartbeats:t}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ka(Wa.mark((function e(t){var n;return Wa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return n=e.sent,e.abrupt("return",jo(this.app,{heartbeats:[].concat(mt(n),mt(t))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ka(Wa.mark((function e(t){var n;return Wa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return n=e.sent,e.abrupt("return",jo(this.app,{heartbeats:n.filter((function(e){return!t.includes(e)}))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteAll",value:function(){var e=Ka(Wa.mark((function e(){return Wa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("return",qo(this.app));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Jo(e){return va(JSON.stringify({version:2,heartbeats:e})).length}Qo="",ko(new Ga("platform-logger",(function(e){return new so(e)}),"PRIVATE")),ko(new Ga("heartbeat",(function(e){return new Wo(e)}),"PRIVATE")),Po(co,lo,Qo),Po(co,lo,"esm2017"),Po("fire-js","");var Xo=function(){function e(t,n){var r=this;ia(this,e),this._delegate=t,this.firebase=n,mo(t,new Ga("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return k(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ao(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ho;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ho;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){mo(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){go(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Zo=(Vn($o={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Vn($o,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),$o),eu=new Aa("app-compat","Firebase",Zo);var tu=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=To(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Oa(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Po,setLogLevel:Do,onLog:Oo,apps:null,SDK_VERSION:So,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ko(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw eu.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ga(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Oa(n,e=e||ho))throw eu.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Xo);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ga(n,e)},createSubscribe:Va,ErrorFactory:Aa,deepExtend:ga}),n}(),nu=new io("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){nu.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ru=self.firebase.SDK_VERSION;ru&&ru.indexOf("LITE")>=0&&nu.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var iu=tu;!function(e){Po("@firebase/app-compat","0.1.19",e)}();function au(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ua(e)););return e}function ou(){return ou="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=au(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ou.apply(this,arguments)}iu.registerVersion("firebase","9.6.8","app-compat");function uu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var su;Object.create;var cu="facebook.com",lu="github.com",fu="google.com",hu="password",du="twitter.com",pu="EMAIL_SIGNIN",vu="PASSWORD_RESET",yu="RECOVER_EMAIL",mu="REVERT_SECOND_FACTOR_ADDITION",gu="VERIFY_AND_CHANGE_EMAIL",ku="VERIFY_EMAIL";function bu(){return Vn({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var wu=function(){var e;return Vn(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Vn(e,"argument-error",""),Vn(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Vn(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Vn(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Vn(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Vn(e,"cordova-not-ready","Cordova framework is not ready."),Vn(e,"cors-unsupported","This browser is not supported."),Vn(e,"credential-already-in-use","This credential is already associated with a different user account."),Vn(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Vn(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Vn(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Vn(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Vn(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Vn(e,"email-already-in-use","The email address is already in use by another account."),Vn(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Vn(e,"expired-action-code","The action code has expired."),Vn(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Vn(e,"internal-error","An internal AuthError has occurred."),Vn(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Vn(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Vn(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Vn(e,"invalid-auth-event","An internal AuthError has occurred."),Vn(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Vn(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Vn(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Vn(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Vn(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Vn(e,"invalid-email","The email address is badly formatted."),Vn(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Vn(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Vn(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Vn(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Vn(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Vn(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Vn(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Vn(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Vn(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Vn(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Vn(e,"wrong-password","The password is invalid or the user does not have a password."),Vn(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Vn(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Vn(e,"invalid-provider-id","The specified provider ID is invalid."),Vn(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Vn(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Vn(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Vn(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Vn(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Vn(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Vn(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Vn(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Vn(e,"missing-continue-uri","A continue URL must be provided in the request."),Vn(e,"missing-iframe-start","An internal AuthError has occurred."),Vn(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Vn(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Vn(e,"missing-multi-factor-info","No second factor identifier is provided."),Vn(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Vn(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Vn(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Vn(e,"app-deleted","This instance of FirebaseApp has been deleted."),Vn(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Vn(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Vn(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Vn(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Vn(e,"no-auth-event","An internal AuthError has occurred."),Vn(e,"no-such-provider","User was not linked to an account with the given provider."),Vn(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Vn(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Vn(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Vn(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Vn(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Vn(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Vn(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Vn(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Vn(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Vn(e,"rejected-credential","The request contains malformed or mismatching credentials."),Vn(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Vn(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Vn(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Vn(e,"timeout","The operation has timed out."),Vn(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Vn(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Vn(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Vn(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Vn(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Vn(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Vn(e,"unverified-email","The operation requires a verified email."),Vn(e,"user-cancelled","The user did not grant your application the permissions it requested."),Vn(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Vn(e,"user-disabled","The user account has been disabled by an administrator."),Vn(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Vn(e,"user-signed-out",""),Vn(e,"weak-password","The password must be 6 characters long or more."),Vn(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Vn(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},xu=bu,_u=new Aa("auth","Firebase",bu()),Iu=new io("@firebase/auth");function Eu(e){if(Iu.logLevel<=Ja.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Iu.error.apply(Iu,["Auth (".concat(So,"): ").concat(e)].concat(n))}}function Su(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Au.apply(void 0,[e].concat(n))}function Tu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Au.apply(void 0,[e].concat(n))}function Cu(e,t,n){var r=Object.assign(Object.assign({},xu()),Vn({},t,n));return new Aa("auth","Firebase",r).create(t,{appName:e.name})}function Nu(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Su(e,"argument-error"),Cu(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Au(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=mt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(mt(o)))}return _u.create.apply(_u,[e].concat(n))}function Ru(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Au.apply(void 0,[t].concat(r))}}function Pu(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Eu(t),new Error(t)}function Ou(e,t){e||Pu(t)}var Du=new Map;function Lu(e){Ou(e instanceof Function,"Expected a class definition");var t=Du.get(e);return t?(Ou(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Du.set(e,t),t)}function Mu(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Fu(){return"http:"===Uu()||"https:"===Uu()}function Uu(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Vu=function(){function e(t,n){ia(this,e),this.shortDelay=t,this.longDelay=n,Ou(n>t,"Short delay should be less than long delay!"),this.isMobile=_a()||Sa()}return k(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Fu()||Ea()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ju(e,t){Ou(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var zu=function(){function e(){ia(this,e)}return k(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Pu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Pu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Pu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),qu=(Vn(su={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Vn(su,"MISSING_CUSTOM_TOKEN","internal-error"),Vn(su,"INVALID_IDENTIFIER","invalid-email"),Vn(su,"MISSING_CONTINUE_URI","internal-error"),Vn(su,"INVALID_PASSWORD","wrong-password"),Vn(su,"MISSING_PASSWORD","internal-error"),Vn(su,"EMAIL_EXISTS","email-already-in-use"),Vn(su,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Vn(su,"INVALID_IDP_RESPONSE","invalid-credential"),Vn(su,"INVALID_PENDING_TOKEN","invalid-credential"),Vn(su,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Vn(su,"MISSING_REQ_TYPE","internal-error"),Vn(su,"EMAIL_NOT_FOUND","user-not-found"),Vn(su,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Vn(su,"EXPIRED_OOB_CODE","expired-action-code"),Vn(su,"INVALID_OOB_CODE","invalid-action-code"),Vn(su,"MISSING_OOB_CODE","internal-error"),Vn(su,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Vn(su,"INVALID_ID_TOKEN","invalid-user-token"),Vn(su,"TOKEN_EXPIRED","user-token-expired"),Vn(su,"USER_NOT_FOUND","user-token-expired"),Vn(su,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Vn(su,"INVALID_CODE","invalid-verification-code"),Vn(su,"INVALID_SESSION_INFO","invalid-verification-id"),Vn(su,"INVALID_TEMPORARY_PROOF","invalid-credential"),Vn(su,"MISSING_SESSION_INFO","missing-verification-id"),Vn(su,"SESSION_EXPIRED","code-expired"),Vn(su,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Vn(su,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Vn(su,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Vn(su,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Vn(su,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Vn(su,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Vn(su,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Vn(su,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Vn(su,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Vn(su,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Vn(su,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),su),Bu=new Vu(3e4,6e4);function Ku(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Wu(e,t,n,r){return Hu.apply(this,arguments)}function Hu(){return Hu=Ka(Ha().mark((function e(t,n,r,i){var a,o=arguments;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Gu(t,a,Ka(Ha().mark((function e(){var a,o,u,s;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Ma(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",zu.fetch()(Ju(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Hu.apply(this,arguments)}function Gu(e,t,n){return Qu.apply(this,arguments)}function Qu(){return Qu=Ka(Ha().mark((function e(t,n,r){var i,a,o,u,c,l,f,h,d,p;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},qu),n),e.prev=2,a=new Xu(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Zu(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=o.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=s(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Zu(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw Zu(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw Cu(t,p,d);case 30:Su(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Na)){e.next=37;break}throw e.t0;case 37:Su(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Qu.apply(this,arguments)}function $u(e,t,n,r){return Yu.apply(this,arguments)}function Yu(){return Yu=Ka(Ha().mark((function e(t,n,r,i){var a,o,u=arguments;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Wu(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Su(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Yu.apply(this,arguments)}function Ju(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ju(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Xu=function(){function e(t){var n=this;ia(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Tu(n.auth,"network-request-failed"))}),Bu.get())}))}return k(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Zu(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Tu(e,t,r);return i.customData._tokenResponse=n,i}function es(e,t){return ts.apply(this,arguments)}function ts(){return ts=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wu(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}function ns(e,t){return rs.apply(this,arguments)}function rs(){return rs=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wu(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}function is(e,t){return as.apply(this,arguments)}function as(){return as=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wu(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),as.apply(this,arguments)}function os(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function us(){return us=Ka(Ha().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=qa(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ru((a=cs(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:os(ss(a.auth_time)),issuedAtTime:os(ss(a.iat)),expirationTime:os(ss(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),us.apply(this,arguments)}function ss(e){return 1e3*Number(e)}function cs(e){var t=s(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Eu("JWT malformed, contained fewer than 3 sections"),null;try{var a=ma(r);return a?JSON.parse(a):(Eu("Failed to decode base64 JWT payload"),null)}catch(o){return Eu("Caught error parsing JWT payload as JSON",o),null}}function ls(e,t){return fs.apply(this,arguments)}function fs(){return fs=Ka(Ha().mark((function e(t,n){var r=arguments;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Na&&hs(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),fs.apply(this,arguments)}function hs(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ds=function(){function e(t){ia(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return k(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ka(Ha().mark((function t(){return Ha().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ps=function(){function e(t,n){ia(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return k(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=os(this.lastLoginAt),this.creationTime=os(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function vs(e){return ys.apply(this,arguments)}function ys(){return ys=Ka(Ha().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ls(t,is(r,{idToken:i}));case 6:Ru(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?ks(o.providerUserInfo):[],s=gs(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new ps(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ys.apply(this,arguments)}function ms(){return(ms=Ka(Ha().mark((function e(t){var n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qa(t),e.next=3,vs(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gs(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(mt(n),mt(t))}function ks(e){return e.map((function(e){var t=e.providerId,n=uu(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function bs(e,t){return ws.apply(this,arguments)}function ws(){return ws=Ka(Ha().mark((function e(t,n){var r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gu(t,{},Ka(Ha().mark((function e(){var r,i,a,o,u,s;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ma({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ju(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",zu.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ws.apply(this,arguments)}var xs=function(){function e(){ia(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return k(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ru(e.idToken,"internal-error"),Ru("undefined"!==typeof e.idToken,"internal-error"),Ru("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=cs(e);return Ru(t,"internal-error"),Ru("undefined"!==typeof t.exp,"internal-error"),Ru("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ka(Ha().mark((function e(t){var n,r=arguments;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ru(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ka(Ha().mark((function e(t,n){var r,i,a,o;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bs(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Pu("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ru("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ru("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ru("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function _s(e,t){Ru("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Is=function(){function e(t){ia(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=uu(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ds(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?mt(a.providerData):[],this.metadata=new ps(a.createdAt||void 0,a.lastLoginAt||void 0)}return k(e,[{key:"getIdToken",value:function(){var e=Ka(Ha().mark((function e(t){var n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ls(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ru(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return us.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ms.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ru(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Ru(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ka(Ha().mark((function e(t){var n,r,i=arguments;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,vs(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ka(Ha().mark((function e(){var t;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ls(this,es(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Ru(k&&_,t,"internal-error");var I=xs.fromJSON(this.name,_);Ru("string"===typeof k,t,"internal-error"),_s(f,t.name),_s(h,t.name),Ru("boolean"===typeof b,t,"internal-error"),Ru("boolean"===typeof w,t,"internal-error"),_s(d,t.name),_s(p,t.name),_s(v,t.name),_s(y,t.name),_s(m,t.name),_s(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:m,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),y&&(E._redirectEventId=y),E}},{key:"_fromIdTokenResponse",value:function(){var t=Ka(Ha().mark((function t(n,r){var i,a,o,u=arguments;return Ha().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new xs).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,vs(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Es=function(){function e(){ia(this,e),this.type="NONE",this.storage={}}return k(e,[{key:"_isAvailable",value:function(){var e=Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ka(Ha().mark((function e(t){var n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Es.type="NONE";var Ss=Es;function Ts(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Cs=function(){function e(t,n,r){ia(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ts(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ts("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return k(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ka(Ha().mark((function e(){var t;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Is._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ka(Ha().mark((function e(t){var n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ka(Ha().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Ha().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Lu(Ss),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Lu(Ss),u=Ts(i,n.config.apiKey,n.name),s=null,c=aa(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Is._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ns(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Os(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(As(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ls(t))return"Blackberry";if(Ms(t))return"Webos";if(Rs(t))return"Safari";if((t.includes("chrome/")||Ps(t))&&!t.includes("edge/"))return"Chrome";if(Ds(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function As(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return/firefox\//i.test(e)}function Rs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ps(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return/crios\//i.test(e)}function Os(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return/iemobile/i.test(e)}function Ds(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return/android/i.test(e)}function Ls(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return/blackberry/i.test(e)}function Ms(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return/webos/i.test(e)}function Fs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return/iphone|ipad|ipod/i.test(e)}function Us(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return Fs(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Vs(){return Ta()&&10===document.documentMode}function js(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return Fs(e)||Ds(e)||Ms(e)||Ls(e)||/windows phone/i.test(e)||Os(e)}function zs(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ns(xa());break;case"Worker":t="".concat(Ns(xa()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(So,"/").concat(r)}var qs=function(){function e(t,n){ia(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ks(this),this.idTokenSubscription=new Ks(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_u,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return k(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Lu(t)),this._initializationPromise=this.queue(Ka(Ha().mark((function r(){var i,a;return Ha().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Cs.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ka(Ha().mark((function e(){var t;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ka(Ha().mark((function e(t){var n,r,i,a,o;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Ru(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ka(Ha().mark((function e(t){var n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vs(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ka(Ha().mark((function e(t){var n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?qa(t):null)&&Ru(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ka(Ha().mark((function e(t){var n=this;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Ru(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ka(Ha().mark((function n(){return Ha().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Lu(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Aa("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ka(Ha().mark((function e(t,n){var r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ka(Ha().mark((function e(t){var n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ru(n=t&&Lu(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Cs.create(this,[Lu(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ka(Ha().mark((function e(t){var n,r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ka(Ha().mark((function e(t){var n=this;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ru(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ru(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zs(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ka(Ha().mark((function e(){var t;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Vn({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Bs(e){return qa(e)}var Ks=function(){function e(t){var n=this;ia(this,e),this.auth=t,this.observer=null,this.addObserver=Va((function(e){return n.observer=e}))}return k(e,[{key:"next",get:function(){return Ru(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Ws(e,t,n){var r=Bs(e);Ru(r._canInitEmulator,r,"emulator-config-failed"),Ru(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Hs(t),o=function(e){var t=Hs(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Gs(r.substr(a.length+1))}}var o=s(r.split(":"),2);return{host:o[0],port:Gs(o[1])}}(t),u=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Hs(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Gs(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Qs=function(){function e(t,n){ia(this,e),this.providerId=t,this.signInMethod=n}return k(e,[{key:"toJSON",value:function(){return Pu("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Pu("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Pu("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Pu("not implemented")}}]),e}();function $s(e,t){return Ys.apply(this,arguments)}function Ys(){return Ys=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wu(t,"POST","/v1/accounts:resetPassword",Ku(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ys.apply(this,arguments)}function Js(e,t){return Xs.apply(this,arguments)}function Xs(){return Xs=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wu(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Xs.apply(this,arguments)}function Zs(e,t){return ec.apply(this,arguments)}function ec(){return ec=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wu(t,"POST","/v1/accounts:update",Ku(t,n)));case 1:case"end":return e.stop()}}),e)}))),ec.apply(this,arguments)}function tc(e,t){return nc.apply(this,arguments)}function nc(){return nc=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$u(t,"POST","/v1/accounts:signInWithPassword",Ku(t,n)));case 1:case"end":return e.stop()}}),e)}))),nc.apply(this,arguments)}function rc(e,t){return ic.apply(this,arguments)}function ic(){return ic=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wu(t,"POST","/v1/accounts:sendOobCode",Ku(t,n)));case 1:case"end":return e.stop()}}),e)}))),ic.apply(this,arguments)}function ac(e,t){return oc.apply(this,arguments)}function oc(){return oc=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rc(t,n));case 1:case"end":return e.stop()}}),e)}))),oc.apply(this,arguments)}function uc(e,t){return sc.apply(this,arguments)}function sc(){return sc=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rc(t,n));case 1:case"end":return e.stop()}}),e)}))),sc.apply(this,arguments)}function cc(e,t){return lc.apply(this,arguments)}function lc(){return lc=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rc(t,n));case 1:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}function fc(e,t){return hc.apply(this,arguments)}function hc(){return hc=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rc(t,n));case 1:case"end":return e.stop()}}),e)}))),hc.apply(this,arguments)}function dc(e,t){return pc.apply(this,arguments)}function pc(){return pc=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$u(t,"POST","/v1/accounts:signInWithEmailLink",Ku(t,n)));case 1:case"end":return e.stop()}}),e)}))),pc.apply(this,arguments)}function vc(e,t){return yc.apply(this,arguments)}function yc(){return yc=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$u(t,"POST","/v1/accounts:signInWithEmailLink",Ku(t,n)));case 1:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}var mc=function(e){oa(n,e);var t=la(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ia(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return k(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",tc(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",dc(t,{email:this._email,oobCode:this._password}));case 5:Su(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Js(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",vc(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Su(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Qs);function gc(e,t){return kc.apply(this,arguments)}function kc(){return kc=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$u(t,"POST","/v1/accounts:signInWithIdp",Ku(t,n)));case 1:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}var bc=function(e){oa(n,e);var t=la(n);function n(){var e;return ia(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return k(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return gc(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,gc(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,gc(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ma(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Su("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=uu(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Qs);function wc(e,t){return xc.apply(this,arguments)}function xc(){return xc=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wu(t,"POST","/v1/accounts:sendVerificationCode",Ku(t,n)));case 1:case"end":return e.stop()}}),e)}))),xc.apply(this,arguments)}function _c(){return _c=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$u(t,"POST","/v1/accounts:signInWithPhoneNumber",Ku(t,n)));case 1:case"end":return e.stop()}}),e)}))),_c.apply(this,arguments)}function Ic(){return Ic=Ka(Ha().mark((function e(t,n){var r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$u(t,"POST","/v1/accounts:signInWithPhoneNumber",Ku(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Zu(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Ic.apply(this,arguments)}var Ec=Vn({},"USER_NOT_FOUND","user-not-found");function Sc(){return Sc=Ka(Ha().mark((function e(t,n){var r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",$u(t,"POST","/v1/accounts:signInWithPhoneNumber",Ku(t,r),Ec));case 2:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}var Tc=function(e){oa(n,e);var t=la(n);function n(e){var r;return ia(this,n),(r=t.call(this,"phone","phone")).params=e,r}return k(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return _c.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ic.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Sc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Qs);var Cc=function(){function e(t){var n,r,i,a,o,u;ia(this,e);var s=Fa(Ua(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Ru(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return k(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Fa(Ua(e)).link,n=t?Fa(Ua(t)).deep_link_id:null,r=Fa(Ua(e)).deep_link_id;return(r?Fa(Ua(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(UC){return null}}}]),e}();var Nc=function(){function e(){ia(this,e),this.providerId=e.PROVIDER_ID}return k(e,null,[{key:"credential",value:function(e,t){return mc._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Cc.parseLink(t);return Ru(n,"argument-error"),mc._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Nc.PROVIDER_ID="password",Nc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Nc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ac=function(){function e(t){ia(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return k(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Rc=function(e){oa(n,e);var t=la(n);function n(){var e;return ia(this,n),(e=t.apply(this,arguments)).scopes=[],e}return k(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return mt(this.scopes)}}]),n}(Ac),Pc=function(e){oa(n,e);var t=la(n);function n(){return ia(this,n),t.apply(this,arguments)}return k(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Ru(e.idToken||e.accessToken,"argument-error"),bc._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Ru("providerId"in t&&"signInMethod"in t,"argument-error"),bc._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Rc),Oc=function(e){oa(n,e);var t=la(n);function n(){return ia(this,n),t.call(this,"facebook.com")}return k(n,null,[{key:"credential",value:function(e){return bc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(UC){return null}}}]),n}(Rc);Oc.FACEBOOK_SIGN_IN_METHOD="facebook.com",Oc.PROVIDER_ID="facebook.com";var Dc=function(e){oa(n,e);var t=la(n);function n(){var e;return ia(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return k(n,null,[{key:"credential",value:function(e,t){return bc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(UC){return null}}}]),n}(Rc);Dc.GOOGLE_SIGN_IN_METHOD="google.com",Dc.PROVIDER_ID="google.com";var Lc=function(e){oa(n,e);var t=la(n);function n(){return ia(this,n),t.call(this,"github.com")}return k(n,null,[{key:"credential",value:function(e){return bc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(UC){return null}}}]),n}(Rc);Lc.GITHUB_SIGN_IN_METHOD="github.com",Lc.PROVIDER_ID="github.com";var Mc=function(e){oa(n,e);var t=la(n);function n(e,r){var i;return ia(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return k(n,[{key:"_getIdTokenResponse",value:function(e){return gc(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,gc(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,gc(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Qs),Fc=function(e){oa(n,e);var t=la(n);function n(e){return ia(this,n),Ru(e.startsWith("saml."),"argument-error"),t.call(this,e)}return k(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Mc.fromJSON(e);return Ru(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Mc._create(r,n)}catch(i){return null}}}]),n}(Ac),Uc=function(e){oa(n,e);var t=la(n);function n(){return ia(this,n),t.call(this,"twitter.com")}return k(n,null,[{key:"credential",value:function(e,t){return bc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(UC){return null}}}]),n}(Rc);function Vc(e,t){return jc.apply(this,arguments)}function jc(){return jc=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$u(t,"POST","/v1/accounts:signUp",Ku(t,n)));case 1:case"end":return e.stop()}}),e)}))),jc.apply(this,arguments)}Uc.TWITTER_SIGN_IN_METHOD="twitter.com",Uc.PROVIDER_ID="twitter.com";var zc=function(){function e(t){ia(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return k(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ka(Ha().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Ha().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Is._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=qc(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ka(Ha().mark((function t(n,r,i){var a;return Ha().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=qc(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function qc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Bc(){return Bc=Ka(Ha().mark((function e(t){var n,r,i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bs(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new zc({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Vc(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,zc._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Bc.apply(this,arguments)}var Kc=function(e){oa(n,e);var t=la(n);function n(e,r,i,a){var o,u;return ia(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(x(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return k(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Na);function Wc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Kc._fromErrorAndOperation(e,n,t,r);throw n}))}function Hc(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Gc(e,t){return Qc.apply(this,arguments)}function Qc(){return Qc=Ka(Ha().mark((function e(t,n){var r,i,a,o;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qa(t),e.next=3,Jc(!0,r,n);case 3:return e.t0=ns,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Hc(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Qc.apply(this,arguments)}function $c(e,t){return Yc.apply(this,arguments)}function Yc(){return Yc=Ka(Ha().mark((function e(t,n){var r,i,a=arguments;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ls,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",zc._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}function Jc(e,t,n){return Xc.apply(this,arguments)}function Xc(){return Xc=Ka(Ha().mark((function e(t,n,r){var i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vs(n);case 2:i=Hc(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Ru(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),Xc.apply(this,arguments)}function Zc(e,t){return el.apply(this,arguments)}function el(){return el=Ka(Ha().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ls(t,Wc(i,a,n,t),r);case 6:return Ru((o=e.sent).idToken,i,"internal-error"),Ru(u=cs(o.idToken),i,"internal-error"),s=u.sub,Ru(t.uid===s,i,"user-mismatch"),e.abrupt("return",zc._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Su(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),el.apply(this,arguments)}function tl(e,t){return nl.apply(this,arguments)}function nl(){return nl=Ka(Ha().mark((function e(t,n){var r,i,a,o,u=arguments;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Wc(t,i,n);case 4:return a=e.sent,e.next=7,zc._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),nl.apply(this,arguments)}function rl(e,t){return il.apply(this,arguments)}function il(){return il=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tl(Bs(t),n));case 1:case"end":return e.stop()}}),e)}))),il.apply(this,arguments)}function al(e,t){return ol.apply(this,arguments)}function ol(){return(ol=Ka(Ha().mark((function e(t,n){var r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qa(t),e.next=3,Jc(!1,r,n.providerId);case 3:return e.abrupt("return",$c(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ul(e,t){return sl.apply(this,arguments)}function sl(){return(sl=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zc(qa(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cl(e,t){return ll.apply(this,arguments)}function ll(){return ll=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$u(t,"POST","/v1/accounts:signInWithCustomToken",Ku(t,n)));case 1:case"end":return e.stop()}}),e)}))),ll.apply(this,arguments)}function fl(){return fl=Ka(Ha().mark((function e(t,n){var r,i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bs(t),e.next=3,cl(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,zc._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),fl.apply(this,arguments)}var hl=function(){function e(t,n){ia(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return k(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?dl._fromServerResponse(e,t):Su(e,"internal-error")}}]),e}(),dl=function(e){oa(n,e);var t=la(n);function n(e){var r;return ia(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return k(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(hl);function pl(e,t,n){var r;Ru((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ru("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ru(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ru(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function vl(){return vl=Ka(Ha().mark((function e(t,n,r){var i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qa(t),a={requestType:"PASSWORD_RESET",email:n},r&&pl(i,a,r),e.next=5,uc(i,a);case 5:case"end":return e.stop()}}),e)}))),vl.apply(this,arguments)}function yl(){return yl=Ka(Ha().mark((function e(t,n,r){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$s(qa(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),yl.apply(this,arguments)}function ml(){return ml=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zs(qa(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),ml.apply(this,arguments)}function gl(e,t){return kl.apply(this,arguments)}function kl(){return kl=Ka(Ha().mark((function e(t,n){var r,i,a,o;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qa(t),e.next=3,$s(r,{oobCode:n});case 3:i=e.sent,Ru(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Ru(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Ru(i.mfaInfo,r,"internal-error");case 13:Ru(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=hl._fromServerResponse(Bs(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),kl.apply(this,arguments)}function bl(){return bl=Ka(Ha().mark((function e(t,n){var r,i;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gl(qa(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),bl.apply(this,arguments)}function wl(e,t,n){return xl.apply(this,arguments)}function xl(){return xl=Ka(Ha().mark((function e(t,n,r){var i,a,o;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bs(t),e.next=3,Vc(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,zc._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),xl.apply(this,arguments)}function _l(){return _l=Ka(Ha().mark((function e(t,n,r){var i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qa(t),a={requestType:"EMAIL_SIGNIN",email:n},Ru(r.handleCodeInApp,i,"argument-error"),r&&pl(i,a,r),e.next=6,cc(i,a);case 6:case"end":return e.stop()}}),e)}))),_l.apply(this,arguments)}function Il(){return Il=Ka(Ha().mark((function e(t,n,r){var i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qa(t),Ru((a=Nc.credentialWithLink(n,r||Mu()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",rl(i,a));case 4:case"end":return e.stop()}}),e)}))),Il.apply(this,arguments)}function El(e,t){return Sl.apply(this,arguments)}function Sl(){return Sl=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wu(t,"POST","/v1/accounts:createAuthUri",Ku(t,n)));case 1:case"end":return e.stop()}}),e)}))),Sl.apply(this,arguments)}function Tl(){return Tl=Ka(Ha().mark((function e(t,n){var r,i,a,o;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fu()?Mu():"http://localhost",i={identifier:n,continueUri:r},e.next=4,El(qa(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Tl.apply(this,arguments)}function Cl(){return(Cl=Ka(Ha().mark((function e(t,n){var r,i,a,o;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qa(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&pl(r.auth,a,n),e.next=8,ac(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nl(){return(Nl=Ka(Ha().mark((function e(t,n,r){var i,a,o,u;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qa(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&pl(i.auth,o,r),e.next=8,fc(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Al(e,t){return Rl.apply(this,arguments)}function Rl(){return Rl=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wu(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Rl.apply(this,arguments)}function Pl(){return(Pl=Ka(Ha().mark((function e(t,n){var r,i,a,o,u,s,c;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=qa(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,ls(a,Al(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ol(e,t,n){return Dl.apply(this,arguments)}function Dl(){return Dl=Ka(Ha().mark((function e(t,n,r){var i,a,o,u;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,ls(t,Js(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Dl.apply(this,arguments)}var Ll=k((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ia(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ml=function(e){oa(n,e);var t=la(n);function n(e,r,i,a){var o;return ia(this,n),(o=t.call(this,e,r,i)).username=a,o}return k(n)}(Ll),Fl=function(e){oa(n,e);var t=la(n);function n(e,r){return ia(this,n),t.call(this,e,"facebook.com",r)}return k(n)}(Ll),Ul=function(e){oa(n,e);var t=la(n);function n(e,r){return ia(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return k(n)}(Ml),Vl=function(e){oa(n,e);var t=la(n);function n(e,r){return ia(this,n),t.call(this,e,"google.com",r)}return k(n)}(Ll),jl=function(e){oa(n,e);var t=la(n);function n(e,r,i){return ia(this,n),t.call(this,e,"twitter.com",r,i)}return k(n)}(Ml);function zl(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=cs(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Ll(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Fl(a,i);case"github.com":return new Ul(a,i);case"google.com":return new Vl(a,i);case"twitter.com":return new jl(a,i,e.screenName||null);case"custom":case"anonymous":return new Ll(a,null);default:return new Ll(a,r,i)}}(n)}var ql=function(){function e(t,n){ia(this,e),this.type=t,this.credential=n}return k(e,[{key:"toJSON",value:function(){return{multiFactorSession:Vn({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Bl=function(){function e(t,n,r){ia(this,e),this.session=t,this.hints=n,this.signInResolver=r}return k(e,[{key:"resolveSignIn",value:function(){var e=Ka(Ha().mark((function e(t){var n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Bs(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return hl._fromServerResponse(r,e)}));Ru(i.mfaPendingCredential,r,"internal-error");var o=ql._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ka(Ha().mark((function e(t){var a,u,s;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,zc._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Ru(n.user,r,"internal-error"),e.abrupt("return",zc._forOperation(n.user,n.operationType,u));case 17:Su(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Kl(e,t){return Wu(e,"POST","/v2/accounts/mfaEnrollment:start",Ku(e,t))}function Wl(e,t){return Wu(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ku(e,t))}var Hl=function(){function e(t){var n=this;ia(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return hl._fromServerResponse(t.auth,e)})))}))}return k(e,[{key:"getSession",value:function(){var e=Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ql,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ka(Ha().mark((function e(t,n){var r,i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,ls(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ka(Ha().mark((function e(t){var n,r,i;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,ls(this.user,Wl(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Gl=new WeakMap;var Ql="__sak",$l=function(){function e(t,n){ia(this,e),this.storageRetriever=t,this.type=n}return k(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ql,"1"),this.storage.removeItem(Ql),Promise.resolve(!0)):Promise.resolve(!1)}catch(UC){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Yl=function(e){oa(n,e);var t=la(n);function n(){var e;return ia(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=xa();return Rs(e)||Fs(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=js(),e._shouldAllowMigration=!0,e}return k(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Vs()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ka(Ha().mark((function e(t,r){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(ua(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ka(Ha().mark((function e(t){var r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(ua(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(ua(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}($l);Yl.type="LOCAL";var Jl=Yl,Xl=function(e){oa(n,e);var t=la(n);function n(){return ia(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return k(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}($l);Xl.type="SESSION";var Zl=Xl;function ef(e){return Promise.all(e.map(function(){var e=Ka(Ha().mark((function e(t){var n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var tf=function(){function e(t){ia(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return k(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ka(Ha().mark((function e(t){var n,r,i,a,o,u,s,c;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ef(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function nf(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}tf.receivers=[];var rf=function(){function e(t){ia(this,e),this.target=t,this.handlers=new Set}return k(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ka(Ha().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=nf("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function af(){return window}function of(){return"undefined"!==typeof af().WorkerGlobalScope&&"function"===typeof af().importScripts}function uf(){return sf.apply(this,arguments)}function sf(){return(sf=Ka(Ha().mark((function e(){var t;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function cf(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var lf="firebaseLocalStorageDb",ff="firebaseLocalStorage",hf="fbase_key",df=function(){function e(t){ia(this,e),this.request=t}return k(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function pf(e,t){return e.transaction([ff],t?"readwrite":"readonly").objectStore(ff)}function vf(){var e=indexedDB.deleteDatabase(lf);return new df(e).toPromise()}function yf(){var e=indexedDB.open(lf,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ff,{keyPath:hf})}catch(r){n(r)}})),e.addEventListener("success",Ka(Ha().mark((function n(){var r;return Ha().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ff)){n.next=12;break}return r.close(),n.next=5,vf();case 5:return n.t0=t,n.next=8,yf();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function mf(e,t,n){return gf.apply(this,arguments)}function gf(){return gf=Ka(Ha().mark((function e(t,n,r){var i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=pf(t,!0).put((Vn(i={},hf,n),Vn(i,"value",r),i)),e.abrupt("return",new df(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),gf.apply(this,arguments)}function kf(e,t){return bf.apply(this,arguments)}function bf(){return bf=Ka(Ha().mark((function e(t,n){var r,i;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pf(t,!1).get(n),e.next=3,new df(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),bf.apply(this,arguments)}function wf(e,t){var n=pf(e,!0).delete(t);return new df(n).toPromise()}var xf=function(){function e(){ia(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return k(e,[{key:"_openDb",value:function(){var e=Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,yf();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ka(Ha().mark((function e(t){var n,r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",of()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ka(Ha().mark((function e(){var t=this;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=tf._getInstance(of()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ka(Ha().mark((function e(n,r){var i;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ka(Ha().mark((function e(){var t,n,r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uf();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new rf(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&cf()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ka(Ha().mark((function e(){var t;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,yf();case 5:return t=e.sent,e.next=8,mf(t,Ql,"1");case 8:return e.next=10,wf(t,Ql);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ka(Ha().mark((function e(t,n){var r=this;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return mf(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ka(Ha().mark((function e(t){var n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return kf(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ka(Ha().mark((function e(t){var n=this;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return wf(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ka(Ha().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=pf(e,!1).getAll();return new df(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=aa(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ka(Ha().mark((function t(){return Ha().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();xf.type="LOCAL";var _f=xf;function If(e,t){return Wu(e,"POST","/v2/accounts/mfaSignIn:start",Ku(e,t))}function Ef(e){return Sf.apply(this,arguments)}function Sf(){return Sf=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wu(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Sf.apply(this,arguments)}function Tf(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Tu("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Cf(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Nf=1e12,Af=function(){function e(t){ia(this,e),this.auth=t,this.counter=Nf,this._widgets=new Map}return k(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Rf(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Nf;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Nf;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ka(Ha().mark((function e(t){var n,r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Nf,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Rf=function(){function e(t,n,r){var i=this;ia(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Ru(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return k(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Pf=Cf("rcb"),Of=new Vu(3e4,6e4),Df="https://www.google.com/recaptcha/api.js?",Lf=function(){function e(){ia(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!af().grecaptcha}return k(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ru(Mf(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(af().grecaptcha):new Promise((function(r,i){var a=af().setTimeout((function(){i(Tu(e,"network-request-failed"))}),Of.get());af()[Pf]=function(){af().clearTimeout(a),delete af()[Pf];var o=af().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Tu(e,"internal-error"))},Tf("".concat(Df,"?").concat(Ma({onload:Pf,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Tu(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!af().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Mf(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Ff=function(){function e(){ia(this,e)}return k(e,[{key:"load",value:function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Af(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Uf="recaptcha",Vf={theme:"light",type:"image"},jf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Vf),r=arguments.length>2?arguments[2]:void 0;ia(this,e),this.parameters=n,this.type=Uf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Bs(r),this.isInvisible="invisible"===this.parameters.size,Ru("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Ru(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ff:new Lf,this.validateStartingState()}return k(e,[{key:"verify",value:function(){var e=Ka(Ha().mark((function e(){var t,n,r,i=this;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Ru(!this.parameters.sitekey,this.auth,"argument-error"),Ru(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ru("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=af()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Ru(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ka(Ha().mark((function e(){var t,n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ka(Ha().mark((function e(){var t;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ru(Fu()&&!of(),this.auth,"internal-error"),e.next=3,zf();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Ef(this.auth);case 8:Ru(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Ru(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function zf(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var qf=function(){function e(t,n){ia(this,e),this.verificationId=t,this.onConfirmation=n}return k(e,[{key:"confirm",value:function(e){var t=Tc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Bf(){return Bf=Ka(Ha().mark((function e(t,n,r){var i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bs(t),e.next=3,Gf(i,n,qa(r));case 3:return a=e.sent,e.abrupt("return",new qf(a,(function(e){return rl(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Bf.apply(this,arguments)}function Kf(e,t,n){return Wf.apply(this,arguments)}function Wf(){return(Wf=Ka(Ha().mark((function e(t,n,r){var i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qa(t),e.next=3,Jc(!1,i,"phone");case 3:return e.next=5,Gf(i.auth,n,qa(r));case 5:return a=e.sent,e.abrupt("return",new qf(a,(function(e){return al(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hf(){return(Hf=Ka(Ha().mark((function e(t,n,r){var i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qa(t),e.next=3,Gf(i.auth,n,qa(r));case 3:return a=e.sent,e.abrupt("return",new qf(a,(function(e){return ul(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gf(e,t,n){return Qf.apply(this,arguments)}function Qf(){return Qf=Ka(Ha().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ru("string"===typeof a,t,"argument-error"),Ru(r.type===Uf,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Ru("enroll"===u.type,t,"internal-error"),e.next=13,Kl(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Ru("signin"===u.type,t,"internal-error"),Ru(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,If(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,wc(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Qf.apply(this,arguments)}function $f(){return($f=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$c(qa(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yf=function(){function e(t){ia(this,e),this.providerId=e.PROVIDER_ID,this.auth=Bs(t)}return k(e,[{key:"verifyPhoneNumber",value:function(e,t){return Gf(this.auth,e,qa(t))}}],[{key:"credential",value:function(e,t){return Tc._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Tc._fromTokenResponse(n,r):null}}]),e}();function Jf(e,t){return t?Lu(t):(Ru(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Yf.PROVIDER_ID="phone",Yf.PHONE_SIGN_IN_METHOD="phone";var Xf=function(e){oa(n,e);var t=la(n);function n(e){var r;return ia(this,n),(r=t.call(this,"custom","custom")).params=e,r}return k(n,[{key:"_getIdTokenResponse",value:function(e){return gc(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return gc(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return gc(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Qs);function Zf(e){return tl(e.auth,new Xf(e),e.bypassAuthState)}function eh(e){var t=e.auth,n=e.user;return Ru(n,t,"internal-error"),Zc(n,new Xf(e),e.bypassAuthState)}function th(e){return nh.apply(this,arguments)}function nh(){return nh=Ka(Ha().mark((function e(t){var n,r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ru(r=t.user,n,"internal-error"),e.abrupt("return",$c(r,new Xf(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),nh.apply(this,arguments)}var rh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ia(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return k(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ka(Ha().mark((function t(n,r){return Ha().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ka(Ha().mark((function e(t){var n,r,i,a,o,u,s;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zf;case"linkViaPopup":case"linkViaRedirect":return th;case"reauthViaPopup":case"reauthViaRedirect":return eh;default:Su(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ou(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ou(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ih=new Vu(2e3,1e4);function ah(e,t,n){return oh.apply(this,arguments)}function oh(){return oh=Ka(Ha().mark((function e(t,n,r){var i,a,o;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bs(t),Nu(t,n,Ac),a=Jf(i,r),o=new lh(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),oh.apply(this,arguments)}function uh(){return uh=Ka(Ha().mark((function e(t,n,r){var i,a,o;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nu((i=qa(t)).auth,n,Ac),a=Jf(i.auth,r),o=new lh(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),uh.apply(this,arguments)}function sh(e,t,n){return ch.apply(this,arguments)}function ch(){return ch=Ka(Ha().mark((function e(t,n,r){var i,a,o;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nu((i=qa(t)).auth,n,Ac),a=Jf(i.auth,r),o=new lh(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),ch.apply(this,arguments)}var lh=function(e){oa(n,e);var t=la(n);function n(e,r,i,a,o){var u;return ia(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=x(u),u}return k(n,[{key:"executeNotNull",value:function(){var e=Ka(Ha().mark((function e(){var t;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ru(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ka(Ha().mark((function e(){var t,n=this;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ou(1===this.filter.length,"Popup operations only handle one event"),t=nf(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Tu(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Tu(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Tu(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,ih.get())}()}}]),n}(rh);lh.currentPopupAction=null;var fh=new Map,hh=function(e){oa(n,e);var t=la(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ia(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return k(n,[{key:"execute",value:function(){var e=Ka(Ha().mark((function e(){var t,r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=fh.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,dh(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ou(ua(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:fh.set(this.auth._key(),t);case 21:return this.bypassAuthState||fh.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ka(Ha().mark((function e(t){var r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ou(ua(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ou(ua(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(rh);function dh(e,t){return ph.apply(this,arguments)}function ph(){return ph=Ka(Ha().mark((function e(t,n){var r,i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gh(n),i=mh(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),ph.apply(this,arguments)}function vh(e,t){return yh.apply(this,arguments)}function yh(){return yh=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mh(t)._set(gh(n),"true"));case 1:case"end":return e.stop()}}),e)}))),yh.apply(this,arguments)}function mh(e){return Lu(e._redirectPersistence)}function gh(e){return Ts("pendingRedirect",e.config.apiKey,e.name)}function kh(e,t,n){return function(e,t,n){return bh.apply(this,arguments)}(e,t,n)}function bh(){return bh=Ka(Ha().mark((function e(t,n,r){var i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bs(t),Nu(t,n,Ac),a=Jf(i,r),e.next=5,vh(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),bh.apply(this,arguments)}function wh(e,t,n){return function(e,t,n){return xh.apply(this,arguments)}(e,t,n)}function xh(){return xh=Ka(Ha().mark((function e(t,n,r){var i,a,o;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nu((i=qa(t)).auth,n,Ac),a=Jf(i.auth,r),e.next=5,vh(a,i.auth);case 5:return e.next=7,Nh(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),xh.apply(this,arguments)}function _h(e,t,n){return function(e,t,n){return Ih.apply(this,arguments)}(e,t,n)}function Ih(){return Ih=Ka(Ha().mark((function e(t,n,r){var i,a,o;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nu((i=qa(t)).auth,n,Ac),a=Jf(i.auth,r),e.next=5,Jc(!1,i,n.providerId);case 5:return e.next=7,vh(a,i.auth);case 7:return e.next=9,Nh(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),Ih.apply(this,arguments)}function Eh(e,t){return Sh.apply(this,arguments)}function Sh(){return Sh=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bs(t)._initializationPromise;case 2:return e.abrupt("return",Th(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Sh.apply(this,arguments)}function Th(e,t){return Ch.apply(this,arguments)}function Ch(){return Ch=Ka(Ha().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Bs(t),a=Jf(i,n),o=new hh(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Ch.apply(this,arguments)}function Nh(e){return Ah.apply(this,arguments)}function Ah(){return(Ah=Ka(Ha().mark((function e(t){var n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nf("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rh=function(){function e(t){ia(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return k(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Oh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Oh(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Tu(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ph(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ph(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ph(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Oh(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Dh(e){return Lh.apply(this,arguments)}function Lh(){return Lh=Ka(Ha().mark((function e(t){var n,r=arguments;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Wu(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Lh.apply(this,arguments)}var Mh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fh=/^https?/;function Uh(){return Uh=Ka(Ha().mark((function e(t){var n,r,i,a,o;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Dh(t);case 4:n=e.sent,r=n.authorizedDomains,i=aa(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Vh(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Su(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Uh.apply(this,arguments)}function Vh(e){var t=Mu(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Fh.test(r))return!1;if(Mh.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var jh=new Vu(3e4,6e4);function zh(){var e=af().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=mt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var qh=null;function Bh(e){return qh=qh||function(e){return new Promise((function(t,n){var r,i,a;function o(){zh(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){zh(),n(Tu(e,"network-request-failed"))},timeout:jh.get()})}if(null===(i=null===(r=af().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=af().gapi)||void 0===a?void 0:a.load)){var u=Cf("iframefcb");return af()[u]=function(){gapi.load?o():n(Tu(e,"network-request-failed"))},Tf("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw qh=null,e}))}(e),qh}var Kh=new Vu(5e3,15e3),Wh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gh(e){var t=e.config;Ru(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ju(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:So},i=Hh.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ma(r).slice(1))}function Qh(e){return $h.apply(this,arguments)}function $h(){return $h=Ka(Ha().mark((function e(t){var n,r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bh(t);case 2:return n=e.sent,Ru(r=af().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Gh(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wh,dontclear:!0},(function(e){return new Promise(function(){var n=Ka(Ha().mark((function n(r,i){var a,o,u;return Ha().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){af().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Tu(t,"network-request-failed"),o=af().setTimeout((function(){i(a)}),Kh.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),$h.apply(this,arguments)}var Yh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jh="_blank",Xh="http://localhost",Zh=function(){function e(t){ia(this,e),this.window=t,this.associatedEvent=null}return k(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function ed(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},Yh),{width:r.toString(),height:i.toString(),top:a,left:o}),l=xa().toLowerCase();n&&(u=Ps(l)?Jh:n),As(l)&&(t=t||Xh,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=s(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Us(l)&&"_self"!==u)return td(t||"",u),new Zh(null);var h=window.open(t||"",u,f);Ru(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Zh(h)}function td(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var nd="__/auth/handler",rd="emulator/auth/handler";function id(e,t,n,r,i,a){Ru(e.config.authDomain,e,"auth-domain-config-required"),Ru(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:So,eventId:i};if(t instanceof Ac){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(a||{});u<c.length;u++){var l=s(c[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof Rc){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(nd);return ju(t,rd)}(e),"?").concat(Ma(p).slice(1))}var ad="webStorageSupport",od=function(){function e(){ia(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zl,this._completeRedirectFn=Th}return k(e,[{key:"_openPopup",value:function(){var e=Ka(Ha().mark((function e(t,n,r,i){var a,o;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ou(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=id(t,n,r,Mu(),i),e.abrupt("return",ed(t,o,nf()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ka(Ha().mark((function e(t,n,r,i){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=id(t,n,r,Mu(),i),af().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ou(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ka(Ha().mark((function e(t){var n,r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qh(t);case 2:return n=e.sent,r=new Rh(t),n.register("authEvent",(function(e){return Ru(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(ad,{type:ad},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Su(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Uh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return js()||Rs()||Fs()}}]),e}(),ud=od,sd=function(){function e(t){ia(this,e),this.factorId=t}return k(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Pu("unexpected MultiFactorSessionType")}}}]),e}(),cd=function(e){oa(n,e);var t=la(n);function n(e){var r;return ia(this,n),(r=t.call(this,"phone")).credential=e,r}return k(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Wu(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ku(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Wu(e,"POST","/v2/accounts/mfaSignIn:finalize",Ku(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(sd),ld=function(){function e(){ia(this,e)}return k(e,null,[{key:"assertion",value:function(e){return cd._fromCredential(e)}}]),e}();ld.FACTOR_ID="phone";var fd,hd="@firebase/auth",dd="0.19.9",pd=function(){function e(t){ia(this,e),this.auth=t,this.internalListeners=new Map}return k(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ka(Ha().mark((function e(t){var n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ru(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function vd(){return window}fd="Browser",ko(new Ga("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){Ru(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Ru(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:fd,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zs(fd)},r=new qs(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Lu);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ko(new Ga("auth-internal",(function(e){return function(e){return new pd(e)}(Bs(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Po(hd,dd,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(fd)),Po(hd,dd,"esm2017");function yd(e,t,n){return md.apply(this,arguments)}function md(){return md=Ka(Ha().mark((function e(t,n,r){var i,a,o,u,s;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=vd(),o=a.BuildInfo,Ou(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,_d(n.sessionId);case 4:return u=e.sent,s={},Fs()?s.ibi=o.packageName:Ds()?s.apn=o.packageName:Su(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",id(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),md.apply(this,arguments)}function gd(){return gd=Ka(Ha().mark((function e(t){var n,r,i;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vd(),r=n.BuildInfo,i={},Fs()?i.iosBundleId=r.packageName:Ds()?i.androidPackageName=r.packageName:Su(t,"operation-not-supported-in-this-environment"),e.next=5,Dh(t,i);case 5:case"end":return e.stop()}}),e)}))),gd.apply(this,arguments)}function kd(e){var t=vd().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function bd(e,t,n){return wd.apply(this,arguments)}function wd(){return wd=Ka(Ha().mark((function e(t,n,r){var i,a,o;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vd(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Tu(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Ds()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),wd.apply(this,arguments)}function xd(e){var t,n,r,i,a,o,u,s,c,l,f=vd();Ru("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ru("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ru("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ru("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ru("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function _d(e){return Id.apply(this,arguments)}function Id(){return(Id=Ka(Ha().mark((function e(t){var n,r,i;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ed(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ed(e){if(Ou(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Sd=function(e){oa(n,e);var t=la(n);function n(){var e;return ia(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return k(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ou(ua(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Rh);function Td(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Pd(),postBody:null,tenantId:e.tenantId,error:Tu(e,"no-auth-event")}}function Cd(e,t){return Od()._set(Dd(e),t)}function Nd(e){return Ad.apply(this,arguments)}function Ad(){return Ad=Ka(Ha().mark((function e(t){var n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Od()._get(Dd(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Od()._remove(Dd(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Ad.apply(this,arguments)}function Rd(e,t){var n,r,i=function(e){var t=Ld(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ld(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ld(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Ld(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Tu(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Pd(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Od(){return Lu(Jl)}function Dd(e){return Ts("authEvent",e.config.apiKey,e.name)}function Ld(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=i(t=n)||yt(t)||o(t)||u();r[0];return Fa(r.slice(1).join("?"))}var Md=function(){function e(){ia(this,e),this._redirectPersistence=Zl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Th}return k(e,[{key:"_initialize",value:function(){var e=Ka(Ha().mark((function e(t){var n,r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Sd(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Su(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ka(Ha().mark((function e(t,n,r,i){var a,o,u,s;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xd(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),fh.clear(),e.next=10,this._originValidation(t);case 10:return o=Td(t,r,i),e.next=13,Cd(t,o);case 13:return e.next=15,yd(t,o,n);case 15:return u=e.sent,e.next=18,kd(u);case 18:return s=e.sent,e.abrupt("return",bd(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return gd.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=vd(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ka(Ha().mark((function n(){return Ha().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Nd(e);case 2:t.onEvent(Ud());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Ka(Ha().mark((function n(r){var i,a;return Ha().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Nd(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Rd(i,r.url)),t.onEvent(a||Ud());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");vd().handleOpenURL=function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Fd=Md;function Ud(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Tu("no-auth-event")}}function Vd(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function jd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return!("file:"!==Vd()&&"ionic:"!==Vd()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function zd(){return Ta()&&11===(null===document||void 0===document?void 0:document.documentMode)}function qd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return/Edge\/\d+/.test(e)}function Bd(){try{var e=self.localStorage,t=nf();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return zd()||qd(e)}()||Ca()}catch(n){return Kd()&&Ca()}return!1}function Kd(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Wd(){return("http:"===Vd()||"https:"===Vd()||Ea()||jd())&&!(Sa()||Ia())&&Bd()&&!Kd()}function Hd(){return jd()&&"undefined"!==typeof document}function Gd(){return Qd.apply(this,arguments)}function Qd(){return(Qd=Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Hd()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $d={LOCAL:"local",NONE:"none",SESSION:"session"},Yd=Ru,Jd="persistence";function Xd(e,t){Yd(Object.values($d).includes(t),e,"invalid-persistence-type"),Sa()?Yd(t!==$d.SESSION,e,"unsupported-persistence-type"):Ia()?Yd(t===$d.NONE,e,"unsupported-persistence-type"):Kd()?Yd(t===$d.NONE||t===$d.LOCAL&&Ca(),e,"unsupported-persistence-type"):Yd(t===$d.NONE||Bd(),e,"unsupported-persistence-type")}function Zd(e){return ep.apply(this,arguments)}function ep(){return ep=Ka(Ha().mark((function e(t){var n,r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=tp(),r=Ts(Jd,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),ep.apply(this,arguments)}function tp(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var np=Ru,rp=function(){function e(){ia(this,e),this.browserResolver=Lu(ud),this.cordovaResolver=Lu(Fd),this.underlyingResolver=null,this._redirectPersistence=Zl,this._completeRedirectFn=Th}return k(e,[{key:"_initialize",value:function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ka(Ha().mark((function e(t,n,r,i){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ka(Ha().mark((function e(t,n,r,i){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Hd()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return np(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ka(Ha().mark((function e(){var t;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Gd();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ip(e){return e.unwrap()}function ap(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new lp(e,function(e,t){var n,r=qa(e),i=t;return Ru(t.customData.operationType,r,"argument-error"),Ru(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Bl._fromError(r,i)}(e,t));else if(r){var i=op(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function op(e){var t=(e instanceof Na?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Na)&&"temporaryProof"in t&&"phoneNumber"in t)return Yf.credentialFromResult(e);var n,r=t.providerId;if(!r||r===hu)return null;switch(r){case fu:n=Dc;break;case cu:n=Oc;break;case lu:n=Lc;break;case du:n=Uc;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Mc._create(r,u):bc._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Pc(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Na?n.credentialFromError(e):n.credentialFromResult(e)}function up(e,t){return t.catch((function(t){throw t instanceof Na&&ap(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,op(t)),additionalUserInfo:zl(e),user:fp.getOrCreate(r)}}))}function sp(e,t){return cp.apply(this,arguments)}function cp(){return cp=Ka(Ha().mark((function e(t,n){var r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return up(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),cp.apply(this,arguments)}var lp=function(){function e(t,n){ia(this,e),this.resolver=n,this.auth=t.wrapped()}return k(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return up(ip(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),fp=function(){function e(t){ia(this,e),this._delegate=t,this.multiFactor=function(e){var t=qa(e);return Gl.has(t)||Gl.set(t,Hl._fromUser(t)),Gl.get(t)}(t)}return k(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",up(this.auth,al(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sp(this.auth,Kf(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",up(this.auth,sh(this._delegate,t,rp)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zd(Bs(this.auth));case 2:return e.abrupt("return",_h(this._delegate,t,rp));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",up(this.auth,ul(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return sp(this.auth,function(e,t,n){return Hf.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return up(this.auth,function(e,t,n){return uh.apply(this,arguments)}(this._delegate,e,rp))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zd(Bs(this.auth));case 2:return e.abrupt("return",wh(this._delegate,t,rp));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Cl.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gc(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Ol(qa(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Ol(qa(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return $f.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Pl.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Nl.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();fp.USER_MAP=new WeakMap;var hp=Ru,dp=function(){function e(t,n){if(ia(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;hp(r,"invalid-api-key",{appName:t.name}),hp(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?rp:void 0;this._delegate=n.initialize({options:{persistence:vp(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(wu),this.linkUnderlyingAuth()}return k(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?fp.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Ws(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ml.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return gl(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return yl.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",up(this._delegate,wl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Tl.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Cc.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ka(Ha().mark((function e(){var t;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hp(Wd(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Eh(this._delegate,rp);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",up(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Bs(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=pp(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=pp(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return _l.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return vl.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ka(Ha().mark((function e(t){var n,r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xd(this._delegate,t),e.t0=t,e.next=e.t0===$d.SESSION?4:e.t0===$d.LOCAL?6:e.t0===$d.NONE?11:13;break;case 4:return n=Zl,e.abrupt("break",14);case 6:return e.next=8,Lu(_f)._isAvailable();case 8:return r=e.sent,n=r?_f:Jl,e.abrupt("break",14);case 11:return n=Ss,e.abrupt("break",14);case 13:return e.abrupt("return",Su("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return up(this._delegate,function(e){return Bc.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return up(this._delegate,rl(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return up(this._delegate,function(e,t){return fl.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return up(this._delegate,function(e,t,n){return rl(qa(e),Nc.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return up(this._delegate,function(e,t,n){return Il.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return sp(this._delegate,function(e,t,n){return Bf.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hp(Wd(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",up(this._delegate,ah(this._delegate,t,rp)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hp(Wd(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Zd(this._delegate);case 3:return e.abrupt("return",kh(this._delegate,t,rp));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return bl.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function pp(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&fp.getOrCreate(e))},error:t,complete:n}}function vp(e,t){var n=function(e,t){var n=tp();if(!n)return[];var r=Ts(Jd,e,t);switch(n.getItem(r)){case $d.NONE:return[Ss];case $d.LOCAL:return[_f,Zl];case $d.SESSION:return[Zl];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(_f)||n.push(_f),"undefined"!==typeof window)for(var r=0,i=[Jl,Zl];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Ss)||n.push(Ss),n}dp.Persistence=$d;var yp=function(){function e(){ia(this,e),this.providerId="phone",this._delegate=new Yf(ip(iu.auth()))}return k(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Yf.credential(e,t)}}]),e}();yp.PHONE_SIGN_IN_METHOD=Yf.PHONE_SIGN_IN_METHOD,yp.PROVIDER_ID=Yf.PROVIDER_ID;var mp,gp=Ru,kp=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:iu.app();ia(this,e),gp(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new jf(t,n,i.auth()),this.type=this._delegate.type}return k(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(mp=iu).INTERNAL.registerComponent(new Ga("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new dp(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:pu,PASSWORD_RESET:vu,RECOVER_EMAIL:yu,REVERT_SECOND_FACTOR_ADDITION:mu,VERIFY_AND_CHANGE_EMAIL:gu,VERIFY_EMAIL:ku}},EmailAuthProvider:Nc,FacebookAuthProvider:Oc,GithubAuthProvider:Lc,GoogleAuthProvider:Dc,OAuthProvider:Pc,SAMLAuthProvider:Fc,PhoneAuthProvider:yp,PhoneMultiFactorGenerator:ld,RecaptchaVerifier:kp,TwitterAuthProvider:Uc,Auth:dp,AuthCredential:Qs,Error:Na}).setInstantiationMode("LAZY").setMultipleInstances(!1)),mp.registerVersion("@firebase/auth-compat","0.2.9");var bp,wp="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},xp={},_p=_p||{},Ip=wp||self;function Ep(){}function Sp(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Tp(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Cp="closure_uid_"+(1e9*Math.random()>>>0),Np=0;function Ap(e,t,n){return e.call.apply(e.bind,arguments)}function Rp(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Pp(e,t,n){return(Pp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ap:Rp).apply(null,arguments)}function Op(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Dp(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Lp(){this.s=this.s,this.o=this.o}var Mp={};Lp.prototype.s=!1,Lp.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Cp)&&e[Cp]||(e[Cp]=++Np)}(this);delete Mp[e]}},Lp.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Fp=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Up=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Vp(e){return Array.prototype.concat.apply([],arguments)}function jp(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function zp(e){return/^[\s\xa0]*$/.test(e)}var qp,Bp=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Kp(e,t){return-1!=e.indexOf(t)}function Wp(e,t){return e<t?-1:e>t?1:0}e:{var Hp=Ip.navigator;if(Hp){var Gp=Hp.userAgent;if(Gp){qp=Gp;break e}}qp=""}function Qp(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function $p(e){var t={};for(var n in e)t[n]=e[n];return t}var Yp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jp(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Yp.length;a++)n=Yp[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Xp(e){return Xp[" "](e),e}Xp[" "]=Ep;var Zp,ev=Kp(qp,"Opera"),tv=Kp(qp,"Trident")||Kp(qp,"MSIE"),nv=Kp(qp,"Edge"),rv=nv||tv,iv=Kp(qp,"Gecko")&&!(Kp(qp.toLowerCase(),"webkit")&&!Kp(qp,"Edge"))&&!(Kp(qp,"Trident")||Kp(qp,"MSIE"))&&!Kp(qp,"Edge"),av=Kp(qp.toLowerCase(),"webkit")&&!Kp(qp,"Edge");function ov(){var e=Ip.document;return e?e.documentMode:void 0}e:{var uv="",sv=function(){var e=qp;return iv?/rv:([^\);]+)(\)|;)/.exec(e):nv?/Edge\/([\d\.]+)/.exec(e):tv?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):av?/WebKit\/(\S+)/.exec(e):ev?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(sv&&(uv=sv?sv[1]:""),tv){var cv=ov();if(null!=cv&&cv>parseFloat(uv)){Zp=String(cv);break e}}Zp=uv}var lv,fv={};function hv(){return function(e){var t=fv;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Bp(String(Zp)).split("."),n=Bp("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Wp(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Wp(0==a[2].length,0==o[2].length)||Wp(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Ip.document&&tv){var dv=ov();lv=dv||(parseInt(Zp,10)||void 0)}else lv=void 0;var pv=lv,vv=function(){if(!Ip.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ip.addEventListener("test",Ep,t),Ip.removeEventListener("test",Ep,t)}catch(n){}return e}();function yv(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function mv(e,t){if(yv.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(iv){e:{try{Xp(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:gv[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&mv.Z.h.call(this)}}yv.prototype.h=function(){this.defaultPrevented=!0},Dp(mv,yv);var gv={2:"touch",3:"pen",4:"mouse"};mv.prototype.h=function(){mv.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var kv="closure_listenable_"+(1e6*Math.random()|0),bv=0;function wv(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++bv,this.ca=this.fa=!1}function xv(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function _v(e){this.src=e,this.g={},this.h=0}function Iv(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Fp(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(xv(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ev(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}_v.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ev(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new wv(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Sv="closure_lm_"+(1e6*Math.random()|0),Tv={};function Cv(e,t,n,r,i){if(r&&r.once)return Av(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Cv(e,t[a],n,r,i);return null}return n=Fv(n),e&&e[kv]?e.N(t,n,Tp(r)?!!r.capture:!!r,i):Nv(e,t,n,!1,r,i)}function Nv(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Tp(i)?!!i.capture:!!i,u=Lv(e);if(u||(e[Sv]=u=new _v(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Dv;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)vv||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ov(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Av(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Av(e,t[a],n,r,i);return null}return n=Fv(n),e&&e[kv]?e.O(t,n,Tp(r)?!!r.capture:!!r,i):Nv(e,t,n,!0,r,i)}function Rv(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Rv(e,t[a],n,r,i);else r=Tp(r)?!!r.capture:!!r,n=Fv(n),e&&e[kv]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ev(a=e.g[t],n,r,i))&&(xv(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Lv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ev(t,n,r,i)),(n=-1<e?t[e]:null)&&Pv(n))}function Pv(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[kv])Iv(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ov(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Lv(t))?(Iv(n,e),0==n.h&&(n.src=null,t[Sv]=null)):xv(e)}}}function Ov(e){return e in Tv?Tv[e]:Tv[e]="on"+e}function Dv(e,t){if(e.ca)e=!0;else{t=new mv(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Pv(e),e=n.call(r,t)}return e}function Lv(e){return(e=e[Sv])instanceof _v?e:null}var Mv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fv(e){return"function"===typeof e?e:(e[Mv]||(e[Mv]=function(t){return e.handleEvent(t)}),e[Mv])}function Uv(){Lp.call(this),this.i=new _v(this),this.P=this,this.I=null}function Vv(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new yv(t,e);else if(t instanceof yv)t.target=t.target||e;else{var i=t;Jp(t=new yv(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=jv(o,r,!0,t)&&i}if(i=jv(o=t.g=e,r,!0,t)&&i,i=jv(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=jv(o=t.g=n[a],r,!1,t)&&i}function jv(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Iv(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Dp(Uv,Lp),Uv.prototype[kv]=!0,Uv.prototype.removeEventListener=function(e,t,n,r){Rv(this,e,t,n,r)},Uv.prototype.M=function(){if(Uv.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xv(n[r]);delete t.g[e],t.h--}}this.I=null},Uv.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Uv.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var zv=Ip.JSON.stringify;function qv(){var e=Yv,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Bv,Kv=function(){function e(){ia(this,e),this.h=this.g=null}return k(e,[{key:"add",value:function(e,t){var n=Wv.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Wv=new(function(){function e(t,n){ia(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return k(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Hv}),(function(e){return e.reset()})),Hv=function(){function e(){ia(this,e),this.next=this.g=this.h=null}return k(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Gv(e){Ip.setTimeout((function(){throw e}),0)}function Qv(e,t){Bv||function(){var e=Ip.Promise.resolve(void 0);Bv=function(){e.then(Jv)}}(),$v||(Bv(),$v=!0),Yv.add(e,t)}var $v=!1,Yv=new Kv;function Jv(){for(var e;e=qv();){try{e.h.call(e.g)}catch(n){Gv(n)}var t=Wv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}$v=!1}function Xv(e,t){Uv.call(this),this.h=e||1,this.g=t||Ip,this.j=Pp(this.kb,this),this.l=Date.now()}function Zv(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function ey(e,t,n){if("function"===typeof e)n&&(e=Pp(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Pp(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ip.setTimeout(e,t||0)}function ty(e){e.g=ey((function(){e.g=null,e.i&&(e.i=!1,ty(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Dp(Xv,Uv),(bp=Xv.prototype).da=!1,bp.S=null,bp.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Vv(this,"tick"),this.da&&(Zv(this),this.start()))}},bp.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},bp.M=function(){Xv.Z.M.call(this),Zv(this),delete this.g};var ny=function(e){oa(n,e);var t=la(n);function n(e,r){var i;return ia(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return k(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ty(this)}},{key:"M",value:function(){ou(ua(n.prototype),"M",this).call(this),this.g&&(Ip.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Lp);function ry(e){Lp.call(this),this.h=e,this.g={}}Dp(ry,Lp);var iy=[];function ay(e,t,n,r){Array.isArray(n)||(n&&(iy[0]=n.toString()),n=iy);for(var i=0;i<n.length;i++){var a=Cv(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function oy(e){Qp(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Pv(e)}),e),e.g={}}function uy(){this.g=!0}function sy(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return zv(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}ry.prototype.M=function(){ry.Z.M.call(this),oy(this)},ry.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},uy.prototype.Aa=function(){this.g=!1},uy.prototype.info=function(){};var cy={},ly=null;function fy(){return ly=ly||new Uv}function hy(e){yv.call(this,cy.Ma,e)}function dy(e){var t=fy();Vv(t,new hy(t,e))}function py(e,t){yv.call(this,cy.STAT_EVENT,e),this.stat=t}function vy(e){var t=fy();Vv(t,new py(t,e))}function yy(e,t){yv.call(this,cy.Na,e),this.size=t}function my(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ip.setTimeout((function(){e()}),t)}cy.Ma="serverreachability",Dp(hy,yv),cy.STAT_EVENT="statevent",Dp(py,yv),cy.Na="timingevent",Dp(yy,yv);var gy={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ky={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function by(){}function wy(e){return e.h||(e.h=e.i())}function xy(){}by.prototype.h=null;var _y,Iy={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ey(){yv.call(this,"d")}function Sy(){yv.call(this,"c")}function Ty(){}function Cy(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new ry(this),this.P=Ay,e=rv?125:void 0,this.W=new Xv(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ny}function Ny(){this.i=null,this.g="",this.h=!1}Dp(Ey,yv),Dp(Sy,yv),Dp(Ty,by),Ty.prototype.g=function(){return new XMLHttpRequest},Ty.prototype.i=function(){return{}},_y=new Ty;var Ay=45e3,Ry={},Py={};function Oy(e,t,n){e.K=1,e.v=nm(Yy(t)),e.s=n,e.U=!0,Dy(e,null)}function Dy(e,t){e.F=Date.now(),Uy(e),e.A=Yy(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),vm(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Ny,e.g=mg(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ny(Pp(e.Ia,e,e.g),e.O)),ay(e.V,e.g,"readystatechange",e.gb),t=e.H?$p(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),dy(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ly(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function My(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Fy(e,n))==Py){4==t&&(e.o=4,vy(14),i=!1),sy(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ry){e.o=4,vy(15),sy(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}sy(e.j,e.m,r,null),By(e,r)}Ly(e)&&r!=Py&&r!=Ry&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,vy(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),cg(t),t.L=!0,vy(11))):(sy(e.j,e.m,n,"[Invalid Chunked Response]"),qy(e),zy(e))}function Fy(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Py:(n=Number(t.substring(n,r)),isNaN(n)?Ry:(r+=1)+n>t.length?Py:(t=t.substr(r,n),e.C=r+n,t))}function Uy(e){e.Y=Date.now()+e.P,Vy(e,e.P)}function Vy(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=my(Pp(e.eb,e),t)}function jy(e){e.B&&(Ip.clearTimeout(e.B),e.B=null)}function zy(e){0==e.l.G||e.I||hg(e.l,e)}function qy(e){jy(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Zv(e.W),oy(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function By(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||_m(n.i,e)))if(n.I=e.N,!e.J&&_m(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;fg(n),eg(n)}sg(n),vy(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=my(Pp(n.ab,n),6e3));if(1>=xm(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else pg(n,11)}else if((e.J||n.g==e)&&fg(n),!zp(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Kp(l,"spdy")||Kp(l,"quic")||Kp(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Im(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,tm(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=yg(r,r.H?r.la:null,r.W),d.J){Em(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(jy(p),Uy(p)),r.g=d}else ug(r);0<n.l.length&&rg(n)}else"stop"!=a[0]&&"close"!=a[0]||pg(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?pg(n,7):Zm(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}dy(4)}catch(a){}}function Ky(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Sp(e)||"string"===typeof e)Up(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Sp(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Sp(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Wy(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Wy)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Hy(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Gy(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Gy(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Gy(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(bp=Cy.prototype).setTimeout=function(e){this.P=e},bp.gb=function(e){e=e.target;var t=this.L;t&&3==Qm(e)?t.l():this.Ia(e)},bp.Ia=function(e){try{if(e==this.g)e:{var t=Qm(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||rv||this.g&&(this.h.h||this.g.ga()||$m(this.g)))){this.I||4!=t||7==n||dy(8==n||0>=r?3:2),jy(this);var i=this.g.ba();this.N=i;t:if(Ly(this)){var a=$m(this.g);e="";var o=a.length,u=4==Qm(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){qy(this),zy(this);var s="";break t}this.h.i=new Ip.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zp(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,vy(12),qy(this),zy(this);break e}sy(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,By(this,i)}this.U?(My(this,t,s),rv&&this.i&&3==t&&(ay(this.V,this.W,"tick",this.fb),this.W.start())):(sy(this.j,this.m,s,null),By(this,s)),4==t&&qy(this),this.i&&!this.I&&(4==t?hg(this.l,this):(this.i=!1,Uy(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,vy(12)):(this.o=0,vy(13)),qy(this),zy(this)}}}catch(t){}},bp.fb=function(){if(this.g){var e=Qm(this.g),t=this.g.ga();this.C<t.length&&(jy(this),My(this,e,t),this.i&&4!=e&&Uy(this))}},bp.cancel=function(){this.I=!0,qy(this)},bp.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(dy(3),vy(17)),qy(this),this.o=2,zy(this)):Vy(this,this.Y-e)},(bp=Wy.prototype).R=function(){Hy(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},bp.T=function(){return Hy(this),this.g.concat()},bp.get=function(e,t){return Gy(this.h,e)?this.h[e]:t},bp.set=function(e,t){Gy(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},bp.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Qy=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $y(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof $y){this.g=void 0!==t?t:e.g,Jy(this,e.j),this.s=e.s,Xy(this,e.i),Zy(this,e.m),this.l=e.l,t=e.h;var n=new fm;n.i=t.i,t.g&&(n.g=new Wy(t.g),n.h=t.h),em(this,n),this.o=e.o}else e&&(n=String(e).match(Qy))?(this.g=!!t,Jy(this,n[1]||"",!0),this.s=rm(n[2]||""),Xy(this,n[3]||"",!0),Zy(this,n[4]),this.l=rm(n[5]||"",!0),em(this,n[6]||"",!0),this.o=rm(n[7]||"")):(this.g=!!t,this.h=new fm(null,this.g))}function Yy(e){return new $y(e)}function Jy(e,t,n){e.j=n?rm(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Xy(e,t,n){e.i=n?rm(t,!0):t}function Zy(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function em(e,t,n){t instanceof fm?(e.h=t,function(e,t){t&&!e.j&&(hm(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(dm(this,t),vm(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=im(t,cm)),e.h=new fm(t,e.g))}function tm(e,t,n){e.h.set(t,n)}function nm(e){return tm(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function rm(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function im(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,am),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function am(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}$y.prototype.toString=function(){var e=[],t=this.j;t&&e.push(im(t,om,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(im(t,om,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(im(n,"/"==n.charAt(0)?sm:um,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",im(n,lm)),e.join("")};var om=/[#\/\?@]/g,um=/[#\?:]/g,sm=/[#\?]/g,cm=/[#\?@]/g,lm=/#/g;function fm(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function hm(e){e.g||(e.g=new Wy,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function dm(e,t){hm(e),t=ym(e,t),Gy(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Gy((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Hy(e)))}function pm(e,t){return hm(e),t=ym(e,t),Gy(e.g.h,t)}function vm(e,t,n){dm(e,t),0<n.length&&(e.i=null,e.g.set(ym(e,t),jp(n)),e.h+=n.length)}function ym(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(bp=fm.prototype).add=function(e,t){hm(this),this.i=null,e=ym(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},bp.forEach=function(e,t){hm(this),this.g.forEach((function(n,r){Up(n,(function(n){e.call(t,n,r,this)}),this)}),this)},bp.T=function(){hm(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},bp.R=function(e){hm(this);var t=[];if("string"===typeof e)pm(this,e)&&(t=Vp(t,this.g.get(ym(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Vp(t,e[n])}return t},bp.set=function(e,t){return hm(this),this.i=null,pm(this,e=ym(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},bp.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},bp.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var mm=k((function e(t,n){ia(this,e),this.h=t,this.g=n}));function gm(e){this.l=e||bm,Ip.PerformanceNavigationTiming?e=0<(e=Ip.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ip.g&&Ip.g.Ea&&Ip.g.Ea()&&Ip.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var km,bm=10;function wm(e){return!!e.h||!!e.g&&e.g.size>=e.j}function xm(e){return e.h?1:e.g?e.g.size:0}function _m(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Im(e,t){e.g?e.g.add(t):e.h=t}function Em(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Sm(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=aa(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return jp(e.i)}function Tm(){}function Cm(){this.g=new Tm}function Nm(e,t,n){var r=n||"";try{Ky(e,(function(e,n){var i=e;Tp(e)&&(i=zv(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Am(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Rm(e){this.l=e.$b||null,this.j=e.ib||!1}function Pm(e,t){Uv.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Om,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gm.prototype.cancel=function(){if(this.i=Sm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=aa(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Tm.prototype.stringify=function(e){return Ip.JSON.stringify(e,void 0)},Tm.prototype.parse=function(e){return Ip.JSON.parse(e,void 0)},Dp(Rm,by),Rm.prototype.g=function(){return new Pm(this.l,this.j)},Rm.prototype.i=(km={},function(){return km}),Dp(Pm,Uv);var Om=0;function Dm(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Lm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Mm(e)}function Mm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(bp=Pm.prototype).open=function(e,t){if(this.readyState!=Om)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Mm(this)},bp.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ip).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},bp.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lm(this)),this.readyState=Om},bp.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Mm(this)),this.g&&(this.readyState=3,Mm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Ip.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Dm(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},bp.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Lm(this):Mm(this),3==this.readyState&&Dm(this)}},bp.Ua=function(e){this.g&&(this.response=this.responseText=e,Lm(this))},bp.Ta=function(e){this.g&&(this.response=e,Lm(this))},bp.ha=function(){this.g&&Lm(this)},bp.setRequestHeader=function(e,t){this.v.append(e,t)},bp.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},bp.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Fm=Ip.JSON.parse;function Um(e){Uv.call(this),this.headers=new Wy,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Vm,this.K=this.L=!1}Dp(Um,Uv);var Vm="",jm=/^https?$/i,zm=["POST","PUT"];function qm(e){return"content-type"==e.toLowerCase()}function Bm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Km(e),Hm(e)}function Km(e){e.D||(e.D=!0,Vv(e,"complete"),Vv(e,"error"))}function Wm(e){if(e.h&&"undefined"!=typeof _p&&(!e.C[1]||4!=Qm(e)||2!=e.ba()))if(e.v&&4==Qm(e))ey(e.Fa,0,e);else if(Vv(e,"readystatechange"),4==Qm(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Qy)[1]||null;if(!a&&Ip.self&&Ip.self.location){var o=Ip.self.location.protocol;a=o.substr(0,o.length-1)}i=!jm.test(a?a.toLowerCase():"")}t=i}if(t)Vv(e,"complete"),Vv(e,"success");else{e.m=6;try{var u=2<Qm(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Km(e)}}finally{Hm(e)}}}function Hm(e,t){if(e.g){Gm(e);var n=e.g,r=e.C[0]?Ep:null;e.g=null,e.C=null,t||Vv(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Gm(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ip.clearTimeout(e.A),e.A=null)}function Qm(e){return e.g?e.g.readyState:0}function $m(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Vm:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ym(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Qp(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):tm(e,t,n))}function Jm(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Xm(e){this.za=0,this.l=[],this.h=new uy,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Jm("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Jm("baseRetryDelayMs",5e3,e),this.$a=Jm("retryDelaySeedMs",1e4,e),this.Ya=Jm("forwardChannelMaxRetries",2,e),this.ra=Jm("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new gm(e&&e.concurrentRequestLimit),this.Ca=new Cm,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Zm(e){if(tg(e),3==e.G){var t=e.V++,n=Yy(e.F);tm(n,"SID",e.J),tm(n,"RID",t),tm(n,"TYPE","terminate"),ag(e,n),(t=new Cy(e,e.h,t,void 0)).K=2,t.v=nm(Yy(n)),n=!1,Ip.navigator&&Ip.navigator.sendBeacon&&(n=Ip.navigator.sendBeacon(t.v.toString(),"")),!n&&Ip.Image&&((new Image).src=t.v,n=!0),n||(t.g=mg(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Uy(t)}vg(e)}function eg(e){e.g&&(cg(e),e.g.cancel(),e.g=null)}function tg(e){eg(e),e.u&&(Ip.clearTimeout(e.u),e.u=null),fg(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ip.clearTimeout(e.m),e.m=null)}function ng(e,t){e.l.push(new mm(e.Za++,t)),3==e.G&&rg(e)}function rg(e){wm(e.i)||e.m||(e.m=!0,Qv(e.Ha,e),e.C=0)}function ig(e,t){var n;n=t?t.m:e.V++;var r=Yy(e.F);tm(r,"SID",e.J),tm(r,"RID",n),tm(r,"AID",e.U),ag(e,r),e.o&&e.s&&Ym(r,e.o,e.s),n=new Cy(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=og(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Im(e.i,n),Oy(n,r,t)}function ag(e,t){e.j&&Ky({},(function(e,n){tm(t,n,e)}))}function og(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Pp(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Nm(l,o,"req"+c+"_")}catch(Wg){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function ug(e){e.g||e.u||(e.Y=1,Qv(e.Ga,e),e.A=0)}function sg(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=my(Pp(e.Ga,e),dg(e,e.A)),e.A++,!0)}function cg(e){null!=e.B&&(Ip.clearTimeout(e.B),e.B=null)}function lg(e){e.g=new Cy(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Yy(e.oa);tm(t,"RID","rpc"),tm(t,"SID",e.J),tm(t,"CI",e.N?"0":"1"),tm(t,"AID",e.U),ag(e,t),tm(t,"TYPE","xmlhttp"),e.o&&e.s&&Ym(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=nm(Yy(t)),n.s=null,n.U=!0,Dy(n,e)}function fg(e){null!=e.v&&(Ip.clearTimeout(e.v),e.v=null)}function hg(e,t){var n=null;if(e.g==t){fg(e),cg(e),e.g=null;var r=2}else{if(!_m(e.i,t))return;n=t.D,Em(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Vv(r=fy(),new yy(r,n,t,i)),rg(e)}else ug(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(xm(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=my(Pp(e.Ha,e,t),dg(e,e.C)),e.C++,!0))}(e,t)||2==r&&sg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:pg(e,5);break;case 4:pg(e,10);break;case 3:pg(e,6);break;default:pg(e,2)}}function dg(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function pg(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Pp(e.jb,e);n||(n=new $y("//www.google.com/images/cleardot.gif"),Ip.location&&"http"==Ip.location.protocol||Jy(n,"https"),nm(n)),function(e,t){var n=new uy;if(Ip.Image){var r=new Image;r.onload=Op(Am,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Op(Am,n,r,"TestLoadImage: error",!1,t),r.onabort=Op(Am,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Op(Am,n,r,"TestLoadImage: timeout",!1,t),Ip.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else vy(2);e.G=0,e.j&&e.j.va(t),vg(e),tg(e)}function vg(e){e.G=0,e.I=-1,e.j&&(0==Sm(e.i).length&&0==e.l.length||(e.i.i.length=0,jp(e.l),e.l.length=0),e.j.ua())}function yg(e,t,n){var r=function(e){return e instanceof $y?Yy(e):new $y(e,void 0)}(n);if(""!=r.i)t&&Xy(r,t+"."+r.i),Zy(r,r.m);else{var i=Ip.location;r=function(e,t,n,r){var i=new $y(null,void 0);return e&&Jy(i,e),t&&Xy(i,t),n&&Zy(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Qp(e.aa,(function(e,t){tm(r,t,e)})),t=e.D,n=e.sa,t&&n&&tm(r,t,n),tm(r,"VER",e.ma),ag(e,r),r}function mg(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Um(new Rm({ib:!0})):new Um(e.qa)).L=e.H,t}function gg(){}function kg(){if(tv&&!(10<=Number(pv)))throw Error("Environmental error: no available transport.")}function bg(e,t){Uv.call(this),this.g=new Xm(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!zp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!zp(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _g(this)}function wg(e){Ey.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function xg(){Sy.call(this),this.status=1}function _g(e){this.g=e}(bp=Um.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_y.g(),this.C=this.u?wy(this.u):wy(_y),this.g.onreadystatechange=Pp(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Bm(this,a)}e=n||"";var i=new Wy(this.headers);r&&Ky(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=qm,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Ip.FormData&&e instanceof Ip.FormData,!(0<=Fp(zm,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Gm(this),0<this.B&&((this.K=function(e){return tv&&hv()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pp(this.pa,this)):this.A=ey(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Bm(this,a)}},bp.pa=function(){"undefined"!=typeof _p&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vv(this,"timeout"),this.abort(8))},bp.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Vv(this,"complete"),Vv(this,"abort"),Hm(this))},bp.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hm(this,!0)),Um.Z.M.call(this)},bp.Fa=function(){this.s||(this.F||this.v||this.l?Wm(this):this.cb())},bp.cb=function(){Wm(this)},bp.ba=function(){try{return 2<Qm(this)?this.g.status:-1}catch(km){return-1}},bp.ga=function(){try{return this.g?this.g.responseText:""}catch(km){return""}},bp.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Fm(t)}},bp.Da=function(){return this.m},bp.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(bp=Xm.prototype).ma=8,bp.G=1,bp.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},bp.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Cy(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Jp(n=$p(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=og(this,t,r),tm(i=Yy(this.F),"RID",e),tm(i,"CVER",22),this.D&&tm(i,"X-HTTP-Session-Id",this.D),ag(this,i),this.o&&n&&Ym(i,this.o,n),Im(this.i,t),this.Ra&&tm(i,"TYPE","init"),this.ja?(tm(i,"$req",r),tm(i,"SID","null"),t.$=!0,Oy(t,i,null)):Oy(t,i,r),this.G=2}}else 3==this.G&&(e?ig(this,e):0==this.l.length||wm(this.i)||ig(this))},bp.Ga=function(){if(this.u=null,lg(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=my(Pp(this.bb,this),e)}},bp.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,vy(10),eg(this),lg(this))},bp.ab=function(){null!=this.v&&(this.v=null,eg(this),sg(this),vy(19))},bp.jb=function(e){e?(this.h.info("Successfully pinged google.com"),vy(2)):(this.h.info("Failed to ping google.com"),vy(1))},(bp=gg.prototype).xa=function(){},bp.wa=function(){},bp.va=function(){},bp.ua=function(){},bp.Oa=function(){},kg.prototype.g=function(e,t){return new bg(e,t)},Dp(bg,Uv),bg.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Qv(Pp(e.hb,e,t))),vy(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=yg(e,null,e.W),rg(e)},bg.prototype.close=function(){Zm(this.g)},bg.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,ng(this.g,t)}else this.v?((t={}).__data__=zv(e),ng(this.g,t)):ng(this.g,e)},bg.prototype.M=function(){this.g.j=null,delete this.j,Zm(this.g),delete this.g,bg.Z.M.call(this)},Dp(wg,Ey),Dp(xg,Sy),Dp(_g,gg),_g.prototype.xa=function(){Vv(this.g,"a")},_g.prototype.wa=function(e){Vv(this.g,new wg(e))},_g.prototype.va=function(e){Vv(this.g,new xg(e))},_g.prototype.ua=function(){Vv(this.g,"b")},kg.prototype.createWebChannel=kg.prototype.g,bg.prototype.send=bg.prototype.u,bg.prototype.open=bg.prototype.m,bg.prototype.close=bg.prototype.close,gy.NO_ERROR=0,gy.TIMEOUT=8,gy.HTTP_ERROR=6,ky.COMPLETE="complete",xy.EventType=Iy,Iy.OPEN="a",Iy.CLOSE="b",Iy.ERROR="c",Iy.MESSAGE="d",Uv.prototype.listen=Uv.prototype.N,Um.prototype.listenOnce=Um.prototype.O,Um.prototype.getLastError=Um.prototype.La,Um.prototype.getLastErrorCode=Um.prototype.Da,Um.prototype.getStatus=Um.prototype.ba,Um.prototype.getResponseJson=Um.prototype.Qa,Um.prototype.getResponseText=Um.prototype.ga,Um.prototype.send=Um.prototype.ea;var Ig=xp.createWebChannelTransport=function(){return new kg},Eg=xp.getStatEventTarget=function(){return fy()},Sg=xp.ErrorCode=gy,Tg=xp.EventType=ky,Cg=xp.Event=cy,Ng=xp.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ag=xp.FetchXmlHttpFactory=Rm,Rg=xp.WebChannel=xy,Pg=xp.XhrIo=Um,Og="@firebase/firestore",Dg=function(){function e(t){ia(this,e),this.uid=t}return k(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Dg.UNAUTHENTICATED=new Dg(null),Dg.GOOGLE_CREDENTIALS=new Dg("google-credentials-uid"),Dg.FIRST_PARTY=new Dg("first-party-uid"),Dg.MOCK_USER=new Dg("mock-user");var Lg="9.6.7",Mg=new io("@firebase/firestore");function Fg(){return Mg.logLevel}function Ug(e){if(Mg.logLevel<=Ja.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(zg);Mg.debug.apply(Mg,["Firestore (".concat(Lg,"): ").concat(e)].concat(mt(i)))}}function Vg(e){if(Mg.logLevel<=Ja.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(zg);Mg.error.apply(Mg,["Firestore (".concat(Lg,"): ").concat(e)].concat(mt(i)))}}function jg(e){if(Mg.logLevel<=Ja.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(zg);Mg.warn.apply(Mg,["Firestore (".concat(Lg,"): ").concat(e)].concat(mt(i)))}}function zg(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function qg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Lg,") INTERNAL ASSERTION FAILED: ")+e;throw Vg(t),new Error(t)}function Bg(e,t){e||qg()}function Kg(e,t){return e}var Wg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Hg=function(e){oa(n,e);var t=la(n);function n(e,r){var i;return ia(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return k(n)}(Na),Gg=k((function e(){var t=this;ia(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Qg=k((function e(t,n){ia(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),$g=function(){function e(){ia(this,e)}return k(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Dg.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Yg=function(){function e(t){ia(this,e),this.token=t,this.changeListener=null}return k(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Jg=function(){function e(t){ia(this,e),this.t=t,this.currentUser=Dg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return k(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Gg;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Gg,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Ug("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Ug("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Gg)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Bg("string"==typeof n.accessToken),new Qg(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Bg(null===e||"string"==typeof e),new Dg(e)}}]),e}(),Xg=k((function e(t,n,r){ia(this,e),this.type="FirstParty",this.user=Dg.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Zg=function(){function e(t,n,r){ia(this,e),this.h=t,this.l=n,this.m=r}return k(e,[{key:"getToken",value:function(){return Promise.resolve(new Xg(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Dg.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),ek=k((function e(t){ia(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),tk=function(){function e(t){ia(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return k(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ug("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Ug("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ug("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Ug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Bg("string"==typeof t.token),e.p=t.token,new ek(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),nk=function(){function e(t,n){var r=this;ia(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return k(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function rk(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}nk.A=-1;var ik=function(){function e(){ia(this,e)}return k(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=rk(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function ak(e,t){return e<t?-1:e>t?1:0}function ok(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function uk(e){return e+"\0"}var sk=function(){function e(t,n){if(ia(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Hg(Wg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Hg(Wg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Hg(Wg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Hg(Wg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return k(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?ak(this.nanoseconds,e.nanoseconds):ak(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),ck=function(){function e(t){ia(this,e),this.timestamp=t}return k(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new sk(0,0))}}]),e}();function lk(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function fk(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function hk(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var dk=function(){function e(t,n,r){ia(this,e),void 0===n?n=0:n>t.length&&qg(),void 0===r?r=t.length-n:r>t.length-n&&qg(),this.segments=t,this.offset=n,this.len=r}return k(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),pk=function(e){oa(n,e);var t=la(n);function n(){return ia(this,n),t.apply(this,arguments)}return k(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Hg(Wg.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,mt(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(dk),vk=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yk=function(e){oa(n,e);var t=la(n);function n(){return ia(this,n),t.apply(this,arguments)}return k(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return vk.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Hg(Wg.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Hg(Wg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Hg(Wg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Hg(Wg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(dk),mk=function(){function e(t){ia(this,e),this.fields=t,t.sort(yk.comparator)}return k(e,[{key:"covers",value:function(e){var t,n=aa(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ok(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var gk=function(e){function t(e){ia(this,t),this.binaryString=e}return k(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return ak(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();gk.EMPTY_BYTE_STRING=new gk("");var kk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bk(e){if(Bg(!!e),"string"==typeof e){var t=0,n=kk.exec(e);if(Bg(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:wk(e.seconds),nanos:wk(e.nanos)}}function wk(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function xk(e){return"string"==typeof e?gk.fromBase64String(e):gk.fromUint8Array(e)}function _k(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ik(e){var t=e.mapValue.fields.__previous_value__;return _k(t)?Ik(t):t}function Ek(e){var t=bk(e.mapValue.fields.__local_write_time__.timestampValue);return new sk(t.seconds,t.nanos)}var Sk=k((function e(t,n,r,i,a,o,u,s){ia(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Tk=function(){function e(t,n){ia(this,e),this.projectId=t,this.database=n||"(default)"}return k(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ck(e){return null==e}function Nk(e){return 0===e&&1/e==-1/0}function Ak(e){return"number"==typeof e&&Number.isInteger(e)&&!Nk(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Rk=function(){function e(t){ia(this,e),this.path=t}return k(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===pk.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(pk.fromString(t))}},{key:"fromName",value:function(t){return new e(pk.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(pk.emptyPath())}},{key:"comparator",value:function(e,t){return pk.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new pk(t.slice()))}}]),e}(),Pk={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function Ok(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_k(e)?4:10:qg()}function Dk(e,t){if(e===t)return!0;var n=Ok(e);if(n!==Ok(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ek(e).isEqual(Ek(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=bk(e.timestampValue),r=bk(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return xk(e.bytesValue).isEqual(xk(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return wk(e.geoPointValue.latitude)===wk(t.geoPointValue.latitude)&&wk(e.geoPointValue.longitude)===wk(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return wk(e.integerValue)===wk(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=wk(e.doubleValue),r=wk(t.doubleValue);return n===r?Nk(n)===Nk(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ok(e.arrayValue.values||[],t.arrayValue.values||[],Dk);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(lk(n)!==lk(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Dk(n[i],r[i])))return!1;return!0}(e,t);default:return qg()}}function Lk(e,t){return void 0!==(e.values||[]).find((function(e){return Dk(e,t)}))}function Mk(e,t){if(e===t)return 0;var n=Ok(e),r=Ok(t);if(n!==r)return ak(n,r);switch(n){case 0:return 0;case 1:return ak(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=wk(e.integerValue||e.doubleValue),r=wk(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Fk(e.timestampValue,t.timestampValue);case 4:return Fk(Ek(e),Ek(t));case 5:return ak(e.stringValue,t.stringValue);case 6:return function(e,t){var n=xk(e),r=xk(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=ak(n[i],r[i]);if(0!==a)return a}return ak(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ak(wk(e.latitude),wk(t.latitude));return 0!==n?n:ak(wk(e.longitude),wk(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Mk(n[i],r[i]);if(a)return a}return ak(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=ak(r[o],a[o]);if(0!==u)return u;var s=Mk(n[r[o]],i[a[o]]);if(0!==s)return s}return ak(r.length,a.length)}(e.mapValue,t.mapValue);default:throw qg()}}function Fk(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ak(e,t);var n=bk(e),r=bk(t),i=ak(n.seconds,r.seconds);return 0!==i?i:ak(n.nanos,r.nanos)}function Uk(e){return Vk(e)}function Vk(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=bk(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?xk(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Rk.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=aa(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Vk(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=aa(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Vk(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):qg();var t,n}function jk(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function zk(e){return!!e&&"integerValue"in e}function qk(e){return!!e&&"arrayValue"in e}function Bk(e){return!!e&&"nullValue"in e}function Kk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wk(e){return!!e&&"mapValue"in e}function Hk(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return fk(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Hk(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Hk(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Gk=function(){function e(t){ia(this,e),this.value=t}return k(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Wk(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hk(t)}},{key:"setAll",value:function(e){var t=this,n=yk.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Hk(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Wk(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Dk(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Wk(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){fk(t,(function(t,n){return e[t]=n}));var r,i=aa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Hk(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Qk(e){var t=[];return fk(e.fields,(function(e,n){var r=new yk([e]);if(Wk(n)){var i=Qk(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=aa(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new mk(t)}var $k=function(){function e(t,n,r,i,a,o){ia(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return k(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Gk.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Gk.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,ck.min(),ck.min(),Gk.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,ck.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,ck.min(),Gk.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,ck.min(),Gk.empty(),2)}}]),e}(),Yk=k((function e(t,n,r,i){ia(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Yk.UNKNOWN_ID=-1;var Jk=k((function e(t,n){ia(this,e),this.fieldPath=t,this.kind=n})),Xk=function(){function e(t,n){ia(this,e),this.sequenceNumber=t,this.offset=n}return k(e,null,[{key:"empty",value:function(){return new e(0,Zk.min())}}]),e}(),Zk=function(){function e(t,n,r){ia(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return k(e,null,[{key:"min",value:function(){return new e(ck.min(),Rk.empty(),-1)}}]),e}(),eb=k((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;ia(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function tb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new eb(e,t,n,r,i,a,o)}function nb(e){var t=Kg(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Uk(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ck(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Uk(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Uk(e)})).join(",")),t.P=n}return t.P}function rb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!yb(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Dk(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gb(e.startAt,t.startAt)&&gb(e.endAt,t.endAt)}function ib(e){return Rk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var ab=function(e){oa(n,e);var t=la(n);function n(e,r,i){var a;return ia(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return k(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(Mk(t,this.value)):null!==t&&Ok(this.value)===Ok(t)&&this.V(Mk(t,this.value))}},{key:"V",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qg()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new ob(e,t,r):"array-contains"===t?new lb(e,r):"in"===t?new fb(e,r):"not-in"===t?new hb(e,r):"array-contains-any"===t?new db(e,r):new n(e,t,r)}},{key:"v",value:function(e,t,n){return"in"===t?new ub(e,n):new sb(e,n)}}]),n}(function(){return k((function e(){ia(this,e)}))}()),ob=function(e){oa(n,e);var t=la(n);function n(e,r,i){var a;return ia(this,n),(a=t.call(this,e,r,i)).key=Rk.fromName(i.referenceValue),a}return k(n,[{key:"matches",value:function(e){var t=Rk.comparator(e.key,this.key);return this.V(t)}}]),n}(ab),ub=function(e){oa(n,e);var t=la(n);function n(e,r){var i;return ia(this,n),(i=t.call(this,e,"in",r)).keys=cb("in",r),i}return k(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ab),sb=function(e){oa(n,e);var t=la(n);function n(e,r){var i;return ia(this,n),(i=t.call(this,e,"not-in",r)).keys=cb("not-in",r),i}return k(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ab);function cb(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Rk.fromName(e.referenceValue)}))}var lb=function(e){oa(n,e);var t=la(n);function n(e,r){return ia(this,n),t.call(this,e,"array-contains",r)}return k(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return qk(t)&&Lk(t.arrayValue,this.value)}}]),n}(ab),fb=function(e){oa(n,e);var t=la(n);function n(e,r){return ia(this,n),t.call(this,e,"in",r)}return k(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Lk(this.value.arrayValue,t)}}]),n}(ab),hb=function(e){oa(n,e);var t=la(n);function n(e,r){return ia(this,n),t.call(this,e,"not-in",r)}return k(n,[{key:"matches",value:function(e){if(Lk(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Lk(this.value.arrayValue,t)}}]),n}(ab),db=function(e){oa(n,e);var t=la(n);function n(e,r){return ia(this,n),t.call(this,e,"array-contains-any",r)}return k(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!qk(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Lk(t.value.arrayValue,e)}))}}]),n}(ab),pb=k((function e(t,n){ia(this,e),this.position=t,this.inclusive=n})),vb=k((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";ia(this,e),this.field=t,this.dir=n}));function yb(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function mb(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Rk.comparator(Rk.fromName(o.referenceValue),n.key):Mk(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function gb(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Dk(e.position[n],t.position[n]))return!1;return!0}var kb=k((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ia(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function bb(e,t,n,r,i,a,o,u){return new kb(e,t,n,r,i,a,o,u)}function wb(e){return new kb(e)}function xb(e){return!Ck(e.limit)&&"F"===e.limitType}function _b(e){return!Ck(e.limit)&&"L"===e.limitType}function Ib(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Eb(e){var t,n=aa(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Sb(e){return null!==e.collectionGroup}function Tb(e){var t=Kg(e);if(null===t.D){t.D=[];var n=Eb(t),r=Ib(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new vb(n)),t.D.push(new vb(yk.keyField(),"asc"));else{var i,a=!1,o=aa(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new vb(yk.keyField(),s))}}}return t.D}function Cb(e){var t=Kg(e);if(!t.C)if("F"===t.limitType)t.C=tb(t.path,t.collectionGroup,Tb(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=aa(Tb(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new vb(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new pb(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new pb(t.startAt.position,!t.startAt.inclusive):null;t.C=tb(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Nb(e,t,n){return new kb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ab(e,t){return rb(Cb(e),Cb(t))&&e.limitType===t.limitType}function Rb(e){return"".concat(nb(Cb(e)),"|lt:").concat(e.limitType)}function Pb(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Uk(t.value));var t})).join(", "),"]")),Ck(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Uk(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Uk(e)})).join(",")),"Target(".concat(t,")")}(Cb(e)),"; limitType=").concat(e.limitType,")")}function Ob(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Rk.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=aa(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=aa(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=mb(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Tb(e),t))&&!(e.endAt&&!function(e,t,n){var r=mb(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Tb(e),t))}(e,t)}function Db(e){return function(t,n){var r,i=!1,a=aa(Tb(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Lb(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Lb(e,t,n){var r=e.field.isKeyField()?Rk.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Mk(r,i):qg()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return qg()}}function Mb(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nk(t)?"-0":t}}function Fb(e){return{integerValue:""+e}}function Ub(e,t){return Ak(t)?Fb(t):Mb(e,t)}var Vb=k((function e(){ia(this,e),this._=void 0}));function jb(e,t,n){return e instanceof Bb?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Kb?Wb(e,t):e instanceof Hb?Gb(e,t):function(e,t){var n=qb(e,t),r=$b(n)+$b(e.k);return zk(n)&&zk(e.k)?Fb(r):Mb(e.O,r)}(e,t)}function zb(e,t,n){return e instanceof Kb?Wb(e,t):e instanceof Hb?Gb(e,t):n}function qb(e,t){return e instanceof Qb?zk(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Bb=function(e){oa(n,e);var t=la(n);function n(){return ia(this,n),t.apply(this,arguments)}return k(n)}(Vb),Kb=function(e){oa(n,e);var t=la(n);function n(e){var r;return ia(this,n),(r=t.call(this)).elements=e,r}return k(n)}(Vb);function Wb(e,t){var n,r=Yb(t),i=aa(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Dk(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Hb=function(e){oa(n,e);var t=la(n);function n(e){var r;return ia(this,n),(r=t.call(this)).elements=e,r}return k(n)}(Vb);function Gb(e,t){var n,r=Yb(t),i=aa(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Dk(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Qb=function(e){oa(n,e);var t=la(n);function n(e,r){var i;return ia(this,n),(i=t.call(this)).O=e,i.k=r,i}return k(n)}(Vb);function $b(e){return wk(e.integerValue||e.doubleValue)}function Yb(e){return qk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Jb=k((function e(t,n){ia(this,e),this.field=t,this.transform=n}));var Xb=k((function e(t,n){ia(this,e),this.version=t,this.transformResults=n})),Zb=function(){function e(t,n){ia(this,e),this.updateTime=t,this.exists=n}return k(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function ew(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var tw=k((function e(){ia(this,e)}));function nw(e,t,n){e instanceof uw?function(e,t,n){var r=e.value.clone(),i=lw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof sw?function(e,t,n){if(ew(e.precondition,t)){var r=lw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(cw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function rw(e,t,n){e instanceof uw?function(e,t,n){if(ew(e.precondition,t)){var r=e.value.clone(),i=fw(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(ow(t),r).setHasLocalMutations()}}(e,t,n):e instanceof sw?function(e,t,n){if(ew(e.precondition,t)){var r=fw(e.fieldTransforms,n,t),i=t.data;i.setAll(cw(e)),i.setAll(r),t.convertToFoundDocument(ow(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){ew(e.precondition,t)&&t.convertToNoDocument(ck.min())}(e,t)}function iw(e,t){var n,r=null,i=aa(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=qb(a.transform,o||null);null!=u&&(null==r&&(r=Gk.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function aw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ok(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Kb&&t instanceof Kb||e instanceof Hb&&t instanceof Hb?ok(e.elements,t.elements,Dk):e instanceof Qb&&t instanceof Qb?Dk(e.k,t.k):e instanceof Bb&&t instanceof Bb}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function ow(e){return e.isFoundDocument()?e.version:ck.min()}var uw=function(e){oa(n,e);var t=la(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return ia(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return k(n)}(tw),sw=function(e){oa(n,e);var t=la(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return ia(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return k(n)}(tw);function cw(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function lw(e,t,n){var r=new Map;Bg(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,zb(o,u,n[i]))}return r}function fw(e,t,n){var r,i=new Map,a=aa(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,jb(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var hw,dw,pw=function(e){oa(n,e);var t=la(n);function n(e,r){var i;return ia(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return k(n)}(tw),vw=function(e){oa(n,e);var t=la(n);function n(e,r){var i;return ia(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return k(n)}(tw),yw=k((function e(t){ia(this,e),this.count=t}));function mw(e){switch(e){default:return qg();case Wg.CANCELLED:case Wg.UNKNOWN:case Wg.DEADLINE_EXCEEDED:case Wg.RESOURCE_EXHAUSTED:case Wg.INTERNAL:case Wg.UNAVAILABLE:case Wg.UNAUTHENTICATED:return!1;case Wg.INVALID_ARGUMENT:case Wg.NOT_FOUND:case Wg.ALREADY_EXISTS:case Wg.PERMISSION_DENIED:case Wg.FAILED_PRECONDITION:case Wg.ABORTED:case Wg.OUT_OF_RANGE:case Wg.UNIMPLEMENTED:case Wg.DATA_LOSS:return!0}}function gw(e){if(void 0===e)return Vg("GRPC error has no .code"),Wg.UNKNOWN;switch(e){case hw.OK:return Wg.OK;case hw.CANCELLED:return Wg.CANCELLED;case hw.UNKNOWN:return Wg.UNKNOWN;case hw.DEADLINE_EXCEEDED:return Wg.DEADLINE_EXCEEDED;case hw.RESOURCE_EXHAUSTED:return Wg.RESOURCE_EXHAUSTED;case hw.INTERNAL:return Wg.INTERNAL;case hw.UNAVAILABLE:return Wg.UNAVAILABLE;case hw.UNAUTHENTICATED:return Wg.UNAUTHENTICATED;case hw.INVALID_ARGUMENT:return Wg.INVALID_ARGUMENT;case hw.NOT_FOUND:return Wg.NOT_FOUND;case hw.ALREADY_EXISTS:return Wg.ALREADY_EXISTS;case hw.PERMISSION_DENIED:return Wg.PERMISSION_DENIED;case hw.FAILED_PRECONDITION:return Wg.FAILED_PRECONDITION;case hw.ABORTED:return Wg.ABORTED;case hw.OUT_OF_RANGE:return Wg.OUT_OF_RANGE;case hw.UNIMPLEMENTED:return Wg.UNIMPLEMENTED;case hw.DATA_LOSS:return Wg.DATA_LOSS;default:return qg()}}(dw=hw||(hw={}))[dw.OK=0]="OK",dw[dw.CANCELLED=1]="CANCELLED",dw[dw.UNKNOWN=2]="UNKNOWN",dw[dw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dw[dw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dw[dw.NOT_FOUND=5]="NOT_FOUND",dw[dw.ALREADY_EXISTS=6]="ALREADY_EXISTS",dw[dw.PERMISSION_DENIED=7]="PERMISSION_DENIED",dw[dw.UNAUTHENTICATED=16]="UNAUTHENTICATED",dw[dw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dw[dw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dw[dw.ABORTED=10]="ABORTED",dw[dw.OUT_OF_RANGE=11]="OUT_OF_RANGE",dw[dw.UNIMPLEMENTED=12]="UNIMPLEMENTED",dw[dw.INTERNAL=13]="INTERNAL",dw[dw.UNAVAILABLE=14]="UNAVAILABLE",dw[dw.DATA_LOSS=15]="DATA_LOSS";var kw=function(){function e(t,n){ia(this,e),this.comparator=t,this.root=n||ww.EMPTY}return k(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ww.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ww.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new bw(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new bw(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new bw(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new bw(this.root,e,this.comparator,!0)}}]),e}(),bw=function(){function e(t,n,r,i){ia(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return k(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ww=function(){function e(t,n,r,i,a){ia(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return k(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw qg();if(this.right.isRed())throw qg();var e=this.left.check();if(e!==this.right.check())throw qg();return e+(this.isRed()?0:1)}}]),e}();ww.EMPTY=null,ww.RED=!0,ww.BLACK=!1,ww.EMPTY=new(function(){function e(){ia(this,e),this.size=0}return k(e,[{key:"key",get:function(){throw qg()}},{key:"value",get:function(){throw qg()}},{key:"color",get:function(){throw qg()}},{key:"left",get:function(){throw qg()}},{key:"right",get:function(){throw qg()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ww(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var xw=function(){function e(t){ia(this,e),this.comparator=t,this.data=new kw(this.comparator)}return k(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new _w(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new _w(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),_w=function(){function e(t){ia(this,e),this.iter=t}return k(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Iw(e){return e.hasNext()?e.getNext():void 0}var Ew=new kw(Rk.comparator);function Sw(){return Ew}var Tw=new kw(Rk.comparator);function Cw(){return Tw}var Nw=new kw(Rk.comparator),Aw=new xw(Rk.comparator);function Rw(){for(var e=Aw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Pw=new xw(ak);function Ow(){return Pw}var Dw=function(){function e(t,n,r,i,a){ia(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return k(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Lw.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ck.min(),r,Ow(),Sw(),Rw())}}]),e}(),Lw=function(){function e(t,n,r,i,a){ia(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return k(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(gk.EMPTY_BYTE_STRING,n,Rw(),Rw(),Rw())}}]),e}(),Mw=k((function e(t,n,r,i){ia(this,e),this.M=t,this.removedTargetIds=n,this.key=r,this.$=i})),Fw=k((function e(t,n){ia(this,e),this.targetId=t,this.F=n})),Uw=k((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gk.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ia(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Vw=function(){function e(){ia(this,e),this.B=0,this.L=qw(),this.U=gk.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return k(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Rw(),t=Rw(),n=Rw();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:qg()}})),new Lw(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=qw()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),jw=function(){function e(t){ia(this,e),this.nt=t,this.st=new Map,this.it=Sw(),this.rt=zw(),this.ot=new xw(ak)}return k(e,[{key:"ct",value:function(e){var t,n=aa(e.M);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.at(r,e.key,e.$)}}catch(u){n.e(u)}finally{n.f()}var i,a=aa(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.$)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:qg()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(ib(i))if(0===n){var a=new Rk(i.path);this.at(t,a,$k.newNoDocument(a,ck.min()))}else Bg(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&ib(a.target)){var o=new Rk(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.at(i,o,$k.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Rw();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Dw(e,n,this.ot,this.it,r);return this.it=Sw(),this.rt=zw(),this.ot=new xw(ak),i}},{key:"ut",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Vw,this.st.set(e,t)),t}},{key:"Et",value:function(e){var t=this.rt.get(e);return t||(t=new xw(ak),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Ug("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Vw),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function zw(){return new kw(Rk.comparator)}function qw(){return new kw(Rk.comparator)}var Bw={asc:"ASCENDING",desc:"DESCENDING"},Kw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ww=k((function e(t,n){ia(this,e),this.databaseId=t,this.N=n}));function Hw(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Gw(e,t){return e.N?t.toBase64():t.toUint8Array()}function Qw(e,t){return Hw(e,t.toTimestamp())}function $w(e){return Bg(!!e),ck.fromTimestamp(function(e){var t=bk(e);return new sk(t.seconds,t.nanos)}(e))}function Yw(e,t){return function(e){return new pk(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Jw(e){var t=pk.fromString(e);return Bg(bx(t)),t}function Xw(e,t){return Yw(e.databaseId,t.path)}function Zw(e,t){var n=Jw(t);if(n.get(1)!==e.databaseId.projectId)throw new Hg(Wg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Hg(Wg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Rk(rx(n))}function ex(e,t){return Yw(e.databaseId,t)}function tx(e){var t=Jw(e);return 4===t.length?pk.emptyPath():rx(t)}function nx(e){return new pk(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function rx(e){return Bg(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ix(e,t,n){return{name:Xw(e,t),fields:n.value.mapValue.fields}}function ax(e,t,n){var r=Zw(e,t.name),i=$w(t.updateTime),a=new Gk({mapValue:{fields:t.fields}}),o=$k.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function ox(e,t){return"found"in t?function(e,t){Bg(!!t.found),t.found.name,t.found.updateTime;var n=Zw(e,t.found.name),r=$w(t.found.updateTime),i=new Gk({mapValue:{fields:t.found.fields}});return $k.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Bg(!!t.missing),Bg(!!t.readTime);var n=Zw(e,t.missing),r=$w(t.readTime);return $k.newNoDocument(n,r)}(e,t):qg()}function ux(e,t){var n;if(t instanceof uw)n={update:ix(e,t.key,t.value)};else if(t instanceof pw)n={delete:Xw(e,t.key)};else if(t instanceof sw)n={update:ix(e,t.key,t.data),updateMask:kx(t.fieldMask)};else{if(!(t instanceof vw))return qg();n={verify:Xw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Bb)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Kb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Hb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Qb)return{fieldPath:t.field.canonicalString(),increment:n.k};throw qg()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Qw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:qg()}(e,t.precondition)),n}function sx(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Zb.updateTime($w(e.updateTime)):void 0!==e.exists?Zb.exists(e.exists):Zb.none()}(t.currentDocument):Zb.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Bg("REQUEST_TIME"===t.setToServerValue),n=new Bb;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Kb(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Hb(i)}else"increment"in t?n=new Qb(e,t.increment):qg();var a=yk.fromServerFormat(t.fieldPath);return new Jb(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Zw(e,t.update.name),a=new Gk({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new mk(t.map((function(e){return yk.fromServerFormat(e)})))}(t.updateMask);return new sw(i,a,o,n,r)}return new uw(i,a,n,r)}if(t.delete){var u=Zw(e,t.delete);return new pw(u,n)}if(t.verify){var s=Zw(e,t.verify);return new vw(s,n)}return qg()}function cx(e,t){return{documents:[ex(e,t.path)]}}function lx(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ex(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ex(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Kk(e.value))return{unaryFilter:{field:vx(e.field),op:"IS_NAN"}};if(Bk(e.value))return{unaryFilter:{field:vx(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Kk(e.value))return{unaryFilter:{field:vx(e.field),op:"IS_NOT_NAN"}};if(Bk(e.value))return{unaryFilter:{field:vx(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vx(e.field),op:px(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:vx(e.field),direction:dx(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||Ck(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function fx(e){var t=tx(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Bg(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=hx(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new vb(yx(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ck(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new pb(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new pb(n,t)}(n.endAt)),bb(t,i,u,o,s,"F",c,l)}function hx(e){return e?void 0!==e.unaryFilter?[gx(e)]:void 0!==e.fieldFilter?[mx(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return hx(e)})).reduce((function(e,t){return e.concat(t)})):qg():[]}function dx(e){return Bw[e]}function px(e){return Kw[e]}function vx(e){return{fieldPath:e.canonicalString()}}function yx(e){return yk.fromServerFormat(e.fieldPath)}function mx(e){return ab.create(yx(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qg()}}(e.fieldFilter.op),e.fieldFilter.value)}function gx(e){switch(e.unaryFilter.op){case"IS_NAN":var t=yx(e.unaryFilter.field);return ab.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=yx(e.unaryFilter.field);return ab.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=yx(e.unaryFilter.field);return ab.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=yx(e.unaryFilter.field);return ab.create(i,"!=",{nullValue:"NULL_VALUE"});default:return qg()}}function kx(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function bx(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function wx(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=_x(t)),t=xx(e.get(n),t);return _x(t)}function xx(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function _x(e){return e+"\x01\x01"}function Ix(e){var t=e.length;if(Bg(t>=2),2===t)return Bg("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),pk.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&qg(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:qg()}a=o+2}return new pk(r)}var Ex=k((function e(t,n){ia(this,e),this.seconds=t,this.nanoseconds=n})),Sx=k((function e(t,n,r){ia(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));Sx.store="owner",Sx.key="owner";var Tx=k((function e(t,n,r){ia(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Tx.store="mutationQueues",Tx.keyPath="userId";var Cx=k((function e(t,n,r,i,a){ia(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));Cx.store="mutations",Cx.keyPath="batchId",Cx.userMutationsIndex="userMutationsIndex",Cx.userMutationsKeyPath=["userId","batchId"];var Nx=function(){function e(){ia(this,e)}return k(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,wx(t)]}},{key:"key",value:function(e,t,n){return[e,wx(t),n]}}]),e}();Nx.store="documentMutations",Nx.PLACEHOLDER=new Nx;var Ax=k((function e(t,n){ia(this,e),this.path=t,this.readTime=n})),Rx=k((function e(t,n){ia(this,e),this.path=t,this.version=n})),Px=k((function e(t,n,r,i,a,o){ia(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));Px.store="remoteDocuments",Px.readTimeIndex="readTimeIndex",Px.readTimeIndexPath="readTime",Px.collectionReadTimeIndex="collectionReadTimeIndex",Px.collectionReadTimeIndexPath=["parentPath","readTime"];var Ox=k((function e(t){ia(this,e),this.byteSize=t}));Ox.store="remoteDocumentGlobal",Ox.key="remoteDocumentGlobalKey";var Dx=k((function e(t,n,r,i,a,o,u){ia(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=u}));Dx.store="targets",Dx.keyPath="targetId",Dx.queryTargetsIndexName="queryTargetsIndex",Dx.queryTargetsKeyPath=["canonicalId","targetId"];var Lx=k((function e(t,n,r){ia(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Lx.store="targetDocuments",Lx.keyPath=["targetId","path"],Lx.documentTargetsIndex="documentTargetsIndex",Lx.documentTargetsKeyPath=["path","targetId"];var Mx=k((function e(t,n,r,i){ia(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Mx.key="targetGlobalKey",Mx.store="targetGlobal";var Fx=k((function e(t,n){ia(this,e),this.collectionId=t,this.parent=n}));Fx.store="collectionParents",Fx.keyPath=["collectionId","parent"];var Ux=k((function e(t,n,r,i){ia(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Ux.store="clientMetadata",Ux.keyPath="clientId";var Vx=k((function e(t,n,r){ia(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Vx.store="bundles",Vx.keyPath="bundleId";var jx=k((function e(t,n,r){ia(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));jx.store="namedQueries",jx.keyPath="name";var zx=k((function e(t,n,r){ia(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r}));zx.store="indexConfiguration",zx.keyPath="indexId",zx.collectionGroupIndex="collectionGroupIndex",zx.collectionGroupIndexPath="collectionGroup";var qx=k((function e(t,n,r,i,a,o){ia(this,e),this.indexId=t,this.uid=n,this.sequenceNumber=r,this.readTime=i,this.documentKey=a,this.largestBatchId=o}));qx.store="indexState",qx.keyPath=["indexId","uid"],qx.sequenceNumberIndex="sequenceNumberIndex",qx.sequenceNumberIndexPath=["uid","sequenceNumber"];var Bx=k((function e(t,n,r,i,a){ia(this,e),this.indexId=t,this.uid=n,this.arrayValue=r,this.directionalValue=i,this.documentKey=a}));Bx.store="indexEntries",Bx.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],Bx.documentKeyIndex="documentKeyIndex",Bx.documentKeyIndexPath=["indexId","uid","documentKey"];var Kx=k((function e(t,n,r,i,a,o){ia(this,e),this.userId=t,this.collectionPath=n,this.documentId=r,this.collectionGroup=i,this.largestBatchId=a,this.overlayMutation=o}));Kx.store="documentOverlays",Kx.keyPath=["userId","collectionPath","documentId"],Kx.collectionPathOverlayIndex="collectionPathOverlayIndex",Kx.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Kx.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Kx.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];var Wx=[Tx.store,Cx.store,Nx.store,Px.store,Dx.store,Sx.store,Mx.store,Lx.store].concat([Ux.store]).concat([Ox.store]).concat([Fx.store]).concat([Vx.store,jx.store]),Hx=[].concat(mt(Wx),[Kx.store]),Gx=[].concat(mt(Hx),[zx.store,qx.store,Bx.store]),Qx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$x=function(){function e(){ia(this,e),this.onCommittedListeners=[]}return k(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Yx=function(){function e(t){var n=this;ia(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return k(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&qg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=aa(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Jx=function(){function e(t,n){var r=this;ia(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Gg,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new e_(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=a_(e.target.error);r.At.reject(new e_(t,n))}}return k(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Ug("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new n_(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new e_(n,t)}}}]),e}(),Xx=function(){function e(t,n,r){ia(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.vt(xa())&&Vg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return k(e,[{key:"xt",value:function(){var e=Ka(Ha().mark((function e(t){var n=this;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Ug("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new e_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Hg(Wg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Hg(Wg.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new e_(t,n))},i.onupgradeneeded=function(e){Ug("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Ug("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Ot&&(this.db.onversionchange=function(e){return n.Ot(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mt",value:function(e){this.Ot=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ka(Ha().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Ha().mark((function e(){var n,o;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.xt(t);case 2:return c.db=e.sent,n=Jx.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),Yx.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Ug("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Ug("SimpleDb","Removing database:",e),r_(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Vt",value:function(){if(!Ca())return!1;if(e.St())return!0;var t=xa(),n=e.vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/slack-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"Nt",value:function(e,t){return e.store(t)}},{key:"vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Zx=function(){function e(t){ia(this,e),this.$t=t,this.Ft=!1,this.Bt=null}return k(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return r_(this.$t.delete())}}]),e}(),e_=function(e){oa(n,e);var t=la(n);function n(e,r){var i;return ia(this,n),(i=t.call(this,Wg.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return k(n)}(Hg);function t_(e){return"IndexedDbTransactionError"===e.name}var n_=function(){function e(t){ia(this,e),this.store=t}return k(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Ug("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ug("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),r_(n)}},{key:"add",value:function(e){return Ug("SimpleDb","ADD",this.store.name,e,e),r_(this.store.add(e))}},{key:"get",value:function(e){var t=this;return r_(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ug("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Ug("SimpleDb","DELETE",this.store.name,e),r_(this.store.delete(e))}},{key:"count",value:function(){return Ug("SimpleDb","COUNT",this.store.name),r_(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Yx((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){Ug("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Qt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"Wt",value:function(e){var t=this.cursor({});return new Yx((function(n,r){t.onerror=function(e){var t=a_(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new Yx((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Zx(i),o=t(i.primaryKey,i.value,a);if(o instanceof Yx){var u=o.catch((function(e){return a.done(),Yx.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return Yx.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function r_(e){return new Yx((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=a_(e.target.error);n(t)}}))}var i_=!1;function a_(e){var t=Xx.vt(xa());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Hg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return i_||(i_=!0,setTimeout((function(){throw r}),0)),r}}return e}var o_=function(e){oa(n,e);var t=la(n);function n(e,r){var i;return ia(this,n),(i=t.call(this)).zt=e,i.currentSequenceNumber=r,i}return k(n)}($x);function u_(e,t){var n=Kg(e);return Xx.Nt(n.zt,t)}var s_=function(){function e(t,n,r,i){ia(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return k(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&nw(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=aa(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&rw(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=aa(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&rw(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ck.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Rw())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ok(this.mutations,e.mutations,(function(e,t){return aw(e,t)}))&&ok(this.baseMutations,e.baseMutations,(function(e,t){return aw(e,t)}))}}]),e}(),c_=function(){function e(t,n,r,i){ia(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return k(e,null,[{key:"from",value:function(t,n,r){Bg(t.mutations.length===r.length);for(var i=Nw,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),l_=function(){function e(t,n){ia(this,e),this.largestBatchId=t,this.mutation=n}return k(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),f_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ck.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ck.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:gk.EMPTY_BYTE_STRING;ia(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return k(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),h_=k((function e(t){ia(this,e),this.Ht=t}));function d_(e,t){var n;if(t.document)n=ax(e.Ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Rk.fromSegments(t.noDocument.path),i=g_(t.noDocument.readTime);n=$k.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return qg();var a=Rk.fromSegments(t.unknownDocument.path),o=g_(t.unknownDocument.version);n=$k.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(y_(t.readTime)),n}function p_(e,t){var n=v_(t.readTime),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){var i=function(e,t){return{name:Xw(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Hw(e,t.version.toTimestamp())}}(e.Ht,t),a=t.hasCommittedMutations;return new Px(null,null,i,a,n,r)}if(t.isNoDocument()){var o=t.key.path.toArray(),u=m_(t.version),s=t.hasCommittedMutations;return new Px(null,new Ax(o,u),null,s,n,r)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=m_(t.version);return new Px(new Rx(c,l),null,null,!0,n,r)}return qg()}function v_(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function y_(e){var t=new sk(e[0],e[1]);return ck.fromTimestamp(t)}function m_(e){var t=e.toTimestamp();return new Ex(t.seconds,t.nanoseconds)}function g_(e){var t=new sk(e.seconds,e.nanoseconds);return ck.fromTimestamp(t)}function k_(e,t){for(var n=(t.baseMutations||[]).map((function(t){return sx(e.Ht,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return sx(e.Ht,t)})),u=sk.fromMillis(t.localWriteTimeMs);return new s_(t.batchId,u,n,o)}function b_(e){var t,n,r=g_(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?g_(e.lastLimboFreeSnapshotVersion):ck.min();return void 0!==e.query.documents?(Bg(1===(n=e.query).documents.length),t=Cb(wb(tx(n.documents[0])))):t=function(e){return Cb(fx(e))}(e.query),new f_(t,e.targetId,0,e.lastListenSequenceNumber,r,i,gk.fromBase64String(e.resumeToken))}function w_(e,t){var n,r=m_(t.snapshotVersion),i=m_(t.lastLimboFreeSnapshotVersion);n=ib(t.target)?cx(e.Ht,t.target):lx(e.Ht,t.target);var a=t.resumeToken.toBase64();return new Dx(t.targetId,nb(t.target),r,a,t.sequenceNumber,i,n)}function x_(e){var t=fx({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Nb(t,t.limit,"L"):t}function __(e,t){return new l_(t.largestBatchId,sx(e.Ht,t.overlayMutation))}function I_(e,t){var n=t.path.lastSegment();return[e,wx(t.path.popLast()),n]}var E_=function(){function e(){ia(this,e)}return k(e,[{key:"getBundleMetadata",value:function(e,t){return S_(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:g_(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return S_(e).put({bundleId:(n=t).id,createTime:m_($w(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return T_(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:x_(t.bundledQuery),readTime:g_(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return T_(e).put(function(e){return{name:e.name,readTime:m_($w(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function S_(e){return u_(e,Vx.store)}function T_(e){return u_(e,jx.store)}var C_=function(){function e(t,n){ia(this,e),this.O=t,this.userId=n}return k(e,[{key:"getOverlay",value:function(e,t){var n=this;return N_(e).get(I_(this.userId,t)).next((function(e){return e?__(n.O,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n){var a=new l_(t,n);i.push(r.Yt(e,a))})),Yx.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(wx(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(N_(e).Gt(Kx.collectionPathOverlayIndex,i))})),Yx.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=new Map,a=wx(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return N_(e).qt(Kx.collectionPathOverlayIndex,o).next((function(e){var t,n=aa(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=__(r.O,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=new Map,u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return N_(e).Qt({index:Kx.collectionGroupOverlayIndex,range:u},(function(e,t,n){var u=__(a.O,t);o.size<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Yt",value:function(e,t){return N_(e).put(function(e,t,n){var r=s(I_(t,n.mutation.key),3),i=(r[0],r[1]),a=r[2];return new Kx(t,i,a,n.mutation.key.getCollectionGroup(),n.largestBatchId,ux(e.Ht,n.mutation))}(this.O,this.userId,t))}}],[{key:"Jt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function N_(e){return u_(e,Kx.store)}var A_=function(){function e(){ia(this,e)}return k(e,[{key:"Xt",value:function(e,t){this.Zt(e,t),t.te()}},{key:"Zt",value:function(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(wk(e.integerValue));else if("doubleValue"in e){var n=wk(e.doubleValue);isNaN(n)?this.ee(t,13):(this.ee(t,15),Nk(n)?t.ne(0):t.ne(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se("".concat(r.seconds||"")),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(xk(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ee(t,45),t.ne(i.latitude||0),t.ne(i.longitude||0)}else"mapValue"in e?Dk(e,Pk)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):qg()}},{key:"ie",value:function(e,t){this.ee(t,25),this.he(e,t)}},{key:"he",value:function(e,t){t.se(e)}},{key:"ue",value:function(e,t){var n=e.fields||{};this.ee(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ie(a,t),this.Zt(n[a],t)}}},{key:"ae",value:function(e,t){var n=e.values||[];this.ee(t,50);var r,i=aa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Zt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ce",value:function(e,t){var n=this;this.ee(t,37),Rk.fromName(e).path.forEach((function(e){n.ee(t,60),n.he(e,t)}))}},{key:"ee",value:function(e,t){e.ne(t)}},{key:"re",value:function(e){e.ne(2)}}]),e}();function R_(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function P_(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=R_(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}A_.le=new A_;var O_=function(){function e(){ia(this,e),this.buffer=new Uint8Array(1024),this.position=0}return k(e,[{key:"fe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.de(n.value),n=t.next();this._e()}},{key:"we",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.me(n.value),n=t.next();this.ge()}},{key:"ye",value:function(e){var t,n=aa(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.de(i);else if(i<2048)this.de(960|i>>>6),this.de(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.de(480|i>>>12),this.de(128|63&i>>>6),this.de(128|63&i);else{var a=r.codePointAt(0);this.de(240|a>>>18),this.de(128|63&a>>>12),this.de(128|63&a>>>6),this.de(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this._e()}},{key:"pe",value:function(e){var t,n=aa(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.me(i);else if(i<2048)this.me(960|i>>>6),this.me(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.me(480|i>>>12),this.me(128|63&i>>>6),this.me(128|63&i);else{var a=r.codePointAt(0);this.me(240|a>>>18),this.me(128|63&a>>>12),this.me(128|63&a>>>6),this.me(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ge()}},{key:"Ie",value:function(e){var t=this.Ee(e),n=P_(t);this.Te(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ae",value:function(e){var t=this.Ee(e),n=P_(t);this.Te(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Re",value:function(){this.Pe(255),this.Pe(255)}},{key:"be",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ve",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"de",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"me",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"_e",value:function(){this.Pe(0),this.Pe(1)}},{key:"ge",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Te(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Te(1),this.buffer[this.position++]=~e}},{key:"Te",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),D_=function(){function e(t){ia(this,e),this.Se=t}return k(e,[{key:"oe",value:function(e){this.Se.fe(e)}},{key:"se",value:function(e){this.Se.ye(e)}},{key:"ne",value:function(e){this.Se.Ie(e)}},{key:"te",value:function(){this.Se.Re()}}]),e}(),L_=function(){function e(t){ia(this,e),this.Se=t}return k(e,[{key:"oe",value:function(e){this.Se.we(e)}},{key:"se",value:function(e){this.Se.pe(e)}},{key:"ne",value:function(e){this.Se.Ae(e)}},{key:"te",value:function(){this.Se.be()}}]),e}(),M_=function(){function e(){ia(this,e),this.Se=new O_,this.De=new D_(this.Se),this.Ce=new L_(this.Se)}return k(e,[{key:"seed",value:function(e){this.Se.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.De:this.Ce}},{key:"Ve",value:function(){return this.Se.Ve()}},{key:"reset",value:function(){this.Se.reset()}}]),e}(),F_=k((function e(t,n,r,i){ia(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}));function U_(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Rk.comparator(e.documentKey,t.documentKey))?n:0!==(n=V_(e.arrayValue,t.arrayValue))?n:V_(e.directionalValue,t.directionalValue)}function V_(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var j_=function(){function e(){ia(this,e),this.xe=new z_}return k(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.xe.add(t),Yx.resolve()}},{key:"getCollectionParents",value:function(e,t){return Yx.resolve(this.xe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Yx.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Yx.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return Yx.resolve(Rw())}},{key:"getFieldIndex",value:function(e,t){return Yx.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return Yx.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Yx.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return Yx.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Yx.resolve()}}]),e}(),z_=function(){function e(){ia(this,e),this.index={}}return k(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new xw(pk.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new xw(pk.comparator)).toArray()}}]),e}(),q_=function(){function e(t){ia(this,e),this.user=t,this.ke=new z_,this.uid=t.uid||""}return k(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.ke.add(t)}));var a={collectionId:r,parent:wx(i)};return B_(e).put(a)}return Yx.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[uk(t),""],!1,!0);return B_(e).qt(r).next((function(e){var r,i=aa(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Ix(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=W_(e),r=function(e){return new zx(e.indexId,e.collectionGroup,e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]})))}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=W_(e),r=H_(e),i=K_(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return Yx.resolve(Rw())}},{key:"getFieldIndex",value:function(e,t){return Yx.resolve(null)}},{key:"Oe",value:function(e,t){var n,r=new M_,i=aa(function(e){return e.fields.filter((function(e){return 2!==e.kind}))}(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);A_.le.Xt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Ve()}},{key:"Me",value:function(e){var t=new M_;return A_.le.Xt(e,t.Ne(0)),t.Ve()}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=W_(e),i=H_(e);return(t?r.qt(zx.collectionGroupIndex,IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return Yx.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Xk(t.sequenceNumber,new Zk(g_(t.readTime),new Rk(Ix(t.documentKey)),t.largestBatchId)):Xk.empty(),r=e.fields.map((function(e){var t=s(e,2),n=t[0],r=t[1];return new Jk(yk.fromServerFormat(n),r)}));return new Yk(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){return e.indexState.sequenceNumber-t.indexState.sequenceNumber})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=W_(e),a=H_(e);return this.$e(e).next((function(e){return i.qt(zx.collectionGroupIndex,IDBKeyRange.bound(t,t)).next((function(t){return Yx.forEach(t,(function(t){return a.put(function(e,t,n,r){return new qx(e,t.uid||"",n,m_(r.readTime),wx(r.documentKey.path),r.largestBatchId)}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Yx.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Yx.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Yx.forEach(a,(function(r){return n.Fe(e,t,r).next((function(t){var a=n.Be(i,r);return t.isEqual(a)?Yx.resolve():n.Le(e,i,t,a)}))}))}))}))}},{key:"Ue",value:function(e,t,n){return K_(e).put(new Bx(n.indexId,this.uid,n.arrayValue,n.directionalValue,wx(t.key.path)))}},{key:"qe",value:function(e,t,n){return K_(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,wx(t.key.path)])}},{key:"Fe",value:function(e,t,n){var r=K_(e),i=new xw(U_);return r.Qt({index:Bx.documentKeyIndex,range:IDBKeyRange.only([n.indexId,this.uid,wx(t.path)])},(function(e,r){i=i.add(new F_(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"Be",value:function(e,t){var n=new xw(U_),r=this.Oe(t,e);if(null==r)return n;var i=function(e){return e.fields.find((function(e){return 2===e.kind}))}(t);if(null!=i){var a=e.data.field(i.fieldPath);if(qk(a)){var o,u=aa(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new F_(t.indexId,e.key,this.Me(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new F_(t.indexId,e.key,new Uint8Array,r));return n}},{key:"Le",value:function(e,t,n,r){var i=this;Ug("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Iw(a),s=Iw(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Iw(o)):l?(i(u),u=Iw(a)):(u=Iw(a),s=Iw(o))}}(n,r,U_,(function(n){a.push(i.Ue(e,t,n))}),(function(n){a.push(i.qe(e,t,n))})),Yx.waitFor(a)}},{key:"$e",value:function(e){var t=1;return H_(e).Qt({index:qx.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}}]),e}();function B_(e){return u_(e,Fx.store)}function K_(e){return u_(e,Bx.store)}function W_(e){return u_(e,zx.store)}function H_(e){return u_(e,qx.store)}var G_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q_=function(){function e(t,n,r){ia(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return k(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function $_(e,t,n){var r=e.store(Cx.store),i=e.store(Nx.store),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Qt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Bg(1===u)})));var c,l=[],f=aa(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Nx.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Yx.waitFor(a).next((function(){return l}))}function Y_(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw qg();t=e.noDocument}return JSON.stringify(t).length}Q_.DEFAULT_COLLECTION_PERCENTILE=10,Q_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Q_.DEFAULT=new Q_(41943040,Q_.DEFAULT_COLLECTION_PERCENTILE,Q_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Q_.DISABLED=new Q_(-1,0,0);var J_=function(){function e(t,n,r,i){ia(this,e),this.userId=t,this.O=n,this.indexManager=r,this.referenceDelegate=i,this.Ke={}}return k(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Z_(e).Qt({index:Cx.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=eI(e),o=Z_(e);return o.add({}).next((function(u){Bg("number"==typeof u);var s,c=new s_(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return ux(e.Ht,t)})),i=n.mutations.map((function(t){return ux(e.Ht,t)}));return new Cx(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.O,i.userId,c),f=[],h=new xw((function(e,t){return ak(e.canonicalString(),t.canonicalString())})),d=aa(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Nx.key(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Nx.PLACEHOLDER))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Ke[u]=c.keys()})),Yx.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Z_(e).get(t).next((function(e){return e?(Bg(e.userId===n.userId),k_(n.O,e)):null}))}},{key:"Ge",value:function(e,t){var n=this;return this.Ke[t]?Yx.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Ke[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Z_(e).Qt({index:Cx.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Bg(t.batchId>=r),a=k_(n.O,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Z_(e).Qt({index:Cx.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Z_(e).qt(Cx.userMutationsIndex,n).next((function(e){return e.map((function(e){return k_(t.O,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Nx.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return eI(e).Qt({range:i},(function(r,i,o){var u=s(r,3),c=u[0],l=u[1],f=u[2],h=Ix(l);if(c===n.userId&&t.path.isEqual(h))return Z_(e).get(f).next((function(e){if(!e)throw qg();Bg(e.userId===n.userId),a.push(k_(n.O,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new xw(ak),i=[];return t.forEach((function(t){var a=Nx.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=eI(e).Qt({range:o},(function(e,i,a){var o=s(e,3),u=o[0],c=o[1],l=o[2],f=Ix(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),Yx.waitFor(i).next((function(){return n.je(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Nx.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new xw(ak);return eI(e).Qt({range:o},(function(e,t,a){var o=s(e,3),c=o[0],l=o[1],f=o[2],h=Ix(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.je(e,u)}))}},{key:"je",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Z_(e).get(t).next((function(e){if(null===e)throw qg();Bg(e.userId===n.userId),r.push(k_(n.O,e))})))})),Yx.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return $_(e.zt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Qe(t.batchId)})),Yx.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Qe",value:function(e){delete this.Ke[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Yx.resolve();var r=IDBKeyRange.lowerBound(Nx.prefixForUser(t.userId)),i=[];return eI(e).Qt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Ix(e[1]);i.push(a)}else r.done()})).next((function(){Bg(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return X_(e,this.userId,t)}},{key:"We",value:function(e){var t=this;return tI(e).get(this.userId).next((function(e){return e||new Tx(t.userId,-1,"")}))}}],[{key:"Jt",value:function(t,n,r,i){return Bg(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function X_(e,t,n){var r=Nx.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return eI(e).Qt({range:a,jt:!0},(function(e,n,r){var a=s(e,3),u=a[0],c=a[1];a[2];u===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function Z_(e){return u_(e,Cx.store)}function eI(e){return u_(e,Nx.store)}function tI(e){return u_(e,Tx.store)}var nI=function(){function e(t){ia(this,e),this.ze=t}return k(e,[{key:"next",value:function(){return this.ze+=2,this.ze}}],[{key:"He",value:function(){return new e(0)}},{key:"Je",value:function(){return new e(-1)}}]),e}(),rI=function(){function e(t,n){ia(this,e),this.referenceDelegate=t,this.O=n}return k(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Ye(e).next((function(n){var r=new nI(n.highestTargetId);return n.highestTargetId=r.next(),t.Xe(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Ye(e).next((function(e){return ck.fromTimestamp(new sk(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Ye(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Ye(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Xe(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Ze(e,t).next((function(){return n.Ye(e).next((function(r){return r.targetCount+=1,n.tn(t,r),n.Xe(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Ze(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return iI(e).delete(t.targetId)})).next((function(){return n.Ye(e)})).next((function(t){return Bg(t.targetCount>0),t.targetCount-=1,n.Xe(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return iI(e).Qt((function(o,u){var s=b_(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Yx.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return iI(e).Qt((function(e,n){var r=b_(n);t(r)}))}},{key:"Ye",value:function(e){return aI(e).get(Mx.key).next((function(e){return Bg(null!==e),e}))}},{key:"Xe",value:function(e,t){return aI(e).put(Mx.key,t)}},{key:"Ze",value:function(e,t){return iI(e).put(w_(this.O,t))}},{key:"tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Ye(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=nb(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return iI(e).Qt({range:r,index:Dx.queryTargetsIndexName},(function(e,n,r){var a=b_(n);rb(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=oI(e);return t.forEach((function(t){var o=wx(t.path);i.push(a.put(new Lx(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),Yx.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=oI(e);return Yx.forEach(t,(function(t){var a=wx(t.path);return Yx.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=oI(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=oI(e),i=Rw();return r.Qt({range:n,jt:!0},(function(e,t,n){var r=Ix(e[1]),a=new Rk(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=wx(t.path),r=IDBKeyRange.bound([n],[uk(n)],!1,!0),i=0;return oI(e).Qt({index:Lx.documentTargetsIndex,jt:!0,range:r},(function(e,t,n){var r=s(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Tt",value:function(e,t){return iI(e).get(t).next((function(e){return e?b_(e):null}))}}]),e}();function iI(e){return u_(e,Dx.store)}function aI(e){return u_(e,Mx.store)}function oI(e){return u_(e,Lx.store)}function uI(e){return sI.apply(this,arguments)}function sI(){return sI=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Wg.FAILED_PRECONDITION&&t.message===Qx){e.next=2;break}throw t;case 2:Ug("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),sI.apply(this,arguments)}function cI(e,t){var n=s(e,2),r=n[0],i=n[1],a=s(t,2),o=a[0],u=a[1],c=ak(r,o);return 0===c?ak(i,u):c}var lI=function(){function e(t){ia(this,e),this.en=t,this.buffer=new xw(cI),this.nn=0}return k(e,[{key:"sn",value:function(){return++this.nn}},{key:"rn",value:function(e){var t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();cI(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),fI=function(){function e(t,n){ia(this,e),this.garbageCollector=t,this.asyncQueue=n,this.on=!1,this.cn=null}return k(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}},{key:"stop",value:function(){this.cn&&(this.cn.cancel(),this.cn=null)}},{key:"started",get:function(){return null!==this.cn}},{key:"un",value:function(e){var t=this,n=this.on?3e5:6e4;Ug("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Ka(Ha().mark((function n(){return Ha().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.cn=null,t.on=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!t_(n.t0)){n.next=12;break}Ug("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,uI(n.t0);case 14:return n.next=16,t.un(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),hI=function(){function e(t,n){ia(this,e),this.an=t,this.params=n}return k(e,[{key:"calculateTargetCount",value:function(e,t){return this.an.hn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Yx.resolve(nk.A);var r=new lI(t);return this.an.forEachTarget(e,(function(e){return r.rn(e.sequenceNumber)})).next((function(){return n.an.ln(e,(function(e){return r.rn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.an.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.an.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ug("LruGarbageCollector","Garbage collection skipped; disabled"),Yx.resolve(G_)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ug("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),G_):n.fn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.an.getCacheSize(e)}},{key:"fn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ug("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Fg()<=Ja.DEBUG&&Ug("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Yx.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),dI=function(){function e(t,n){ia(this,e),this.db=t,this.garbageCollector=function(e,t){return new hI(e,t)}(this,n)}return k(e,[{key:"hn",value:function(e){var t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"dn",value:function(e){var t=0;return this.ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"ln",value:function(e,t){return this._n(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return pI(e,n)}},{key:"removeReference",value:function(e,t,n){return pI(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return pI(e,t)}},{key:"wn",value:function(e,t){return function(e,t){var n=!1;return tI(e).Wt((function(r){return X_(e,r,t).next((function(e){return e&&(n=!0),Yx.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this._n(e,(function(o,u){if(u<=t){var s=n.wn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,ck.min()),oI(e).delete([0,wx(o.path)])}))}));i.push(s)}})).next((function(){return Yx.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return pI(e,t)}},{key:"_n",value:function(e,t){var n,r=oI(e),i=nk.A;return r.Qt({index:Lx.documentTargetsIndex},(function(e,r){var a=s(e,2),o=a[0],u=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==nk.A&&t(new Rk(Ix(n)),i),i=c,n=u):i=nk.A})).next((function(){i!==nk.A&&t(new Rk(Ix(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function pI(e,t){return oI(e).put(function(e,t){return new Lx(0,wx(e.path),t)}(t,e.currentSequenceNumber))}var vI=function(){function e(t,n){ia(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return k(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=aa(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){fk(this.inner,(function(t,n){var r,i=aa(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return hk(this.inner)}}]),e}(),yI=function(){function e(){ia(this,e),this.changes=new vI((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return k(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,$k.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Yx.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),mI=function(){function e(t){ia(this,e),this.O=t}return k(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return bI(e).put(wI(t),n)}},{key:"removeEntry",value:function(e,t){var n=bI(e),r=wI(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.mn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return bI(e).get(wI(t)).next((function(e){return n.gn(t,e)}))}},{key:"yn",value:function(e,t){var n=this;return bI(e).get(wI(t)).next((function(e){return{document:n.gn(t,e),size:Y_(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=Sw();return this.pn(e,t,(function(e,t){var i=n.gn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"In",value:function(e,t){var n=this,r=Sw(),i=new kw(Rk.comparator);return this.pn(e,t,(function(e,t){var a=n.gn(e,t);r=r.insert(e,a),i=i.insert(e,Y_(t))})).next((function(){return{documents:r,En:i}}))}},{key:"pn",value:function(e,t,n){if(t.isEmpty())return Yx.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return bI(e).Qt({range:r},(function(e,t,r){for(var o=Rk.fromSegments(e);a&&Rk.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Ut(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getAll",value:function(e,t,n){var r=this,i=Sw(),a=t.length+1,o={};if(n.isEqual(ck.min())){var u=t.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.toArray(),c=v_(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=Px.collectionReadTimeIndex}return bI(e).Qt(o,(function(e,n,o){if(e.length===a){var u=r.gn(Rk.fromSegments(e),n);t.isPrefixOf(u.key.path)?i=i.insert(u.key,u):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new gI(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return kI(e).get(Ox.key).next((function(e){return Bg(!!e),e}))}},{key:"mn",value:function(e,t){return kI(e).put(Ox.key,t)}},{key:"gn",value:function(e,t){if(t){var n=d_(this.O,t);if(!n.isNoDocument()||!n.version.isEqual(ck.min()))return n}return $k.newInvalidDocument(e)}}]),e}(),gI=function(e){oa(n,e);var t=la(n);function n(e,r){var i;return ia(this,n),(i=t.call(this)).Tn=e,i.trackRemovals=r,i.An=new vI((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return k(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new xw((function(e,t){return ak(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.An.get(a);if(o.isValidDocument()){var s=p_(t.Tn.O,o);i=i.add(a.path.popLast());var c=Y_(s);r+=c-u,n.push(t.Tn.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=p_(t.Tn.O,o.convertToNoDocument(ck.min()));n.push(t.Tn.addEntry(e,a,l))}else n.push(t.Tn.removeEntry(e,a))})),i.forEach((function(r){n.push(t.Tn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Tn.updateMetadata(e,r)),Yx.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Tn.yn(e,t).next((function(e){return n.An.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Tn.In(e,t).next((function(e){var t=e.documents;return e.En.forEach((function(e,t){n.An.set(e,t)})),t}))}}]),n}(yI);function kI(e){return u_(e,Ox.store)}function bI(e){return u_(e,Px.store)}function wI(e){return e.path.toArray()}var xI=function(){function e(t){ia(this,e),this.O=t}return k(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new Jx("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Sx.store)}(e),function(e){e.createObjectStore(Tx.store,{keyPath:Tx.keyPath}),e.createObjectStore(Cx.store,{keyPath:Cx.keyPath,autoIncrement:!0}).createIndex(Cx.userMutationsIndex,Cx.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Nx.store)}(e),_I(e),function(e){e.createObjectStore(Px.store)}(e));var o=Yx.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Lx.store),e.deleteObjectStore(Dx.store),e.deleteObjectStore(Mx.store)}(e),_I(e)),o=o.next((function(){return function(e){var t=e.store(Mx.store),n=new Mx(0,0,ck.min().toTimestamp(),0);return t.put(Mx.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(Cx.store).qt().next((function(n){e.deleteObjectStore(Cx.store),e.createObjectStore(Cx.store,{keyPath:Cx.keyPath,autoIncrement:!0}).createIndex(Cx.userMutationsIndex,Cx.userMutationsKeyPath,{unique:!0});var r=t.store(Cx.store),i=n.map((function(e){return r.put(e)}));return Yx.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(Ux.store,{keyPath:Ux.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Rn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(Ox.store)}(e),i.Pn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.bn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.vn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Px.store);t.createIndex(Px.readTimeIndex,Px.readTimeIndexPath,{unique:!1}),t.createIndex(Px.collectionReadTimeIndex,Px.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Vn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Vx.store,{keyPath:Vx.keyPath})}(e),function(e){e.createObjectStore(jx.store,{keyPath:jx.keyPath})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore(Kx.store,{keyPath:Kx.keyPath});t.createIndex(Kx.collectionPathOverlayIndex,Kx.collectionPathOverlayIndexPath,{unique:!1}),t.createIndex(Kx.collectionGroupOverlayIndex,Kx.collectionGroupOverlayIndexPath,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){!function(e){e.createObjectStore(zx.store,{keyPath:zx.keyPath,autoIncrement:!0}).createIndex(zx.collectionGroupIndex,zx.collectionGroupIndexPath,{unique:!1}),e.createObjectStore(qx.store,{keyPath:qx.keyPath}).createIndex(qx.sequenceNumberIndex,qx.sequenceNumberIndexPath,{unique:!1}),e.createObjectStore(Bx.store,{keyPath:Bx.keyPath}).createIndex(Bx.documentKeyIndex,Bx.documentKeyIndexPath,{unique:!1})}(e)}))),o}},{key:"Pn",value:function(e){var t=0;return e.store(Px.store).Qt((function(e,n){t+=Y_(n)})).next((function(){var n=new Ox(t);return e.store(Ox.store).put(Ox.key,n)}))}},{key:"Rn",value:function(e){var t=this,n=e.store(Tx.store),r=e.store(Cx.store);return n.qt().next((function(n){return Yx.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt(Cx.userMutationsIndex,i).next((function(r){return Yx.forEach(r,(function(r){Bg(r.userId===n.userId);var i=k_(t.O,r);return $_(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"bn",value:function(e){var t=e.store(Lx.store),n=e.store(Px.store);return e.store(Mx.store).get(Mx.key).next((function(e){var r=[];return n.Qt((function(n,i){var a=new pk(n),o=function(e){return[0,wx(e)]}(a);r.push(t.get(o).next((function(n){return n?Yx.resolve():function(n){return t.put(new Lx(0,wx(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return Yx.waitFor(r)}))}))}},{key:"vn",value:function(e,t){e.createObjectStore(Fx.store,{keyPath:Fx.keyPath});var n=t.store(Fx.store),r=new z_,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:wx(i)})}};return t.store(Px.store).Qt({jt:!0},(function(e,t){var n=new pk(e);return i(n.popLast())})).next((function(){return t.store(Nx.store).Qt({jt:!0},(function(e,t){var n=s(e,3),r=(n[0],n[1]),a=(n[2],Ix(r));return i(a.popLast())}))}))}},{key:"Vn",value:function(e){var t=this,n=e.store(Dx.store);return n.Qt((function(e,r){var i=b_(r),a=w_(t.O,i);return n.put(a)}))}}]),e}();function _I(e){e.createObjectStore(Lx.store,{keyPath:Lx.keyPath}).createIndex(Lx.documentTargetsIndex,Lx.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Dx.store,{keyPath:Dx.keyPath}).createIndex(Dx.queryTargetsIndexName,Dx.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Mx.store)}var II="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",EI=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:12;if(ia(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Sn=a,this.window=o,this.document=u,this.Dn=c,this.Cn=l,this.schemaVersion=f,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=function(e){return Promise.resolve()},!e.Vt())throw new Hg(Wg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dI(this,i),this.Bn=n+"main",this.O=new h_(s),this.Ln=new Xx(this.Bn,this.schemaVersion,new xI(this.O)),this.Un=new rI(this.referenceDelegate,this.O),this.qn=function(e){return new mI(e)}(this.O),this.Kn=new E_,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===l&&Vg("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return k(e,[{key:"start",value:function(){var e=this;return this.jn().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Hg(Wg.FAILED_PRECONDITION,II);return e.Qn(),e.Wn(),e.zn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Un.getHighestSequenceNumber(t)}))})).then((function(t){e.Nn=new nk(t,e.Dn)})).then((function(){e.xn=!0})).catch((function(t){return e.Ln&&e.Ln.close(),Promise.reject(t)}))}},{key:"Hn",value:function(e){var t=this;return this.Fn=function(){var n=Ka(Ha().mark((function n(r){return Ha().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ln.Mt(function(){var t=Ka(Ha().mark((function t(n){return Ha().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget(Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.jn();case 4:case"end":return e.stop()}}),e)})))))}},{key:"jn",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return TI(t).put(new Ux(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Jn(t).next((function(t){t||(e.isPrimary=!1,e.Sn.enqueueRetryable((function(){return e.Fn(!1)})))}))})).next((function(){return e.Yn(t)})).next((function(n){return e.isPrimary&&!n?e.Xn(t).next((function(){return!1})):!!n&&e.Zn(t).next((function(){return!0}))}))})).catch((function(t){if(t_(t))return Ug("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ug("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Sn.enqueueRetryable((function(){return e.Fn(t)})),e.isPrimary=t}))}},{key:"Jn",value:function(e){var t=this;return SI(e).get(Sx.key).next((function(e){return Yx.resolve(t.ts(e))}))}},{key:"es",value:function(e){return TI(e).delete(this.clientId)}},{key:"ns",value:function(){var e=Ka(Ha().mark((function e(){var t,n,r,i,a=this;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.ss(this.$n,18e5)){e.next=6;break}return this.$n=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=u_(e,Ux.store);return t.qt().next((function(e){var n=a.rs(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Yx.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Gn){n=aa(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Gn.removeItem(this.os(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"zn",value:function(){var e=this;this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.jn().then((function(){return e.ns()})).then((function(){return e.zn()}))}))}},{key:"ts",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Yn",value:function(e){var t=this;return this.Cn?Yx.resolve(!0):SI(e).get(Sx.key).next((function(n){if(null!==n&&t.ss(n.leaseTimestampMs,5e3)&&!t.cs(n.ownerId)){if(t.ts(n)&&t.networkEnabled)return!0;if(!t.ts(n)){if(!n.allowTabSynchronization)throw new Hg(Wg.FAILED_PRECONDITION,II);return!1}}return!(!t.networkEnabled||!t.inForeground)||TI(e).qt().next((function(e){return void 0===t.rs(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ug("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ka(Ha().mark((function e(){var t=this;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xn=!1,this.us(),this.Mn&&(this.Mn.cancel(),this.Mn=null),this.hs(),this.ls(),e.next=7,this.Ln.runTransaction("shutdown","readwrite",[Sx.store,Ux.store],(function(e){var n=new o_(e,nk.A);return t.Xn(n).next((function(){return t.es(n)}))}));case 7:this.Ln.close(),this.fs();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rs",value:function(e,t){var n=this;return e.filter((function(e){return n.ss(e.updateTimeMs,t)&&!n.cs(e.clientId)}))}},{key:"ds",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return TI(t).qt().next((function(t){return e.rs(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xn}},{key:"getMutationQueue",value:function(e,t){return J_.Jt(e,this.O,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getIndexManager",value:function(e){return new q_(e)}},{key:"getDocumentOverlayCache",value:function(e){return C_.Jt(this.O,e)}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;Ug("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=13===(i=this.schemaVersion)?Gx:12===i?Hx:11===i?Wx:void qg();return this.Ln.runTransaction(e,o,u,(function(i){return a=new o_(i,r.Nn?r.Nn.next():nk.A),"readwrite-primary"===t?r.Jn(a).next((function(e){return!!e||r.Yn(a)})).next((function(t){if(!t)throw Vg("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Sn.enqueueRetryable((function(){return r.Fn(!1)})),new Hg(Wg.FAILED_PRECONDITION,Qx);return n(a)})).next((function(e){return r.Zn(a).next((function(){return e}))})):r._s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"_s",value:function(e){var t=this;return SI(e).get(Sx.key).next((function(e){if(null!==e&&t.ss(e.leaseTimestampMs,5e3)&&!t.cs(e.ownerId)&&!t.ts(e)&&!(t.Cn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Hg(Wg.FAILED_PRECONDITION,II)}))}},{key:"Zn",value:function(e){var t=new Sx(this.clientId,this.allowTabSynchronization,Date.now());return SI(e).put(Sx.key,t)}},{key:"Xn",value:function(e){var t=this,n=SI(e);return n.get(Sx.key).next((function(e){return t.ts(e)?(Ug("IndexedDbPersistence","Releasing primary lease."),n.delete(Sx.key)):Yx.resolve()}))}},{key:"ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Vg("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Qn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=function(){e.Sn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.jn()}))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}},{key:"hs",value:function(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}},{key:"Wn",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=function(){t.us(),!Ia()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Sn.enterRestrictedMode(!0),t.Sn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.kn))}},{key:"ls",value:function(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}},{key:"cs",value:function(e){var t;try{var n=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return Ug("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Vg("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"us",value:function(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(Dp){Vg("Failed to set zombie client id.",Dp)}}},{key:"fs",value:function(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(Dp){}}},{key:"os",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Vt",value:function(){return Xx.Vt()}}]),e}();function SI(e){return u_(e,Sx.store)}function TI(e){return u_(e,Ux.store)}function CI(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var NI=k((function e(t,n){ia(this,e),this.progress=t,this.ws=n})),AI=function(){function e(t,n,r){ia(this,e),this.qn=t,this.gs=n,this.indexManager=r}return k(e,[{key:"ys",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.ps(e,t,r)}))}},{key:"ps",value:function(e,t,n){return this.qn.getEntry(e,t).next((function(e){var t,r=aa(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Is",value:function(e,t){e.forEach((function(e,n){var r,i=aa(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Es",value:function(e,t){var n=this;return this.qn.getEntries(e,t).next((function(t){return n.Ts(e,t).next((function(){return t}))}))}},{key:"Ts",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Is(t,e)}))}},{key:"As",value:function(e,t,n){return function(e){return Rk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Rs(e,t.path):Sb(t)?this.Ps(e,t,n):this.bs(e,t,n)}},{key:"Rs",value:function(e,t){return this.ys(e,new Rk(t)).next((function(e){var t=Cw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ps",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Cw();return this.indexManager.getCollectionParents(e,i).next((function(o){return Yx.forEach(o,(function(o){var u=function(e,t){return new kb(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.bs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"bs",value:function(e,t,n){var r,i=this;return this.qn.getAll(e,t.path,n).next((function(n){return r=n,i.gs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=aa(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=aa(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=$k.newInvalidDocument(s),r=r.insert(s,c)),rw(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Ob(t,n)||(r=r.remove(e))})),r}))}}]),e}(),RI=function(){function e(t,n,r,i){ia(this,e),this.targetId=t,this.fromCache=n,this.vs=r,this.Vs=i}return k(e,null,[{key:"Ss",value:function(t,n){var r,i=Rw(),a=Rw(),o=aa(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),PI=function(){function e(){ia(this,e)}return k(e,[{key:"Ds",value:function(e){this.Cs=e}},{key:"As",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ck.min())?this.Ns(e,t):this.Cs.Es(e,r).next((function(a){var o=i.xs(t,a);return(xb(t)||_b(t))&&i.ks(t.limitType,o,r,n)?i.Ns(e,t):(Fg()<=Ja.DEBUG&&Ug("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Pb(t)),i.Cs.As(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"xs",value:function(e,t){var n=new xw(Db(e));return t.forEach((function(t,r){Ob(e,r)&&(n=n.add(r))})),n}},{key:"ks",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ns",value:function(e,t){return Fg()<=Ja.DEBUG&&Ug("QueryEngine","Using full collection scan to execute query:",Pb(t)),this.Cs.As(e,t,ck.min())}}]),e}(),OI=function(){function e(t,n,r,i){ia(this,e),this.persistence=t,this.Os=n,this.O=i,this.Ms=new kw(ak),this.$s=new vI((function(e){return nb(e)}),rb),this.Fs=ck.min(),this.Bs=t.getRemoteDocumentCache(),this.Un=t.getTargetCache(),this.Kn=t.getBundleCache(),this.Ls(r)}return k(e,[{key:"Ls",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new AI(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ms)}))}}]),e}();function DI(e,t,n,r){return new OI(e,t,n,r)}function LI(e,t){return MI.apply(this,arguments)}function MI(){return MI=Ka(Ha().mark((function e(t,n){var r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kg(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.gs.getAllMutationBatches(e).next((function(i){return t=i,r.Ls(n),r.gs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Rw(),s=aa(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=aa(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=aa(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=aa(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.Us.Es(e,u).next((function(e){return{qs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),MI.apply(this,arguments)}function FI(e,t){var n=Kg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Yx.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Bg(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.gs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}function UI(e){var t=Kg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Un.getLastRemoteSnapshotVersion(e)}))}function VI(e,t){var n=Kg(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.Ms;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Un.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Un.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(gk.EMPTY_BYTE_STRING,ck.min()).withLastLimboFreeSnapshotVersion(ck.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Un.updateTargetData(e,c))}}));var u=Sw();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(jI(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(ck.min())){var s=n.Un.getLastRemoteSnapshotVersion(e).next((function(t){return n.Un.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Yx.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Us.Ts(e,u)})).next((function(){return u}))})).then((function(e){return n.Ms=i,e}))}function jI(e,t,n){var r=Rw();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Sw();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(ck.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Ug("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function zI(e,t){var n=Kg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.gs.getNextMutationBatchAfterBatchId(e,t)}))}function qI(e,t){var n=Kg(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Un.getTargetData(e,t).next((function(i){return i?(r=i,Yx.resolve(r)):n.Un.allocateTargetId(e).next((function(i){return r=new f_(t,i,0,e.currentSequenceNumber),n.Un.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.$s.set(t,e.targetId)),e}))}function BI(e,t,n){return KI.apply(this,arguments)}function KI(){return KI=Ka(Ha().mark((function e(t,n,r){var i,a,o;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Kg(t),a=i.Ms.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),t_(e.t1)){e.next=12;break}throw e.t1;case 12:Ug("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ms=i.Ms.remove(n),i.$s.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),KI.apply(this,arguments)}function WI(e,t,n){var r=Kg(e),i=ck.min(),a=Rw();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Kg(e),i=r.$s.get(n);return void 0!==i?Yx.resolve(r.Ms.get(i)):r.Un.getTargetData(t,n)}(r,e,Cb(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Os.As(e,t,n?i:ck.min(),n?a:Rw())})).next((function(e){return{documents:e,Ks:a}}))}))}function HI(e,t){var n=Kg(e),r=Kg(n.Un),i=n.Ms.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Tt(e,t).next((function(e){return e?e.target:null}))}))}function GI(e){var t=Kg(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Kg(e),i=Sw(),a=v_(n),o=bI(t),u=IDBKeyRange.lowerBound(a,!0);return o.Qt({index:Px.readTimeIndex,range:u},(function(e,t){var n=d_(r.O,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{ws:i,readTime:y_(a)}}))}(t.Bs,e,t.Fs)})).then((function(e){var n=e.ws,r=e.readTime;return t.Fs=r,n}))}function QI(e){return $I.apply(this,arguments)}function $I(){return $I=Ka(Ha().mark((function e(t){var n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Kg(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=bI(e),n=ck.min();return t.Qt({index:Px.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=y_(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.Fs=e})));case 2:case"end":return e.stop()}}),e)}))),$I.apply(this,arguments)}function YI(e,t,n,r){return JI.apply(this,arguments)}function JI(){return JI=Ka(Ha().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Kg(t),o=Rw(),u=Sw(),s=aa(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Gs(l.metadata.name),l.document&&(o=o.add(f)),(h=n.js(l)).setReadTime(n.Qs(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Bs.newChangeBuffer({trackRemovals:!0}),e.next=7,qI(a,function(e){return Cb(wb(pk.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return jI(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Un.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Un.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Us.Ts(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),JI.apply(this,arguments)}function XI(e,t){return ZI.apply(this,arguments)}function ZI(){return ZI=Ka(Ha().mark((function e(t,n){var r,i,a,o=arguments;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Rw(),e.next=3,qI(t,Cb(x_(n.bundledQuery)));case 3:return i=e.sent,a=Kg(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=$w(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Kn.saveNamedQuery(e,n);var o=i.withResumeToken(gk.EMPTY_BYTE_STRING,t);return a.Ms=a.Ms.insert(o.targetId,o),a.Un.updateTargetData(e,o).next((function(){return a.Un.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Un.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Kn.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),ZI.apply(this,arguments)}var eE=function(){function e(t){ia(this,e),this.O=t,this.Ws=new Map,this.zs=new Map}return k(e,[{key:"getBundleMetadata",value:function(e,t){return Yx.resolve(this.Ws.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Ws.set(t.id,{id:(n=t).id,version:n.version,createTime:$w(n.createTime)}),Yx.resolve()}},{key:"getNamedQuery",value:function(e,t){return Yx.resolve(this.zs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.zs.set(t.name,function(e){return{name:e.name,query:x_(e.bundledQuery),readTime:$w(e.readTime)}}(t)),Yx.resolve()}}]),e}(),tE=function(){function e(){ia(this,e),this.overlays=new kw(Rk.comparator),this.Hs=new Map}return k(e,[{key:"getOverlay",value:function(e,t){return Yx.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n){r.Yt(e,t,n)})),Yx.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Hs.delete(n)),Yx.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=new Map,i=t.length+1,a=new Rk(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Yx.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new kw((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=new Map,i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=new Map,c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(t,e)})),!(s.size>=r)););return Yx.resolve(s)}},{key:"Yt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);null!==r&&this.Hs.get(r.largestBatchId).delete(n.key),this.overlays=this.overlays.insert(n.key,new l_(t,n));var i=this.Hs.get(t);void 0===i&&(i=new Set,this.Hs.set(t,i)),i.add(n.key)}}}]),e}(),nE=function(){function e(){ia(this,e),this.Js=new xw(rE.Ys),this.Xs=new xw(rE.Zs)}return k(e,[{key:"isEmpty",value:function(){return this.Js.isEmpty()}},{key:"addReference",value:function(e,t){var n=new rE(e,t);this.Js=this.Js.add(n),this.Xs=this.Xs.add(n)}},{key:"ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ei(new rE(e,t))}},{key:"ni",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"si",value:function(e){var t=this,n=new Rk(new pk([])),r=new rE(n,e),i=new rE(n,e+1),a=[];return this.Xs.forEachInRange([r,i],(function(e){t.ei(e),a.push(e.key)})),a}},{key:"ii",value:function(){var e=this;this.Js.forEach((function(t){return e.ei(t)}))}},{key:"ei",value:function(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}},{key:"ri",value:function(e){var t=new Rk(new pk([])),n=new rE(t,e),r=new rE(t,e+1),i=Rw();return this.Xs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new rE(e,0),n=this.Js.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),rE=function(){function e(t,n){ia(this,e),this.key=t,this.oi=n}return k(e,null,[{key:"Ys",value:function(e,t){return Rk.comparator(e.key,t.key)||ak(e.oi,t.oi)}},{key:"Zs",value:function(e,t){return ak(e.oi,t.oi)||Rk.comparator(e.key,t.key)}}]),e}(),iE=function(){function e(t,n){ia(this,e),this.indexManager=t,this.referenceDelegate=n,this.gs=[],this.ci=1,this.ui=new xw(rE.Ys)}return k(e,[{key:"checkEmpty",value:function(e){return Yx.resolve(0===this.gs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ci;this.ci++,this.gs.length>0&&this.gs[this.gs.length-1];var a=new s_(i,t,n,r);this.gs.push(a);var o,u=aa(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ui=this.ui.add(new rE(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Yx.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Yx.resolve(this.ai(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.hi(n),i=r<0?0:r;return Yx.resolve(this.gs.length>i?this.gs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Yx.resolve(0===this.gs.length?-1:this.ci-1)}},{key:"getAllMutationBatches",value:function(e){return Yx.resolve(this.gs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new rE(t,0),i=new rE(t,Number.POSITIVE_INFINITY),a=[];return this.ui.forEachInRange([r,i],(function(e){var t=n.ai(e.oi);a.push(t)})),Yx.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new xw(ak);return t.forEach((function(e){var t=new rE(e,0),i=new rE(e,Number.POSITIVE_INFINITY);n.ui.forEachInRange([t,i],(function(e){r=r.add(e.oi)}))})),Yx.resolve(this.li(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Rk.isDocumentKey(i)||(i=i.child(""));var a=new rE(new Rk(i),0),o=new xw(ak);return this.ui.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.oi)),!0)}),a),Yx.resolve(this.li(o))}},{key:"li",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ai(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Bg(0===this.fi(t.batchId,"removed")),this.gs.shift();var r=this.ui;return Yx.forEach(t.mutations,(function(i){var a=new rE(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ui=r}))}},{key:"Qe",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new rE(t,0),r=this.ui.firstAfterOrEqual(n);return Yx.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.gs.length,Yx.resolve()}},{key:"fi",value:function(e,t){return this.hi(e)}},{key:"hi",value:function(e){return 0===this.gs.length?0:e-this.gs[0].batchId}},{key:"ai",value:function(e){var t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}]),e}(),aE=function(){function e(t){ia(this,e),this.di=t,this.docs=new kw(Rk.comparator),this.size=0}return k(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.di(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Yx.resolve(n?n.document.mutableCopy():$k.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Sw();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():$k.newInvalidDocument(e))})),Yx.resolve(r)}},{key:"getAll",value:function(e,t,n){for(var r=Sw(),i=new Rk(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||s.readTime.compareTo(n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Yx.resolve(r)}},{key:"_i",value:function(e,t){return Yx.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new oE(this)}},{key:"getSize",value:function(e){return Yx.resolve(this.size)}}]),e}(),oE=function(e){oa(n,e);var t=la(n);function n(e){var r;return ia(this,n),(r=t.call(this)).Tn=e,r}return k(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Tn.addEntry(e,i)):t.Tn.removeEntry(r)})),Yx.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Tn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Tn.getEntries(e,t)}}]),n}(yI),uE=function(){function e(t){ia(this,e),this.persistence=t,this.wi=new vI((function(e){return nb(e)}),rb),this.lastRemoteSnapshotVersion=ck.min(),this.highestTargetId=0,this.mi=0,this.gi=new nE,this.targetCount=0,this.yi=nI.He()}return k(e,[{key:"forEachTarget",value:function(e,t){return this.wi.forEach((function(e,n){return t(n)})),Yx.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Yx.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Yx.resolve(this.mi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.yi.next(),Yx.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.mi&&(this.mi=t),Yx.resolve()}},{key:"Ze",value:function(e){this.wi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.yi=new nI(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ze(t),this.targetCount+=1,Yx.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ze(t),Yx.resolve()}},{key:"removeTargetData",value:function(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,Yx.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.wi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.wi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Yx.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Yx.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.wi.get(t)||null;return Yx.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.gi.ti(t,n),Yx.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.gi.ni(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Yx.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.gi.si(t),Yx.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.gi.ri(t);return Yx.resolve(n)}},{key:"containsKey",value:function(e,t){return Yx.resolve(this.gi.containsKey(t))}}]),e}(),sE=function(){function e(t,n){var r=this;ia(this,e),this.pi={},this.overlays={},this.Nn=new nk(0),this.xn=!1,this.xn=!0,this.referenceDelegate=t(this),this.Un=new uE(this),this.indexManager=new j_,this.qn=new aE((function(e){return r.referenceDelegate.Ii(e)})),this.O=new h_(n),this.Kn=new eE(this.O)}return k(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xn=!1,Promise.resolve()}},{key:"started",get:function(){return this.xn}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new tE,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.pi[e.toKey()];return n||(n=new iE(t,this.referenceDelegate),this.pi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;Ug("MemoryPersistence","Starting transaction:",e);var i=new cE(this.Nn.next());return this.referenceDelegate.Ei(),n(i).next((function(e){return r.referenceDelegate.Ti(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ai",value:function(e,t){return Yx.or(Object.values(this.pi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),cE=function(e){oa(n,e);var t=la(n);function n(e){var r;return ia(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return k(n)}($x),lE=function(){function e(t){ia(this,e),this.persistence=t,this.Ri=new nE,this.Pi=null}return k(e,[{key:"vi",get:function(){if(this.Pi)return this.Pi;throw qg()}},{key:"addReference",value:function(e,t,n){return this.Ri.addReference(n,t),this.vi.delete(n.toString()),Yx.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ri.removeReference(n,t),this.vi.add(n.toString()),Yx.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.vi.add(t.toString()),Yx.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ri.si(t.targetId).forEach((function(e){return n.vi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ei",value:function(){this.Pi=new Set}},{key:"Ti",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yx.forEach(this.vi,(function(r){var i=Rk.fromPath(r);return t.Vi(e,i).next((function(e){e||n.removeEntry(i,ck.min())}))})).next((function(){return t.Pi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Vi(e,t).next((function(e){e?n.vi.delete(t.toString()):n.vi.add(t.toString())}))}},{key:"Ii",value:function(e){return 0}},{key:"Vi",value:function(e,t){var n=this;return Yx.or([function(){return Yx.resolve(n.Ri.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ai(e,t)}])}}],[{key:"bi",value:function(t){return new e(t)}}]),e}();function fE(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function hE(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function dE(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var pE=function(){function e(t,n,r,i){ia(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return k(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Hg(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Vg("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),vE=function(){function e(t,n,r){ia(this,e),this.targetId=t,this.state=n,this.error=r}return k(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Hg(i.error.code,i.error.message))),a?new e(t,i.state,r):(Vg("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),yE=function(){function e(t,n){ia(this,e),this.clientId=t,this.activeTargetIds=n}return k(e,null,[{key:"Si",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Ow(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ak(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Vg("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),mE=function(){function e(t,n){ia(this,e),this.clientId=t,this.onlineState=n}return k(e,null,[{key:"Si",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Vg("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),gE=function(){function e(){ia(this,e),this.activeTargetIds=Ow()}return k(e,[{key:"Ci",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ni",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Di",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),kE=function(){function e(t,n,r,i,a){ia(this,e),this.window=t,this.Sn=n,this.persistenceKey=r,this.xi=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new kw(ak),this.started=!1,this.$i=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Fi=fE(this.persistenceKey,this.xi),this.Bi=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Mi=this.Mi.insert(this.xi,new gE),this.Li=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ui=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.qi=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ki=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Gi=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}return k(e,[{key:"start",value:function(){var e=Ka(Ha().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.ds();case 2:t=e.sent,n=aa(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.xi){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(fE(this.persistenceKey,i)))&&(o=yE.Si(i,a))&&(this.Mi=this.Mi.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.ji(),(u=this.storage.getItem(this.Ki))&&(s=this.Qi(u))&&this.Wi(s),c=aa(this.$i);try{for(c.s();!(l=c.n()).done;)f=l.value,this.Oi(f)}catch(d){c.e(d)}finally{c.f()}this.$i=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Bi,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.zi(this.Mi)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Mi.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Hi(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Hi(e,t,n),this.Ji(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(dE(this.persistenceKey,e));if(n){var r=vE.Si(e,n);r&&(t=r.state)}}return this.Yi.Ci(e),this.ji(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Yi.Ni(e),this.ji()}},{key:"isLocalQueryTarget",value:function(e){return this.Yi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(dE(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Xi(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ji(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Zi(e)}},{key:"notifyBundleLoaded",value:function(){this.tr()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Ug("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Ug("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Ug("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Oi",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ug("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Fi)return void Vg("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable(Ka(Ha().mark((function e(){var r,i,a,o,u,s;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Li.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.er(n.key),e.abrupt("return",t.nr(r,null));case 6:if(!(i=t.sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.nr(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.Ui.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.ir(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.rr(a));case 16:e.next=39;break;case 18:if(!t.qi.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.cr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.ur(o));case 23:e.next=39;break;case 25:if(n.key!==t.Ki){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Qi(n.newValue))){e.next=30;break}return e.abrupt("return",t.Wi(u));case 30:e.next=39;break;case 32:if(n.key!==t.Bi){e.next=37;break}s=function(e){var t=nk.A;if(null!=e)try{var n=JSON.parse(e);Bg("number"==typeof n),t=n}catch(e){Vg("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==nk.A&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Gi){e.next=39;break}return e.abrupt("return",t.syncEngine.ar());case 39:e.next=42;break;case 41:t.$i.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"Yi",get:function(){return this.Mi.get(this.xi)}},{key:"ji",value:function(){this.setItem(this.Fi,this.Yi.Di())}},{key:"Hi",value:function(e,t,n){var r=new pE(this.currentUser,e,t,n),i=hE(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Di())}},{key:"Ji",value:function(e){var t=hE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Zi",value:function(e){var t={clientId:this.xi,onlineState:e};this.storage.setItem(this.Ki,JSON.stringify(t))}},{key:"Xi",value:function(e,t,n){var r=dE(this.persistenceKey,e),i=new vE(e,t,n);this.setItem(r,i.Di())}},{key:"tr",value:function(){this.setItem(this.Gi,"value-not-used")}},{key:"er",value:function(e){var t=this.Li.exec(e);return t?t[1]:null}},{key:"sr",value:function(e,t){var n=this.er(e);return yE.Si(n,t)}},{key:"ir",value:function(e,t){var n=this.Ui.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return pE.Si(new Dg(i),r,t)}},{key:"cr",value:function(e,t){var n=this.qi.exec(e),r=Number(n[1]);return vE.Si(r,t)}},{key:"Qi",value:function(e){return mE.Si(e)}},{key:"rr",value:function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.hr(t.batchId,t.state,t.error));case 2:Ug("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ur",value:function(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}},{key:"nr",value:function(e,t){var n=this,r=t?this.Mi.insert(e,t):this.Mi.remove(e),i=this.zi(this.Mi),a=this.zi(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.dr(o,u).then((function(){n.Mi=r}))}},{key:"Wi",value:function(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"zi",value:function(e){var t=Ow();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),bE=function(){function e(){ia(this,e),this._r=new gE,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return k(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this._r.Ci(e),this.wr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.wr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this._r.Ni(e)}},{key:"isLocalQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.wr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this._r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"start",value:function(){return this._r=new gE,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),wE=function(){function e(){ia(this,e)}return k(e,[{key:"mr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),xE=function(){function e(){var t=this;ia(this,e),this.gr=function(){return t.yr()},this.pr=function(){return t.Ir()},this.Er=[],this.Tr()}return k(e,[{key:"mr",value:function(e){this.Er.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}},{key:"Tr",value:function(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}},{key:"yr",value:function(){Ug("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=aa(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ir",value:function(){Ug("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=aa(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),_E={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},IE=function(){function e(t){ia(this,e),this.Ar=t.Ar,this.Rr=t.Rr}return k(e,[{key:"Pr",value:function(e){this.br=e}},{key:"vr",value:function(e){this.Vr=e}},{key:"onMessage",value:function(e){this.Sr=e}},{key:"close",value:function(){this.Rr()}},{key:"send",value:function(e){this.Ar(e)}},{key:"Dr",value:function(){this.br()}},{key:"Cr",value:function(e){this.Vr(e)}},{key:"Nr",value:function(e){this.Sr(e)}}]),e}(),EE=function(e){oa(n,e);var t=la(n);function n(e){var r;return ia(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return k(n,[{key:"Br",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Pg;o.listenOnce(Tg.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Sg.NO_ERROR:var t=o.getResponseJson();Ug("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Sg.TIMEOUT:Ug("Connection",'RPC "'+e+'" timed out'),a(new Hg(Wg.DEADLINE_EXCEEDED,"Request time out"));break;case Sg.HTTP_ERROR:var n=o.getStatus();if(Ug("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Wg).indexOf(t)>=0?t:Wg.UNKNOWN}(r.status);a(new Hg(u,r.message))}else a(new Hg(Wg.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Hg(Wg.UNAVAILABLE,"Connection failed."));break;default:qg()}}finally{Ug("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Ur",value:function(e,t,n){var r=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Ig(),a=Eg(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ag({})),this.Fr(o.initMessageHeaders,t,n),_a()||Sa()||xa().indexOf("Electron/")>=0||Ta()||xa().indexOf("MSAppHost/")>=0||Ea()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Ug("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new IE({Ar:function(e){l?Ug("Connection","Not sending because WebChannel is closed:",e):(c||(Ug("Connection","Opening WebChannel transport."),s.open(),c=!0),Ug("Connection","WebChannel sending:",e),s.send(e))},Rr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Rg.EventType.OPEN,(function(){l||Ug("Connection","WebChannel transport opened.")})),h(s,Rg.EventType.CLOSE,(function(){l||(l=!0,Ug("Connection","WebChannel transport closed"),f.Cr())})),h(s,Rg.EventType.ERROR,(function(e){l||(l=!0,jg("Connection","WebChannel transport errored:",e),f.Cr(new Hg(Wg.UNAVAILABLE,"The operation could not be completed")))})),h(s,Rg.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Bg(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ug("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=hw[e];if(void 0!==t)return gw(t)}(a),u=i.message;void 0===o&&(o=Wg.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Cr(new Hg(o,u)),s.close()}else Ug("Connection","WebChannel received:",n),f.Nr(n)}})),h(a,Cg.STAT_EVENT,(function(e){e.stat===Ng.PROXY?Ug("Connection","Detected buffering proxy"):e.stat===Ng.NOPROXY&&Ug("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Dr()}),0),f}}]),n}(function(){function e(t){ia(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.kr=n+"://"+t.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return k(e,[{key:"Mr",value:function(e,t,n,r,i){var a=this.$r(e,t);Ug("RestConnection","Sending: ",a,n);var o={};return this.Fr(o,r,i),this.Br(e,a,o,n).then((function(e){return Ug("RestConnection","Received: ",e),e}),(function(t){throw jg("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"Lr",value:function(e,t,n,r,i){return this.Mr(e,t,n,r,i)}},{key:"Fr",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Lg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"$r",value:function(e,t){var n=_E[e];return"".concat(this.kr,"/v1/").concat(t,":").concat(n)}}]),e}());function SE(){return"undefined"!=typeof window?window:null}function TE(){return"undefined"!=typeof document?document:null}function CE(e){return new Ww(e,!0)}var NE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;ia(this,e),this.Sn=t,this.timerId=n,this.qr=r,this.Kr=i,this.Gr=a,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}return k(e,[{key:"reset",value:function(){this.jr=0}},{key:"zr",value:function(){this.jr=this.Gr}},{key:"Hr",value:function(e){var t=this;this.cancel();var n=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,n-r);i>0&&Ug("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.jr," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,(function(){return t.Wr=Date.now(),e()})),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}},{key:"Yr",value:function(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}},{key:"cancel",value:function(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}},{key:"Jr",value:function(){return(Math.random()-.5)*this.jr}}]),e}(),AE=function(){function e(t,n,r,i,a,o,u,s){ia(this,e),this.Sn=t,this.Xr=r,this.Zr=i,this.eo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new NE(t,n)}return k(e,[{key:"oo",value:function(){return 1===this.state||5===this.state||this.co()}},{key:"co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.uo()}},{key:"stop",value:function(){var e=Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ao",value:function(){this.state=0,this.ro.reset()}},{key:"ho",value:function(){var e=this;this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,(function(){return e.lo()})))}},{key:"fo",value:function(e){this._o(),this.stream.send(e)}},{key:"lo",value:function(){var e=Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_o",value:function(){this.so&&(this.so.cancel(),this.so=null)}},{key:"wo",value:function(){this.io&&(this.io.cancel(),this.io=null)}},{key:"close",value:function(){var e=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._o(),this.wo(),this.ro.cancel(),this.no++,4!==t?this.ro.reset():n&&n.code===Wg.RESOURCE_EXHAUSTED?(Vg(n.toString()),Vg("Using maximum backoff delay to prevent overloading the backend."),this.ro.zr()):n&&n.code===Wg.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.mo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.vr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.yo(this.no),n=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=s(t,2),i=r[0],a=r[1];e.no===n&&e.po(i,a)}),(function(n){t((function(){var t=new Hg(Wg.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Io(t)}))}))}},{key:"po",value:function(e,t){var n=this,r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr((function(){r((function(){return n.state=2,n.io=n.Sn.enqueueAfterDelay(n.Zr,1e4,(function(){return n.co()&&(n.state=3),Promise.resolve()})),n.listener.Pr()}))})),this.stream.vr((function(e){r((function(){return n.Io(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"uo",value:function(){var e=this;this.state=5,this.ro.Hr(Ka(Ha().mark((function t(){return Ha().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Io",value:function(e){return Ug("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"yo",value:function(e){var t=this;return function(n){t.Sn.enqueueAndForget((function(){return t.no===e?n():(Ug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),RE=function(e){oa(n,e);var t=la(n);function n(e,r,i,a,o,u){var s;return ia(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).O=o,s}return k(n,[{key:"Eo",value:function(e,t){return this.eo.Ur("Listen",e,t)}},{key:"onMessage",value:function(e){this.ro.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:qg()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Bg(void 0===t||"string"==typeof t),gk.fromBase64String(t||"")):(Bg(void 0===t||t instanceof Uint8Array),gk.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Wg.UNKNOWN:gw(e.code);return new Hg(t,e.message||"")}(o);n=new Uw(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Zw(e,s.document.name),l=$w(s.document.updateTime),f=new Gk({mapValue:{fields:s.document.fields}}),h=$k.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Mw(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=Zw(e,v.document),m=v.readTime?$w(v.readTime):ck.min(),g=$k.newNoDocument(y,m),k=v.removedTargetIds||[];n=new Mw([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Zw(e,b.document),x=b.removedTargetIds||[];n=new Mw([],x,w,null)}else{if(!("filter"in t))return qg();t.filter;var _=t.filter;_.targetId;var I=_.count||0,E=new yw(I),S=_.targetId;n=new Fw(S,E)}return n}(this.O,e),n=function(e){if(!("targetChange"in e))return ck.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ck.min():t.readTime?$w(t.readTime):ck.min()}(e);return this.listener.To(t,n)}},{key:"Ao",value:function(e){var t={};t.database=nx(this.O),t.addTarget=function(e,t){var n,r=t.target;return(n=ib(r)?{documents:cx(e,r)}:{query:lx(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Gw(e,t.resumeToken):t.snapshotVersion.compareTo(ck.min())>0&&(n.readTime=Hw(e,t.snapshotVersion.toTimestamp())),n}(this.O,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qg()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.O,e);n&&(t.labels=n),this.fo(t)}},{key:"Ro",value:function(e){var t={};t.database=nx(this.O),t.removeTarget=e,this.fo(t)}}]),n}(AE),PE=function(e){oa(n,e);var t=la(n);function n(e,r,i,a,o,u){var s;return ia(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).O=o,s.Po=!1,s}return k(n,[{key:"bo",get:function(){return this.Po}},{key:"start",value:function(){this.Po=!1,this.lastStreamToken=void 0,ou(ua(n.prototype),"start",this).call(this)}},{key:"mo",value:function(){this.Po&&this.vo([])}},{key:"Eo",value:function(e,t){return this.eo.Ur("Write",e,t)}},{key:"onMessage",value:function(e){if(Bg(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();var t=function(e,t){return e&&e.length>0?(Bg(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?$w(e.updateTime):$w(t);return n.isEqual(ck.min())&&(n=$w(t)),new Xb(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=$w(e.commitTime);return this.listener.Vo(n,t)}return Bg(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}},{key:"Do",value:function(){var e={};e.database=nx(this.O),this.fo(e)}},{key:"vo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ux(t.O,e)}))};this.fo(n)}}]),n}(AE),OE=function(e){oa(n,e);var t=la(n);function n(e,r,i,a){var o;return ia(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.eo=i,o.O=a,o.Co=!1,o}return k(n,[{key:"No",value:function(){if(this.Co)throw new Hg(Wg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Mr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.eo.Mr(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Wg.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Hg(Wg.UNKNOWN,e.toString())}))}},{key:"Lr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.eo.Lr(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Wg.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Hg(Wg.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Co=!0}}]),n}(function(){return k((function e(){ia(this,e)}))}()),DE=function(){function e(t,n){ia(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}return k(e,[{key:"Mo",value:function(){var e=this;0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ko=null,e.Fo("Backend didn't respond within 10 seconds."),e.$o("Offline"),Promise.resolve()})))}},{key:"Bo",value:function(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.$o("Offline")))}},{key:"set",value:function(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}},{key:"$o",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"Fo",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Oo?(Vg(t),this.Oo=!1):Ug("OnlineStateTracker",t)}},{key:"Lo",value:function(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}]),e}(),LE=k((function e(t,n,r,i,a){var o=this;ia(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=a,this.jo.mr((function(e){r.enqueueAndForget(Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=HE(o),!e.t0){e.next=5;break}return Ug("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ka(Ha().mark((function e(t){var n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Kg(t)).Ko.add(4),e.next=4,UE(n);case 4:return n.Qo.set("Unknown"),n.Ko.delete(4),e.next=8,ME(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Qo=new DE(r,i)}));function ME(e){return FE.apply(this,arguments)}function FE(){return FE=Ka(Ha().mark((function e(t){var n,r,i;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!HE(t)){e.next=18;break}n=aa(t.Go),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),FE.apply(this,arguments)}function UE(e){return VE.apply(this,arguments)}function VE(){return VE=Ka(Ha().mark((function e(t){var n,r,i;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=aa(t.Go),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),VE.apply(this,arguments)}function jE(e,t){var n=Kg(e);n.qo.has(t.targetId)||(n.qo.set(t.targetId,t),WE(n)?KE(n):wS(n).co()&&qE(n,t))}function zE(e,t){var n=Kg(e),r=wS(n);n.qo.delete(t),r.co()&&BE(n,t),0===n.qo.size&&(r.co()?r.ho():HE(n)&&n.Qo.set("Unknown"))}function qE(e,t){e.Wo.Z(t.targetId),wS(e).Ao(t)}function BE(e,t){e.Wo.Z(t),wS(e).Ro(t)}function KE(e){e.Wo=new jw({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Tt:function(t){return e.qo.get(t)||null}}),wS(e).start(),e.Qo.Mo()}function WE(e){return HE(e)&&!wS(e).oo()&&e.qo.size>0}function HE(e){return 0===Kg(e).Ko.size}function GE(e){e.Wo=void 0}function QE(e){return $E.apply(this,arguments)}function $E(){return $E=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.qo.forEach((function(e,n){qE(t,e)}));case 1:case"end":return e.stop()}}),e)}))),$E.apply(this,arguments)}function YE(e,t){return JE.apply(this,arguments)}function JE(){return JE=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:GE(t),WE(t)?(t.Qo.Bo(n),KE(t)):t.Qo.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),JE.apply(this,arguments)}function XE(e,t,n){return ZE.apply(this,arguments)}function ZE(){return ZE=Ka(Ha().mark((function e(t,n,r){var i;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Qo.set("Online"),!(n instanceof Uw&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ka(Ha().mark((function e(t,n){var r,i,a,o;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=aa(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.qo.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.qo.delete(o),t.Wo.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ug("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,eS(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Mw?t.Wo.ct(n):n instanceof Fw?t.Wo._t(n):t.Wo.ht(n),r.isEqual(ck.min())){e.next=29;break}return e.prev=14,e.next=17,UI(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Wo.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.qo.get(r);i&&e.qo.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.qo.get(t);if(n){e.qo.set(t,n.withResumeToken(gk.EMPTY_BYTE_STRING,n.snapshotVersion)),BE(e,t);var r=new f_(n.target,t,1,n.sequenceNumber);qE(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ug("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,eS(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),ZE.apply(this,arguments)}function eS(e,t,n){return tS.apply(this,arguments)}function tS(){return tS=Ka(Ha().mark((function e(t,n,r){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t_(n)){e.next=2;break}throw n;case 2:return t.Ko.add(1),e.next=5,UE(t);case 5:t.Qo.set("Offline"),r||(r=function(){return UI(t.localStore)}),t.asyncQueue.enqueueRetryable(Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ug("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Ko.delete(1),e.next=6,ME(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),tS.apply(this,arguments)}function nS(e,t){return t().catch((function(n){return eS(e,n,t)}))}function rS(e){return iS.apply(this,arguments)}function iS(){return iS=Ka(Ha().mark((function e(t){var n,r,i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Kg(t),r=xS(n),i=n.Uo.length>0?n.Uo[n.Uo.length-1].batchId:-1;case 2:if(!aS(n)){e.next=19;break}return e.prev=3,e.next=6,zI(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Uo.length&&r.ho(),e.abrupt("break",19);case 10:i=a.batchId,oS(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,eS(n,e.t0);case 17:e.next=2;break;case 19:uS(n)&&sS(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),iS.apply(this,arguments)}function aS(e){return HE(e)&&e.Uo.length<10}function oS(e,t){e.Uo.push(t);var n=xS(e);n.co()&&n.bo&&n.vo(t.mutations)}function uS(e){return HE(e)&&!xS(e).oo()&&e.Uo.length>0}function sS(e){xS(e).start()}function cS(e){return lS.apply(this,arguments)}function lS(){return lS=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xS(t).Do();case 1:case"end":return e.stop()}}),e)}))),lS.apply(this,arguments)}function fS(e){return hS.apply(this,arguments)}function hS(){return hS=Ka(Ha().mark((function e(t){var n,r,i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=xS(t),r=aa(t.Uo);try{for(r.s();!(i=r.n()).done;)a=i.value,n.vo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),hS.apply(this,arguments)}function dS(e,t,n){return pS.apply(this,arguments)}function pS(){return pS=Ka(Ha().mark((function e(t,n,r){var i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Uo.shift(),a=c_.from(i,n,r),e.next=3,nS(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,rS(t);case 5:case"end":return e.stop()}}),e)}))),pS.apply(this,arguments)}function vS(e,t){return yS.apply(this,arguments)}function yS(){return yS=Ka(Ha().mark((function e(t,n){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&xS(t).bo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ka(Ha().mark((function e(t,n){var r,i;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!mw(i=n.code)||i===Wg.ABORTED){e.next=7;break}return r=t.Uo.shift(),xS(t).ao(),e.next=5,nS(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,rS(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:uS(t)&&sS(t);case 5:case"end":return e.stop()}}),e)}))),yS.apply(this,arguments)}function mS(e,t){return gS.apply(this,arguments)}function gS(){return gS=Ka(Ha().mark((function e(t,n){var r,i;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Kg(t)).asyncQueue.verifyOperationInProgress(),Ug("RemoteStore","RemoteStore received new credentials"),i=HE(r),r.Ko.add(3),e.next=6,UE(r);case 6:return i&&r.Qo.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Ko.delete(3),e.next=12,ME(r);case 12:case"end":return e.stop()}}),e)}))),gS.apply(this,arguments)}function kS(e,t){return bS.apply(this,arguments)}function bS(){return bS=Ka(Ha().mark((function e(t,n){var r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Kg(t),!n){e.next=7;break}return r.Ko.delete(2),e.next=5,ME(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Ko.add(2),e.next=12,UE(r);case 12:r.Qo.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),bS.apply(this,arguments)}function wS(e){return e.zo||(e.zo=function(e,t,n){var r=Kg(e);return r.No(),new RE(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:QE.bind(null,e),vr:YE.bind(null,e),To:XE.bind(null,e)}),e.Go.push(function(){var t=Ka(Ha().mark((function t(n){return Ha().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.zo.ao(),WE(e)?KE(e):e.Qo.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.zo.stop();case 6:GE(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.zo}function xS(e){return e.Ho||(e.Ho=function(e,t,n){var r=Kg(e);return r.No(),new PE(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:cS.bind(null,e),vr:vS.bind(null,e),So:fS.bind(null,e),Vo:dS.bind(null,e)}),e.Go.push(function(){var t=Ka(Ha().mark((function t(n){return Ha().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Ho.ao(),t.next=4,rS(e);case 4:t.next=9;break;case 6:return t.next=8,e.Ho.stop();case 8:e.Uo.length>0&&(Ug("RemoteStore","Stopping write stream with ".concat(e.Uo.length," pending writes")),e.Uo=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Ho}var _S=function(){function e(t,n,r,i,a){ia(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Gg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return k(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Hg(Wg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function IS(e,t){if(Vg("AsyncQueue","".concat(t,": ").concat(e)),t_(e))return new Hg(Wg.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var ES=function(){function e(t){ia(this,e),this.comparator=t?function(e,n){return t(e,n)||Rk.comparator(e.key,n.key)}:function(e,t){return Rk.comparator(e.key,t.key)},this.keyedMap=Cw(),this.sortedSet=new kw(this.comparator)}return k(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),SS=function(){function e(){ia(this,e),this.Jo=new kw(Rk.comparator)}return k(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Jo.get(t);n?0!==e.type&&3===n.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==n.type?this.Jo=this.Jo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jo=this.Jo.remove(t):1===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):qg():this.Jo=this.Jo.insert(t,e)}},{key:"Yo",value:function(){var e=[];return this.Jo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),TS=function(){function e(t,n,r,i,a,o,u,s){ia(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return k(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ab(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,ES.emptySet(n),a,r,i,!0,!1)}}]),e}(),CS=k((function e(){ia(this,e),this.Xo=void 0,this.listeners=[]})),NS=k((function e(){ia(this,e),this.queries=new vI((function(e){return Rb(e)}),Ab),this.onlineState="Unknown",this.Zo=new Set}));function AS(e,t){return RS.apply(this,arguments)}function RS(){return RS=Ka(Ha().mark((function e(t,n){var r,i,a,o,u;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Kg(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new CS),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Xo=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=IS(e.t0,"Initialization of query '".concat(Pb(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.tc(r.onlineState),o.Xo&&n.ec(o.Xo)&&MS(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),RS.apply(this,arguments)}function PS(e,t){return OS.apply(this,arguments)}function OS(){return OS=Ka(Ha().mark((function e(t,n){var r,i,a,o,u;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Kg(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),OS.apply(this,arguments)}function DS(e,t){var n,r=Kg(e),i=!1,a=aa(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=aa(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.ec(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Xo=o}}}catch(f){a.e(f)}finally{a.f()}i&&MS(r)}function LS(e,t,n){var r=Kg(e),i=r.queries.get(t);if(i){var a,o=aa(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function MS(e){e.Zo.forEach((function(e){e.next()}))}var FS=function(){function e(t,n,r){ia(this,e),this.query=t,this.nc=n,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}return k(e,[{key:"ec",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=aa(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new TS(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.sc?this.rc(e)&&(this.nc.next(e),a=!0):this.oc(e,this.onlineState)&&(this.cc(e),a=!0),this.ic=e,a}},{key:"onError",value:function(e){this.nc.error(e)}},{key:"tc",value:function(e){this.onlineState=e;var t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}},{key:"oc",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.uc||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"rc",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"cc",value:function(e){e=TS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}]),e}(),US=function(){function e(t,n){ia(this,e),this.payload=t,this.byteLength=n}return k(e,[{key:"ac",value:function(){return"metadata"in this.payload}}]),e}(),VS=function(){function e(t){ia(this,e),this.O=t}return k(e,[{key:"Gs",value:function(e){return Zw(this.O,e)}},{key:"js",value:function(e){return e.metadata.exists?ax(this.O,e.document,!1):$k.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}},{key:"Qs",value:function(e){return $w(e)}}]),e}(),jS=function(){function e(t,n,r){ia(this,e),this.hc=t,this.localStore=n,this.O=r,this.queries=[],this.documents=[],this.progress=zS(t)}return k(e,[{key:"lc",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"fc",value:function(e){var t,n=new Map,r=new VS(this.O),i=aa(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Gs(a.metadata.name),s=aa(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Rw()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ka(Ha().mark((function e(){var t,n,r,i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YI(this.localStore,new VS(this.O),this.documents,this.hc.id);case 2:t=e.sent,n=this.fc(this.documents),r=aa(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,XI(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new NI(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function zS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var qS=k((function e(t){ia(this,e),this.key=t})),BS=k((function e(t){ia(this,e),this.key=t})),KS=function(){function e(t,n){ia(this,e),this.query=t,this.dc=n,this._c=null,this.current=!1,this.wc=Rw(),this.mutatedKeys=Rw(),this.mc=Db(t),this.gc=new ES(this.mc)}return k(e,[{key:"yc",get:function(){return this.dc}},{key:"Ic",value:function(e,t){var n=this,r=t?t.Ec:new SS,i=t?t.gc:this.gc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=xb(this.query)&&i.size===this.query.limit?i.last():null,c=_b(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Ob(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Tc(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.mc(f,s)>0||c&&n.mc(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),xb(this.query)||_b(this.query))for(;o.size>this.query.limit;){var l=xb(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{gc:o,Ec:r,ks:u,mutatedKeys:a}}},{key:"Tc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;var a=e.Ec.Yo();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qg()}};return n(e)-n(t)}(e.type,t.type)||r.mc(e.doc,t.doc)})),this.Ac(n);var o=t?this.Rc():[],u=0===this.wc.size&&this.current?1:0,s=u!==this._c;return this._c=u,0!==a.length||s?{snapshot:new TS(this.query,e.gc,i,a,e.mutatedKeys,0===u,s,!1),Pc:o}:{Pc:o}}},{key:"tc",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new SS,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}},{key:"bc",value:function(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}},{key:"Ac",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.dc=t.dc.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.dc=t.dc.delete(e)})),this.current=e.current)}},{key:"Rc",value:function(){var e=this;if(!this.current)return[];var t=this.wc;this.wc=Rw(),this.gc.forEach((function(t){e.bc(t.key)&&(e.wc=e.wc.add(t.key))}));var n=[];return t.forEach((function(t){e.wc.has(t)||n.push(new BS(t))})),this.wc.forEach((function(e){t.has(e)||n.push(new qS(e))})),n}},{key:"vc",value:function(e){this.dc=e.Ks,this.wc=Rw();var t=this.Ic(e.documents);return this.applyChanges(t,!0)}},{key:"Vc",value:function(){return TS.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}]),e}(),WS=k((function e(t,n,r){ia(this,e),this.query=t,this.targetId=n,this.view=r})),HS=k((function e(t){ia(this,e),this.key=t,this.Sc=!1})),GS=function(){function e(t,n,r,i,a,o){ia(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Dc={},this.Cc=new vI((function(e){return Rb(e)}),Ab),this.Nc=new Map,this.xc=new Set,this.kc=new kw(Rk.comparator),this.Oc=new Map,this.Mc=new nE,this.$c={},this.Fc=new Map,this.Bc=nI.Je(),this.onlineState="Unknown",this.Lc=void 0}return k(e,[{key:"isPrimaryClient",get:function(){return!0===this.Lc}}]),e}();function QS(e,t){return $S.apply(this,arguments)}function $S(){return $S=Ka(Ha().mark((function e(t,n){var r,i,a,o,u,s;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zT(t),!(o=r.Cc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Vc(),e.next=15;break;case 6:return e.next=8,qI(r.localStore,Cb(n));case 8:return u=e.sent,r.isPrimaryClient&&jE(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,YS(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),$S.apply(this,arguments)}function YS(e,t,n,r){return JS.apply(this,arguments)}function JS(){return JS=Ka(Ha().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Uc=function(e,n,r){return function(){var e=Ka(Ha().mark((function e(t,n,r,i){var a,o,u;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ic(r),e.t0=a.ks,!e.t0){e.next=6;break}return e.next=5,WI(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ic(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(mT(t,n.targetId,u.Pc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,WI(t.localStore,n,!0);case 3:return a=e.sent,o=new KS(n,a.Ks),u=o.Ic(a.documents),s=Lw.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),mT(t,r,c.Pc),l=new WS(n,r,o),e.abrupt("return",(t.Cc.set(n,l),t.Nc.has(r)?t.Nc.get(r).push(n):t.Nc.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),JS.apply(this,arguments)}function XS(e,t){return ZS.apply(this,arguments)}function ZS(){return ZS=Ka(Ha().mark((function e(t,n){var r,i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Kg(t),i=r.Cc.get(n),!((a=r.Nc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Nc.set(i.targetId,a.filter((function(e){return!Ab(e,n)}))),void r.Cc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,BI(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),zE(r.remoteStore,i.targetId),vT(r,i.targetId)})).catch(uI);case 9:e.next=14;break;case 11:return vT(r,i.targetId),e.next=14,BI(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),ZS.apply(this,arguments)}function eT(e,t,n){return tT.apply(this,arguments)}function tT(){return tT=Ka(Ha().mark((function e(t,n,r){var i,a,o;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qT(t),e.prev=1,e.next=4,function(e,t){var n,r=Kg(e),i=sk.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Rw());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Us.Es(e,a).next((function(a){n=a;var o,u=[],s=aa(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=iw(c,n.get(c.key));null!=l&&u.push(new sw(c.key,l,Qk(l.value.mapValue),Zb.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.gs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.$c[e.currentUser.toKey()];r||(r=new kw(ak)),r=r.insert(t,n),e.$c[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,bT(i,a.changes);case 9:return e.next=11,rS(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=IS(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),tT.apply(this,arguments)}function nT(e,t){return rT.apply(this,arguments)}function rT(){return rT=Ka(Ha().mark((function e(t,n){var r,i;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kg(t),e.prev=1,e.next=4,VI(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Oc.get(t);n&&(Bg(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Sc=!0:e.modifiedDocuments.size>0?Bg(n.Sc):e.removedDocuments.size>0&&(Bg(n.Sc),n.Sc=!1))})),e.next=8,bT(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,uI(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),rT.apply(this,arguments)}function iT(e,t,n){var r=Kg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Cc.forEach((function(e,n){var r=n.view.tc(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Kg(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=aa(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.tc(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&MS(n)}(r.eventManager,t),i.length&&r.Dc.To(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function aT(e,t,n){return oT.apply(this,arguments)}function oT(){return oT=Ka(Ha().mark((function e(t,n,r){var i,a,o,u,s,c;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Kg(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Oc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new kw(Rk.comparator)).insert(o,$k.newNoDocument(o,ck.min())),s=Rw().add(o),c=new Dw(ck.min(),new Map,new xw(ak),u,s),e.next=9,nT(i,c);case 9:i.kc=i.kc.remove(o),i.Oc.delete(n),kT(i),e.next=16;break;case 14:return e.next=16,BI(i.localStore,n,!1).then((function(){return vT(i,n,r)})).catch(uI);case 16:case"end":return e.stop()}}),e)}))),oT.apply(this,arguments)}function uT(e,t){return sT.apply(this,arguments)}function sT(){return sT=Ka(Ha().mark((function e(t,n){var r,i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kg(t),i=n.batch.batchId,e.prev=1,e.next=4,FI(r.localStore,n);case 4:return a=e.sent,pT(r,i,null),dT(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,bT(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,uI(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),sT.apply(this,arguments)}function cT(e,t,n){return lT.apply(this,arguments)}function lT(){return lT=Ka(Ha().mark((function e(t,n,r){var i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Kg(t),e.prev=1,e.next=4,function(e,t){var n=Kg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.gs.lookupMutationBatch(e,t).next((function(t){return Bg(null!==t),r=t.keys(),n.gs.removeMutationBatch(e,t)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,pT(i,n,r),dT(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,bT(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,uI(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),lT.apply(this,arguments)}function fT(e,t){return hT.apply(this,arguments)}function hT(){return hT=Ka(Ha().mark((function e(t,n){var r,i,a,o;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return HE((r=Kg(t)).remoteStore)||Ug("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Kg(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.gs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Fc.get(i)||[]).push(n),r.Fc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=IS(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),hT.apply(this,arguments)}function dT(e,t){(e.Fc.get(t)||[]).forEach((function(e){e.resolve()})),e.Fc.delete(t)}function pT(e,t,n){var r=Kg(e),i=r.$c[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.$c[r.currentUser.toKey()]=i}}function vT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=aa(e.Nc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Cc.delete(a),n&&e.Dc.qc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Nc.delete(t),e.isPrimaryClient&&e.Mc.si(t).forEach((function(t){e.Mc.containsKey(t)||yT(e,t)}))}function yT(e,t){e.xc.delete(t.path.canonicalString());var n=e.kc.get(t);null!==n&&(zE(e.remoteStore,n),e.kc=e.kc.remove(t),e.Oc.delete(n),kT(e))}function mT(e,t,n){var r,i=aa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof qS?(e.Mc.addReference(a.key,t),gT(e,a)):a instanceof BS?(Ug("SyncEngine","Document no longer in limbo: "+a.key),e.Mc.removeReference(a.key,t),e.Mc.containsKey(a.key)||yT(e,a.key)):qg()}}catch(o){i.e(o)}finally{i.f()}}function gT(e,t){var n=t.key,r=n.path.canonicalString();e.kc.get(n)||e.xc.has(r)||(Ug("SyncEngine","New document in limbo: "+n),e.xc.add(r),kT(e))}function kT(e){for(;e.xc.size>0&&e.kc.size<e.maxConcurrentLimboResolutions;){var t=e.xc.values().next().value;e.xc.delete(t);var n=new Rk(pk.fromString(t)),r=e.Bc.next();e.Oc.set(r,new HS(n)),e.kc=e.kc.insert(n,r),jE(e.remoteStore,new f_(Cb(wb(n.path)),r,2,nk.A))}}function bT(e,t,n){return wT.apply(this,arguments)}function wT(){return wT=Ka(Ha().mark((function e(t,n,r){var i,a,o,u;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Kg(t),a=[],o=[],u=[],e.t0=i.Cc.isEmpty(),e.t0){e.next=9;break}return i.Cc.forEach((function(e,t){u.push(i.Uc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=RI.Ss(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Dc.To(a),e.next=9,function(){var e=Ka(Ha().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kg(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Yx.forEach(n,(function(t){return Yx.forEach(t.vs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Yx.forEach(t.Vs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),t_(e.t0)){e.next=10;break}throw e.t0;case 10:Ug("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=aa(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ms.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ms=r.Ms.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),wT.apply(this,arguments)}function xT(e,t){return _T.apply(this,arguments)}function _T(){return _T=Ka(Ha().mark((function e(t,n){var r,i;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Kg(t)).currentUser.isEqual(n)){e.next=11;break}return Ug("SyncEngine","User change. New user:",n.toKey()),e.next=5,LI(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Fc.forEach((function(e){e.forEach((function(e){e.reject(new Hg(Wg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,bT(r,i.qs);case 11:case"end":return e.stop()}}),e)}))),_T.apply(this,arguments)}function IT(e,t){var n=Kg(e),r=n.Oc.get(t);if(r&&r.Sc)return Rw().add(r.key);var i=Rw(),a=n.Nc.get(t);if(!a)return i;var o,u=aa(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Cc.get(s);i=i.unionWith(c.view.yc)}}catch(l){u.e(l)}finally{u.f()}return i}function ET(e,t){return ST.apply(this,arguments)}function ST(){return ST=Ka(Ha().mark((function e(t,n){var r,i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kg(t),e.next=3,WI(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.vc(i),e.abrupt("return",(r.isPrimaryClient&&mT(r,n.targetId,a.Pc),a));case 6:case"end":return e.stop()}}),e)}))),ST.apply(this,arguments)}function TT(e){return CT.apply(this,arguments)}function CT(){return CT=Ka(Ha().mark((function e(t){var n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Kg(t),e.abrupt("return",GI(n.localStore).then((function(e){return bT(n,e)})));case 2:case"end":return e.stop()}}),e)}))),CT.apply(this,arguments)}function NT(e,t,n,r){return AT.apply(this,arguments)}function AT(){return AT=Ka(Ha().mark((function e(t,n,r,i){var a,o;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Kg(t),e.next=3,function(e,t){var n=Kg(e),r=Kg(n.gs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Ge(e,t).next((function(t){return t?n.Us.Es(e,t):Yx.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,rS(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(pT(a,n,i||null),dT(a,n),function(e,t){Kg(Kg(e).gs).Qe(t)}(a.localStore,n)):qg();case 11:return e.next=13,bT(a,o);case 13:e.next=16;break;case 15:Ug("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),AT.apply(this,arguments)}function RT(e,t){return PT.apply(this,arguments)}function PT(){return PT=Ka(Ha().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zT(r=Kg(t)),qT(r),!0!==n||!0===r.Lc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,OT(r,i.toArray());case 5:return a=e.sent,r.Lc=!0,e.next=9,kS(r.remoteStore,!0);case 9:o=aa(a);try{for(o.s();!(u=o.n()).done;)s=u.value,jE(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Lc){e.next=25;break}return c=[],l=Promise.resolve(),r.Nc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return vT(r,t),BI(r.localStore,t,!0)})),zE(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,OT(r,c);case 21:return function(e){var t=Kg(e);t.Oc.forEach((function(e,n){zE(t.remoteStore,n)})),t.Mc.ii(),t.Oc=new Map,t.kc=new kw(Rk.comparator)}(r),r.Lc=!1,e.next=25,kS(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),PT.apply(this,arguments)}function OT(e,t,n){return DT.apply(this,arguments)}function DT(){return DT=Ka(Ha().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Kg(t),a=[],o=[],u=aa(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Nc.get(c))||0===f.length){e.next=34;break}return e.next=11,qI(i.localStore,Cb(f[0]));case 11:l=e.sent,h=aa(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Cc.get(p),e.next=20,ET(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,HI(i.localStore,c);case 36:return m=e.sent,e.next=39,qI(i.localStore,m);case 39:return l=e.sent,e.next=42,YS(i,LT(m),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Dc.To(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),DT.apply(this,arguments)}function LT(e){return bb(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function MT(e){var t=Kg(e);return Kg(Kg(t.localStore).persistence).ds()}function FT(e,t,n,r){return UT.apply(this,arguments)}function UT(){return UT=Ka(Ha().mark((function e(t,n,r,i){var a,o,u;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Kg(t)).Lc){e.next=5;break}Ug("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Nc.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,GI(a.localStore);case 11:return o=e.sent,u=Dw.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,bT(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,BI(a.localStore,n,!0);case 18:return vT(a,n,i),e.abrupt("break",21);case 20:qg();case 21:case"end":return e.stop()}}),e)}))),UT.apply(this,arguments)}function VT(e,t,n){return jT.apply(this,arguments)}function jT(){return jT=Ka(Ha().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=zT(t)).Lc){e.next=45;break}a=aa(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Nc.has(u)){e.next=10;break}return Ug("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,HI(i.localStore,u);case 12:return s=e.sent,e.next=15,qI(i.localStore,s);case 15:return c=e.sent,e.next=18,YS(i,LT(s),c.targetId,!1);case 18:jE(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=aa(r),e.prev=30,h=Ha().mark((function e(){var t;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Nc.has(t),!e.t0){e.next=5;break}return e.next=5,BI(i.localStore,t,!1).then((function(){zE(i.remoteStore,t),vT(i,t)})).catch(uI);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),jT.apply(this,arguments)}function zT(e){var t=Kg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=nT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=IT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aT.bind(null,t),t.Dc.To=DS.bind(null,t.eventManager),t.Dc.qc=LS.bind(null,t.eventManager),t}function qT(e){var t=Kg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cT.bind(null,t),t}function BT(e,t,n){var r=Kg(e);(function(){var e=Ka(Ha().mark((function e(t,n,r){var i,a,o,u,s;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Kg(e),r=$w(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Kn.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(zS(i)),a=new jS(i,t.localStore,n.O),e.next=14,n.Kc();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.lc(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Kc();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,bT(t,s.ws,void 0);case 30:return e.next=32,function(e,t){var n=Kg(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Kn.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),jg("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var KT=function(){function e(){ia(this,e),this.synchronizeTabs=!1}return k(e,[{key:"initialize",value:function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.O=CE(t.databaseInfo.databaseId),this.sharedClientState=this.Gc(t),this.persistence=this.jc(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Qc(t),this.localStore=this.Wc(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){return null}},{key:"Wc",value:function(e){return DI(this.persistence,new PI,e.initialUser,this.O)}},{key:"jc",value:function(e){return new sE(lE.bi,this.O)}},{key:"Gc",value:function(e){return new bE}},{key:"terminate",value:function(){var e=Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),WT=function(e){oa(n,e);var t=la(n);function n(e,r,i){var a;return ia(this,n),(a=t.call(this)).zc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return k(n,[{key:"initialize",value:function(){var e=Ka(Ha().mark((function e(t){var r=this;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(ua(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,QI(this.localStore);case 4:return e.next=6,this.zc.initialize(this,t);case 6:return e.next=8,qT(this.zc.syncEngine);case 8:return e.next=10,rS(this.zc.remoteStore);case 10:return e.next=12,this.persistence.Hn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Wc",value:function(e){return DI(this.persistence,new PI,e.initialUser,this.O)}},{key:"Qc",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new fI(t,e.asyncQueue)}},{key:"jc",value:function(e){var t=CI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Q_.withCacheSize(this.cacheSizeBytes):Q_.DEFAULT;return new EI(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,SE(),TE(),this.O,this.sharedClientState,!!this.forceOwnership)}},{key:"Gc",value:function(e){return new bE}}]),n}(KT),HT=function(e){oa(n,e);var t=la(n);function n(e,r){var i;return ia(this,n),(i=t.call(this,e,r,!1)).zc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return k(n,[{key:"initialize",value:function(){var e=Ka(Ha().mark((function e(t){var r,i=this;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(ua(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.zc.syncEngine,e.t0=this.sharedClientState instanceof kE,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={hr:NT.bind(null,r),lr:FT.bind(null,r),dr:VT.bind(null,r),ds:MT.bind(null,r),ar:TT.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Hn(function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RT(i.zc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Gc",value:function(e){var t=SE();if(!kE.Vt(t))throw new Hg(Wg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=CI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new kE(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(WT),GT=function(){function e(){ia(this,e)}return k(e,[{key:"initialize",value:function(){var e=Ka(Ha().mark((function e(t,n){var r=this;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return iT(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=xT.bind(null,this.syncEngine),e.next=12,kS(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new NS}},{key:"createDatastore",value:function(e){var t,n=CE(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new EE(t));return function(e,t,n,r){return new OE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return iT(o.syncEngine,e,0)},a=xE.Vt()?new xE:new wE,new LE(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new GS(e,t,n,r,i,a);return o&&(u.Lc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ka(Ha().mark((function e(t){var n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Kg(t),Ug("RemoteStore","RemoteStore shutting down."),n.Ko.add(5),e.next=5,UE(n);case 5:n.jo.shutdown(),n.Qo.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function QT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ka(Ha().mark((function r(){var i;return Ha().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var $T=function(){function e(t){ia(this,e),this.observer=t,this.muted=!1}return k(e,[{key:"next",value:function(e){this.observer.next&&this.Hc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Jc",value:function(){this.muted=!0}},{key:"Hc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),YT=function(){function e(t,n){var r=this;ia(this,e),this.Yc=t,this.O=n,this.metadata=new Gg,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then((function(e){e&&e.ac()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return k(e,[{key:"close",value:function(){return this.Yc.cancel()}},{key:"getMetadata",value:function(){var e=Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(){var e=Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Zc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(){var e=Ka(Ha().mark((function e(){var t,n,r,i;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tu();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Xc.decode(t),r=Number(n),isNaN(r)&&this.eu("length string (".concat(n,") is not valid number")),e.next=9,this.nu(r);case 9:return i=e.sent,e.abrupt("return",new US(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"su",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"tu",value:function(){var e=Ka(Ha().mark((function e(){var t,n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.su()<0)){e.next=7;break}return e.next=3,this.iu();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.su())<0&&this.eu("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nu",value:function(){var e=Ka(Ha().mark((function e(t){var n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.iu();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.eu("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"eu",value:function(e){throw this.Yc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"iu",value:function(){var e=Ka(Ha().mark((function e(){var t,n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Yc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),JT=function(){function e(t){ia(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return k(e,[{key:"lookup",value:function(){var e=Ka(Ha().mark((function e(t){var n,r=this;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Hg(Wg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ka(Ha().mark((function e(t,n){var r,i,a,o,u,s;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kg(t),i=nx(r.O)+"/documents",a={documents:n.map((function(e){return Xw(r.O,e)}))},e.next=5,r.Lr("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=ox(r.O,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Bg(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new pw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ka(Ha().mark((function e(){var t,n=this;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Rk.fromPath(t);n.mutations.push(new vw(r,n.precondition(r)))})),e.next=7,function(){var e=Ka(Ha().mark((function e(t,n){var r,i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kg(t),i=nx(r.O)+"/documents",a={writes:n.map((function(e){return ux(r.O,e)}))},e.next=3,r.Mr("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw qg();t=ck.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Hg(Wg.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Zb.updateTime(t):Zb.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ck.min()))throw new Hg(Wg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zb.updateTime(t)}return Zb.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),XT=function(){function e(t,n,r,i){ia(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ru=5,this.ro=new NE(this.asyncQueue,"transaction_retry")}return k(e,[{key:"run",value:function(){this.ru-=1,this.ou()}},{key:"ou",value:function(){var e=this;this.ro.Hr(Ka(Ha().mark((function t(){var n,r;return Ha().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new JT(e.datastore),(r=e.cu(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.uu(t)}))}))})).catch((function(t){e.uu(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"cu",value:function(e){try{var t=this.updateFunction(e);return!Ck(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"uu",value:function(e){var t=this;this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget((function(){return t.ou(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"au",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!mw(t)}return!1}}]),e}(),ZT=function(){function e(t,n,r,i){var a=this;ia(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dg.UNAUTHENTICATED,this.clientId=ik.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ug("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ug("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return k(e,[{key:"getConfiguration",value:function(){var e=Ka(Ha().mark((function e(){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Hg(Wg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Gg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ka(Ha().mark((function n(){var r;return Ha().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=IS(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function eC(e,t){return tC.apply(this,arguments)}function tC(){return tC=Ka(Ha().mark((function e(t,n){var r,i;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ug("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,LI(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),tC.apply(this,arguments)}function nC(e,t){return rC.apply(this,arguments)}function rC(){return rC=Ka(Ha().mark((function e(t,n){var r,i;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,iC(t);case 3:return r=e.sent,Ug("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return mS(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return mS(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),rC.apply(this,arguments)}function iC(e){return aC.apply(this,arguments)}function aC(){return aC=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Ug("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,eC(t,new KT);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),aC.apply(this,arguments)}function oC(e){return uC.apply(this,arguments)}function uC(){return uC=Ka(Ha().mark((function e(t){return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Ug("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,nC(t,new GT);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),uC.apply(this,arguments)}function sC(e){return iC(e).then((function(e){return e.persistence}))}function cC(e){return iC(e).then((function(e){return e.localStore}))}function lC(e){return oC(e).then((function(e){return e.remoteStore}))}function fC(e){return oC(e).then((function(e){return e.syncEngine}))}function hC(e){return dC.apply(this,arguments)}function dC(){return dC=Ka(Ha().mark((function e(t){var n,r;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oC(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=QS.bind(null,n.syncEngine),r.onUnlisten=XS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),dC.apply(this,arguments)}function pC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Gg;return e.asyncQueue.enqueueAndForget(Ka(Ha().mark((function i(){return Ha().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new $T({next:function(a){t.enqueueAndForget((function(){return PS(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Hg(Wg.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Hg(Wg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new FS(wb(n.path),a,{includeMetadataChanges:!0,uc:!0});return AS(e,o)},i.next=3,hC(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function vC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Gg;return e.asyncQueue.enqueueAndForget(Ka(Ha().mark((function i(){return Ha().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new $T({next:function(n){t.enqueueAndForget((function(){return PS(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Hg(Wg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new FS(n,a,{includeMetadataChanges:!0,uc:!0});return AS(e,o)},i.next=3,hC(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var yC=new Map;function mC(e,t,n){if(!n)throw new Hg(Wg.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function gC(e,t,n,r){if(!0===t&&!0===r)throw new Hg(Wg.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function kC(e){if(!Rk.isDocumentKey(e))throw new Hg(Wg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function bC(e){if(Rk.isDocumentKey(e))throw new Hg(Wg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function wC(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":qg()}function xC(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Hg(Wg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=wC(e);throw new Hg(Wg.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function _C(e,t){if(t<=0)throw new Hg(Wg.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var IC=function(){function e(t){var n;if(ia(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Hg(Wg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Hg(Wg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,gC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return k(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),EC=function(){function e(t,n,r){ia(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IC({}),this._settingsFrozen=!1,t instanceof Tk?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Hg(Wg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tk(e.options.projectId)}(t))}return k(e,[{key:"app",get:function(){if(!this._app)throw new Hg(Wg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Hg(Wg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IC(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new $g;switch(e.type){case"gapi":var t=e.client;return Bg(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Zg(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Hg(Wg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=yC.get(e);t&&(Ug("ComponentProvider","Removing Datastore"),yC.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function SC(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=xC(e,EC))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&jg("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Dg.MOCK_USER;else{o=wa(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Hg(Wg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Dg(s)}e._authCredentials=new Yg(new Qg(o,u))}}var TC=function(){function e(t,n,r){ia(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return k(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new NC(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),CC=function(){function e(t,n,r){ia(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return k(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),NC=function(e){oa(n,e);var t=la(n);function n(e,r,i){var a;return ia(this,n),(a=t.call(this,e,r,wb(i)))._path=i,a.type="collection",a}return k(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new TC(this.firestore,null,new Rk(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(CC);function AC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=qa(e),mC("collection","path",t),e instanceof EC){var a=pk.fromString.apply(pk,[t].concat(r));return bC(a),new NC(e,null,a)}if(!(e instanceof TC||e instanceof NC))throw new Hg(Wg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(pk.fromString.apply(pk,[t].concat(r)));return bC(o),new NC(e.firestore,null,o)}function RC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=qa(e),1===arguments.length&&(t=ik.R()),mC("doc","path",t),e instanceof EC){var a=pk.fromString.apply(pk,[t].concat(r));return kC(a),new TC(e,null,new Rk(a))}if(!(e instanceof TC||e instanceof NC))throw new Hg(Wg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(pk.fromString.apply(pk,[t].concat(r)));return kC(o),new TC(e.firestore,e instanceof NC?e.converter:null,new Rk(o))}function PC(e,t){return e=qa(e),t=qa(t),(e instanceof TC||e instanceof NC)&&(t instanceof TC||t instanceof NC)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function OC(e,t){return e=qa(e),t=qa(t),e instanceof CC&&t instanceof CC&&e.firestore===t.firestore&&Ab(e._query,t._query)&&e.converter===t.converter}var DC=function(){function e(){var t=this;ia(this,e),this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new NE(this,"async_queue_retry"),this.yu=function(){var e=TE();e&&Ug("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ro.Yr()};var n=TE();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.yu)}return k(e,[{key:"isShuttingDown",get:function(){return this.fu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.pu(),this.Iu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.fu){this.fu=!0,this.mu=e||!1;var t=TE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}},{key:"enqueue",value:function(e){var t=this;if(this.pu(),this.fu)return new Promise((function(){}));var n=new Gg;return this.Iu((function(){return t.fu&&t.mu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.lu.push(e),t.Eu()}))}},{key:"Eu",value:function(){var e=Ka(Ha().mark((function e(){var t=this;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.lu.length){e.next=14;break}return e.prev=1,e.next=4,this.lu[0]();case 4:this.lu.shift(),this.ro.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),t_(e.t0)){e.next=12;break}throw e.t0;case 12:Ug("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.lu.length>0&&this.ro.Hr((function(){return t.Eu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Iu",value:function(e){var t=this,n=this.hu.then((function(){return t.wu=!0,e().catch((function(e){t._u=e,t.wu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Vg("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.wu=!1,e}))}));return this.hu=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.pu(),this.gu.indexOf(e)>-1&&(t=0);var i=_S.createAndSchedule(this,e,t,n,(function(e){return r.Tu(e)}));return this.du.push(i),i}},{key:"pu",value:function(){this._u&&qg()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Au",value:function(){var e=Ka(Ha().mark((function e(){var t;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.hu,e.next=3,t;case 3:if(t!==this.hu){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ru",value:function(e){var t,n=aa(this.du);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.Au().then((function(){t.du.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=aa(t.du);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Au()}))}},{key:"bu",value:function(e){this.gu.push(e)}},{key:"Tu",value:function(e){var t=this.du.indexOf(e);this.du.splice(t,1)}}]),e}();function LC(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=aa(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var MC=function(){function e(){ia(this,e),this._progressObserver={},this._taskCompletionResolver=new Gg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return k(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),FC=function(e){oa(n,e);var t=la(n);function n(e,r,i){var a;return ia(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new DC,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return k(n,[{key:"_terminate",value:function(){return this._firestoreClient||VC(this),this._firestoreClient.terminate()}}]),n}(EC);function UC(e){return e._firestoreClient||VC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function VC(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Sk(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new ZT(e._authCredentials,e._appCheckCredentials,e._queue,r)}function jC(e,t,n){var r=new Gg;return e.asyncQueue.enqueue(Ka(Ha().mark((function i(){return Ha().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,eC(e,n);case 3:return i.next=5,nC(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Wg.FAILED_PRECONDITION||e.code===Wg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function zC(e){return function(e){return e.asyncQueue.enqueue(Ka(Ha().mark((function t(){var n,r;return Ha().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sC(e);case 2:return n=t.sent,t.next=5,lC(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Kg(e);return t.Ko.delete(0),ME(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(UC(e=xC(e,FC)))}function qC(e){return function(e){return e.asyncQueue.enqueue(Ka(Ha().mark((function t(){var n,r;return Ha().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sC(e);case 2:return n=t.sent,t.next=5,lC(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ka(Ha().mark((function e(t){var n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Kg(t)).Ko.add(0),e.next=4,UE(n);case 4:n.Qo.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(UC(e=xC(e,FC)))}function BC(e,t){var n=UC(e=xC(e,FC)),r=new MC;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new YT(e,t)}(function(e,t){if(e instanceof Uint8Array)return QT(e,t);if(e instanceof ArrayBuffer)return QT(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,CE(t));e.asyncQueue.enqueueAndForget(Ka(Ha().mark((function t(){return Ha().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=BT,t.next=3,fC(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function KC(e,t){return function(e,t){return e.asyncQueue.enqueue(Ka(Ha().mark((function n(){return Ha().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Kg(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Kn.getNamedQuery(e,t)}))},n.next=3,cC(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(UC(e=xC(e,FC)),t).then((function(t){return t?new CC(e,null,t.query):null}))}function WC(e){if(e._initialized||e._terminated)throw new Hg(Wg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var HC=function(){function e(){ia(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Hg(Wg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yk(n)}return k(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var GC=function(){function e(t){ia(this,e),this._byteString=t}return k(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(gk.fromBase64String(t))}catch(t){throw new Hg(Wg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(gk.fromUint8Array(t))}}]),e}(),QC=k((function e(t){ia(this,e),this._methodName=t})),$C=function(){function e(t,n){if(ia(this,e),!isFinite(t)||t<-90||t>90)throw new Hg(Wg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Hg(Wg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return k(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return ak(this._lat,e._lat)||ak(this._long,e._long)}}]),e}(),YC=/^__.*__$/,JC=function(){function e(t,n,r){ia(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return k(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new sw(e,this.data,this.fieldMask,t,this.fieldTransforms):new uw(e,this.data,t,this.fieldTransforms)}}]),e}(),XC=function(){function e(t,n,r){ia(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return k(e,[{key:"toMutation",value:function(e,t){return new sw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function ZC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qg()}}var eN=function(){function e(t,n,r,i,a,o){ia(this,e),this.settings=t,this.databaseId=n,this.O=r,this.ignoreUndefinedProperties=i,void 0===a&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return k(e,[{key:"path",get:function(){return this.settings.path}},{key:"Vu",get:function(){return this.settings.Vu}},{key:"Su",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Du",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.Nu(e),r}},{key:"xu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.vu(),r}},{key:"ku",value:function(e){return this.Su({path:void 0,Cu:!0})}},{key:"Ou",value:function(e){return bN(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"vu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}},{key:"Nu",value:function(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(ZC(this.Vu)&&YC.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}]),e}(),tN=function(){function e(t,n,r){ia(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.O=r||CE(t)}return k(e,[{key:"Fu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new eN({Vu:e,methodName:t,$u:n,path:yk.emptyPath(),Cu:!1,Mu:r},this.databaseId,this.O,this.ignoreUndefinedProperties)}}]),e}();function nN(e){var t=e._freezeSettings(),n=CE(e._databaseId);return new tN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function rN(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Fu(a.merge||a.mergeFields?2:0,t,n,i);yN("Data must be an object, but it was:",o,r);var u,s,c=pN(r,o);if(a.merge)u=new mk(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=aa(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=mN(t,d,n);if(!o.contains(p))throw new Hg(Wg.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));wN(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new mk(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new JC(new Gk(c),u,s)}var iN=function(e){oa(n,e);var t=la(n);function n(){return ia(this,n),t.apply(this,arguments)}return k(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Vu)throw 1===e.Vu?e.Ou("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ou("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(QC);function aN(e,t,n){return new eN({Vu:3,$u:t.settings.$u,methodName:e._methodName,Cu:n},t.databaseId,t.O,t.ignoreUndefinedProperties)}var oN=function(e){oa(n,e);var t=la(n);function n(){return ia(this,n),t.apply(this,arguments)}return k(n,[{key:"_toFieldTransform",value:function(e){return new Jb(e.path,new Bb)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(QC),uN=function(e){oa(n,e);var t=la(n);function n(e,r){var i;return ia(this,n),(i=t.call(this,e)).Bu=r,i}return k(n,[{key:"_toFieldTransform",value:function(e){var t=aN(this,e,!0),n=this.Bu.map((function(e){return dN(e,t)})),r=new Kb(n);return new Jb(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(QC),sN=function(e){oa(n,e);var t=la(n);function n(e,r){var i;return ia(this,n),(i=t.call(this,e)).Bu=r,i}return k(n,[{key:"_toFieldTransform",value:function(e){var t=aN(this,e,!0),n=this.Bu.map((function(e){return dN(e,t)})),r=new Hb(n);return new Jb(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(QC),cN=function(e){oa(n,e);var t=la(n);function n(e,r){var i;return ia(this,n),(i=t.call(this,e)).Lu=r,i}return k(n,[{key:"_toFieldTransform",value:function(e){var t=new Qb(e.O,Ub(e.O,this.Lu));return new Jb(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(QC);function lN(e,t,n,r){var i=e.Fu(1,t,n);yN("Data must be an object, but it was:",i,r);var a=[],o=Gk.empty();fk(r,(function(e,r){var u=kN(t,e,n);r=qa(r);var s=i.xu(u);if(r instanceof iN)a.push(u);else{var c=dN(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new mk(a);return new XC(o,u,i.fieldTransforms)}function fN(e,t,n,r,i,a){var o=e.Fu(1,t,n),u=[mN(t,r,n)],s=[i];if(a.length%2!=0)throw new Hg(Wg.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(mN(t,a[c])),s.push(a[c+1]);for(var l=[],f=Gk.empty(),h=u.length-1;h>=0;--h)if(!wN(l,u[h])){var d=u[h],p=s[h];p=qa(p);var v=o.xu(d);if(p instanceof iN)l.push(d);else{var y=dN(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new mk(l);return new XC(f,m,o.fieldTransforms)}function hN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return dN(n,e.Fu(r?4:3,t))}function dN(e,t){if(vN(e=qa(e)))return yN("Unsupported field value:",t,e),pN(e,t);if(e instanceof QC)return function(e,t){if(!ZC(t.Vu))throw t.Ou("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ou("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Cu&&4!==t.Vu)throw t.Ou("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=aa(e);try{for(a.s();!(n=a.n()).done;){var o=dN(n.value,t.ku(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=qa(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ub(t.O,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=sk.fromDate(e);return{timestampValue:Hw(t.O,n)}}if(e instanceof sk){var r=new sk(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Hw(t.O,r)}}if(e instanceof $C)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof GC)return{bytesValue:Gw(t.O,e._byteString)};if(e instanceof TC){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ou("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Yw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ou("Unsupported field value: ".concat(wC(e)))}(e,t)}function pN(e,t){var n={};return hk(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fk(e,(function(e,r){var i=dN(r,t.Du(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function vN(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof sk||e instanceof $C||e instanceof GC||e instanceof TC||e instanceof QC)}function yN(e,t,n){if(!vN(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=wC(n);throw"an object"===r?t.Ou(e+" a custom object"):t.Ou(e+" "+r)}}function mN(e,t,n){if((t=qa(t))instanceof HC)return t._internalPath;if("string"==typeof t)return kN(e,t);throw bN("Field path arguments must be of type string or ",e,!1,void 0,n)}var gN=new RegExp("[~\\*/\\[\\]]");function kN(e,t,n){if(t.search(gN)>=0)throw bN("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return fa(HC,mt(t.split(".")))._internalPath}catch(r){throw bN("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function bN(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Hg(Wg.INVALID_ARGUMENT,u+e+s)}function wN(e,t){return e.some((function(e){return e.isEqual(t)}))}var xN=function(){function e(t,n,r,i,a){ia(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return k(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new TC(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new _N(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(IN("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),_N=function(e){oa(n,e);var t=la(n);function n(){return ia(this,n),t.apply(this,arguments)}return k(n,[{key:"data",value:function(){return ou(ua(n.prototype),"data",this).call(this)}}]),n}(xN);function IN(e,t){return"string"==typeof t?kN(e,t):t instanceof HC?t._internalPath:t._delegate._internalPath}var EN=function(){function e(t,n){ia(this,e),this.hasPendingWrites=t,this.fromCache=n}return k(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),SN=function(e){oa(n,e);var t=la(n);function n(e,r,i,a,o,u){var s;return ia(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return k(n,[{key:"exists",value:function(){return ou(ua(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new TN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(IN("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(xN),TN=function(e){oa(n,e);var t=la(n);function n(){return ia(this,n),t.apply(this,arguments)}return k(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ou(ua(n.prototype),"data",this).call(this,e)}}]),n}(SN),CN=function(){function e(t,n,r,i){ia(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new EN(i.hasPendingWrites,i.fromCache),this.query=r}return k(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new TN(n._firestore,n._userDataWriter,r.key,r,new EN(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Hg(Wg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new TN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new EN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new TN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new EN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:NN(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function NN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qg()}}function AN(e,t){return e instanceof SN&&t instanceof SN?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof CN&&t instanceof CN&&e._firestore===t._firestore&&OC(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function RN(e){if(_b(e)&&0===e.explicitOrderBy.length)throw new Hg(Wg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var PN=k((function e(){ia(this,e)}));function ON(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var DN=function(e){oa(n,e);var t=la(n);function n(e,r,i){var a;return ia(this,n),(a=t.call(this)).Uu=e,a.qu=r,a.Ku=i,a.type="where",a}return k(n,[{key:"_apply",value:function(e){var t=nN(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Hg(Wg.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){WN(o,a);var s,c=[],l=aa(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(KN(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=KN(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||WN(o,a),u=hN(n,"where",o,"in"===a||"not-in"===a);var h=ab.create(i,a,u);return function(e,t){if(t.S()){var n=Eb(e);if(null!==n&&!n.isEqual(t.field))throw new Hg(Wg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Ib(e);null!==r&&HN(e,t.field,r)}var i=function(e,t){var n,r=aa(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Hg(Wg.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Hg(Wg.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new CC(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new kb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(PN);var LN=function(e){oa(n,e);var t=la(n);function n(e,r){var i;return ia(this,n),(i=t.call(this)).Uu=e,i.Gu=r,i.type="orderBy",i}return k(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Hg(Wg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Hg(Wg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new vb(t,n);return function(e,t){if(null===Ib(e)){var n=Eb(e);null!==n&&HN(e,n,t.field)}}(e,r),r}(e._query,this.Uu,this.Gu);return new CC(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new kb(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(PN);var MN=function(e){oa(n,e);var t=la(n);function n(e,r,i){var a;return ia(this,n),(a=t.call(this)).type=e,a.ju=r,a.Qu=i,a}return k(n,[{key:"_apply",value:function(e){return new CC(e.firestore,e.converter,Nb(e._query,this.ju,this.Qu))}}]),n}(PN);var FN=function(e){oa(n,e);var t=la(n);function n(e,r,i){var a;return ia(this,n),(a=t.call(this)).type=e,a.Wu=r,a.zu=i,a}return k(n,[{key:"_apply",value:function(e){var t=BN(e,this.type,this.Wu,this.zu);return new CC(e.firestore,e.converter,function(e,t){return new kb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(PN);function UN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new FN("startAt",t,!0)}function VN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new FN("startAfter",t,!1)}var jN=function(e){oa(n,e);var t=la(n);function n(e,r,i){var a;return ia(this,n),(a=t.call(this)).type=e,a.Wu=r,a.zu=i,a}return k(n,[{key:"_apply",value:function(e){var t=BN(e,this.type,this.Wu,this.zu);return new CC(e.firestore,e.converter,function(e,t){return new kb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(PN);function zN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jN("endBefore",t,!1)}function qN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jN("endAt",t,!0)}function BN(e,t,n,r){if(n[0]=qa(n[0]),n[0]instanceof xN)return function(e,t,n,r,i){if(!r)throw new Hg(Wg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=aa(Tb(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(jk(t,r.key));else{var c=r.data.field(s.field);if(_k(c))throw new Hg(Wg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Hg(Wg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new pb(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=nN(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Hg(Wg.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Hg(Wg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Sb(e)&&-1!==c.indexOf("/"))throw new Hg(Wg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(pk.fromString(c));if(!Rk.isDocumentKey(l))throw new Hg(Wg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Rk(l);u.push(jk(t,f))}else{var h=hN(n,r,c);u.push(h)}}return new pb(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function KN(e,t,n){if("string"==typeof(n=qa(n))){if(""===n)throw new Hg(Wg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sb(t)&&-1!==n.indexOf("/"))throw new Hg(Wg.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(pk.fromString(n));if(!Rk.isDocumentKey(r))throw new Hg(Wg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return jk(e,new Rk(r))}if(n instanceof TC)return jk(e,n._key);throw new Hg(Wg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(wC(n),"."))}function WN(e,t){if(!Array.isArray(e)||0===e.length)throw new Hg(Wg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Hg(Wg.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function HN(e,t,n){if(!n.isEqual(t))throw new Hg(Wg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var GN=function(){function e(){ia(this,e)}return k(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ok(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wk(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xk(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw qg()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return fk(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new $C(wk(e.latitude),wk(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ik(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ek(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=bk(e);return new sk(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=pk.fromString(e);Bg(bx(n));var r=new Tk(n.get(1),n.get(3)),i=new Rk(n.popFirst(5));return r.isEqual(t)||Vg("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function QN(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var $N=function(e){oa(n,e);var t=la(n);function n(e){var r;return ia(this,n),(r=t.call(this)).firestore=e,r}return k(n,[{key:"convertBytes",value:function(e){return new GC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new TC(this.firestore,null,t)}}]),n}(GN),YN=function(){function e(t,n){ia(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=nN(t)}return k(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=JN(e,this._firestore),i=QN(r.converter,t,n),a=rN(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Zb.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=JN(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=qa(t))||t instanceof HC?fN(this._dataReader,"WriteBatch.update",i._key,t,n,o):lN(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Zb.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=JN(e,this._firestore);return this._mutations=this._mutations.concat(new pw(t._key,Zb.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Hg(Wg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function JN(e,t){if((e=qa(e)).firestore!==t)throw new Hg(Wg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var XN=function(e){oa(n,e);var t=la(n);function n(e){var r;return ia(this,n),(r=t.call(this)).firestore=e,r}return k(n,[{key:"convertBytes",value:function(e){return new GC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new TC(this.firestore,null,t)}}]),n}(GN);function ZN(e){e=xC(e,TC);var t=xC(e.firestore,FC),n=UC(t),r=new XN(t);return function(e,t){var n=new Gg;return e.asyncQueue.enqueueAndForget(Ka(Ha().mark((function r(){return Ha().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ka(Ha().mark((function e(t,n,r){var i,a;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Kg(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Us.ys(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Hg(Wg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=IS(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,cC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new SN(t,r,e._key,n,new EN(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function eA(e){e=xC(e,CC);var t=xC(e.firestore,FC),n=UC(t),r=new XN(t);return function(e,t){var n=new Gg;return e.asyncQueue.enqueueAndForget(Ka(Ha().mark((function r(){return Ha().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ka(Ha().mark((function e(t,n,r){var i,a,o,u,s;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,WI(t,n,!0);case 3:i=e.sent,a=new KS(n,i.Ks),o=a.Ic(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=IS(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,cC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new CN(t,r,e,n)}))}function tA(e,t,n){e=xC(e,TC);var r=xC(e.firestore,FC),i=QN(e.converter,t,n);return aA(r,[rN(nN(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Zb.none())])}function nA(e,t,n){e=xC(e,TC);for(var r=xC(e.firestore,FC),i=nN(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return aA(r,[("string"==typeof(t=qa(t))||t instanceof HC?fN(i,"updateDoc",e._key,t,n,o):lN(i,"updateDoc",e._key,t)).toMutation(e._key,Zb.exists(!0))])}function rA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=qa(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||LC(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(LC(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof TC)l=xC(e.firestore,FC),f=wb(e._key.path),c={next:function(t){n[s]&&n[s](oA(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=xC(e,CC);l=xC(p.firestore,FC),f=p._query;var v=new XN(l);c={next:function(e){n[s]&&n[s](new CN(l,v,p,e))},error:n[s+1],complete:n[s+2]},RN(e._query)}return function(e,t,n,r){var i=new $T(r),a=new FS(t,i,n);return e.asyncQueue.enqueueAndForget(Ka(Ha().mark((function t(){return Ha().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=AS,t.next=3,hC(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Jc(),e.asyncQueue.enqueueAndForget(Ka(Ha().mark((function t(){return Ha().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=PS,t.next=3,hC(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(UC(l),f,h,c)}function iA(e,t){return function(e,t){var n=new $T(t);return e.asyncQueue.enqueueAndForget(Ka(Ha().mark((function t(){return Ha().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Kg(e).Zo.add(t),t.next()},t.next=3,hC(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Jc(),e.asyncQueue.enqueueAndForget(Ka(Ha().mark((function t(){return Ha().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Kg(e).Zo.delete(t)},t.next=3,hC(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(UC(e=xC(e,FC)),LC(t)?t:{next:t})}function aA(e,t){return function(e,t){var n=new Gg;return e.asyncQueue.enqueueAndForget(Ka(Ha().mark((function r(){return Ha().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=eT,r.next=3,fC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(UC(e),t)}function oA(e,t,n){var r=n.docs.get(t._key),i=new XN(e);return new SN(e,i,t._key,r,new EN(n.hasPendingWrites,n.fromCache),t.converter)}var uA=function(e){oa(n,e);var t=la(n);function n(e,r){var i;return ia(this,n),(i=t.call(this,e,r))._firestore=e,i}return k(n,[{key:"get",value:function(e){var t=this,r=JN(e,this._firestore),i=new XN(this._firestore);return ou(ua(n.prototype),"get",this).call(this,e).then((function(e){return new SN(t._firestore,i,r._key,e._document,new EN(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){ia(this,e),this._firestore=t,this._transaction=n,this._dataReader=nN(t)}return k(e,[{key:"get",value:function(e){var t=this,n=JN(e,this._firestore),r=new $N(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return qg();var i=e[0];if(i.isFoundDocument())return new xN(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new xN(t._firestore,r,n._key,null,n.converter);throw qg()}))}},{key:"set",value:function(e,t,n){var r=JN(e,this._firestore),i=QN(r.converter,t,n),a=rN(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=JN(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=qa(t))||t instanceof HC?fN(this._dataReader,"Transaction.update",i._key,t,n,o):lN(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=JN(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function sA(e,t){return function(e,t){var n=new Gg;return e.asyncQueue.enqueueAndForget(Ka(Ha().mark((function r(){var i;return Ha().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return oC(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new XT(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(UC(e=xC(e,FC)),(function(n){return t(new uA(e,n))}))}function cA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uN("arrayUnion",t)}function lA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new sN("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Lg=e}(So),ko(new Ga("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new FC(i,new Jg(e.getProvider("auth-internal")),new tk(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Po(Og,"3.4.5",e),Po(Og,"3.4.5","esm2017")}();function fA(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Hg("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function hA(){if("undefined"===typeof Uint8Array)throw new Hg("unimplemented","Uint8Arrays are not available in this environment.")}function dA(){if("undefined"==typeof atob)throw new Hg("unimplemented","Blobs are unavailable in Firestore in this environment.")}var pA=function(){function e(t){ia(this,e),this._delegate=t}return k(e,[{key:"toBase64",value:function(){return dA(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return hA(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return dA(),new e(GC.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return hA(),new e(GC.fromUint8Array(t))}}]),e}();function vA(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=aa(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var yA=function(){function e(){ia(this,e)}return k(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){WC(e=xC(e,FC));var n=UC(e),r=e._freezeSettings(),i=new GT;return jC(n,i,new WT(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){WC(e=xC(e,FC));var t=UC(e),n=e._freezeSettings(),r=new GT;return jC(t,r,new HT(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Hg(Wg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Gg;return e._queue.enqueueAndForgetEvenWhileRestricted(Ka(Ha().mark((function n(){return Ha().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ka(Ha().mark((function e(t){var n;return Ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xx.Vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Xx.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(CI(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),mA=function(){function e(t,n,r){var i=this;ia(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Tk||(this._appCompat=t)}return k(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||jg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};SC(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return zC(this._delegate)}},{key:"disableNetwork",value:function(){return qC(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&gC("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Gg;return e.asyncQueue.enqueueAndForget(Ka(Ha().mark((function n(){return Ha().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=fT,n.next=3,fC(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(UC(e=xC(e,FC)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return iA(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Hg("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new RA(this,AC(this._delegate,e))}catch(t){throw _A(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new xA(this,RC(this._delegate,e))}catch(t){throw _A(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new CA(this,function(e,t){if(e=xC(e,EC),mC("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Hg(Wg.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new CC(e,null,function(e){return new kb(pk.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw _A(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return sA(this._delegate,(function(n){return e(new kA(t,n))}))}},{key:"batch",value:function(){var e=this;return UC(this._delegate),new bA(new YN(this._delegate,(function(t){return aA(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return BC(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return KC(this._delegate,e).then((function(e){return e?new CA(t,e):null}))}}]),e}(),gA=function(e){oa(n,e);var t=la(n);function n(e){var r;return ia(this,n),(r=t.call(this)).firestore=e,r}return k(n,[{key:"convertBytes",value:function(e){return new pA(new GC(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return xA.forKey(t,this.firestore,null)}}]),n}(GN);var kA=function(){function e(t,n){ia(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new gA(t)}return k(e,[{key:"get",value:function(e){var t=this,n=PA(e);return this._delegate.get(n).then((function(e){return new SA(t._firestore,new SN(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=PA(e);return n?(fA("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=PA(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=PA(e);return this._delegate.delete(t),this}}]),e}(),bA=function(){function e(t){ia(this,e),this._delegate=t}return k(e,[{key:"set",value:function(e,t,n){var r=PA(e);return n?(fA("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=PA(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=PA(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),wA=function(){function e(t,n,r){ia(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return k(e,[{key:"fromFirestore",value:function(e,t){var n=new TN(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new TA(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new gA(t),n),i.set(n,a)),a}}]),e}();wA.INSTANCES=new WeakMap;var xA=function(){function e(t,n){ia(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new gA(t)}return k(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new RA(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new RA(this.firestore,AC(this._delegate,e))}catch(t){throw _A(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=qa(e))instanceof TC&&PC(this._delegate,e)}},{key:"set",value:function(e,t){t=fA("DocumentReference.set",t);try{return t?tA(this._delegate,e,t):tA(this._delegate,e)}catch(n){throw _A(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?nA(this._delegate,e):nA.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw _A(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return aA(xC(e.firestore,FC),[new pw(e._key,Zb.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=IA(n),a=EA(n,(function(t){return new SA(e.firestore,new SN(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return rA(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?ZN(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=xC(e,TC);var t=xC(e.firestore,FC);return pC(UC(t),e._key,{source:"server"}).then((function(n){return oA(t,e,n)}))}(this._delegate):function(e){e=xC(e,TC);var t=xC(e.firestore,FC);return pC(UC(t),e._key).then((function(n){return oA(t,e,n)}))}(this._delegate),t.then((function(e){return new SA(n.firestore,new SN(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(wA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Hg("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new TC(n._delegate,r,new Rk(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new TC(n._delegate,r,t))}}]),e}();function _A(e,t,n){return e.message=e.message.replace(t,n),e}function IA(e){var t,n=aa(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!vA(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function EA(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=vA(e[0])?e[0]:vA(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var SA=function(){function e(t,n){ia(this,e),this._firestore=t,this._delegate=n}return k(e,[{key:"ref",get:function(){return new xA(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return AN(this._delegate,e._delegate)}}]),e}(),TA=function(e){oa(n,e);var t=la(n);function n(){return ia(this,n),t.apply(this,arguments)}return k(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||qg()}(void 0!==t),t}}]),n}(SA),CA=function(){function e(t,n){ia(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new gA(t)}return k(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,ON(this._delegate,function(e,t,n){var r=t,i=IN("where",e);return new DN(i,r,n)}(t,n,r)))}catch(i){throw _A(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,ON(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=IN("orderBy",e);return new LN(n,t)}(t,n)))}catch(r){throw _A(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,ON(this._delegate,function(e){return _C("limit",e),new MN("limit",e,"F")}(t)))}catch(n){throw _A(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,ON(this._delegate,function(e){return _C("limitToLast",e),new MN("limitToLast",e,"L")}(t)))}catch(n){throw _A(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,ON(this._delegate,UN.apply(void 0,arguments)))}catch(t){throw _A(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,ON(this._delegate,VN.apply(void 0,arguments)))}catch(t){throw _A(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,ON(this._delegate,zN.apply(void 0,arguments)))}catch(t){throw _A(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,ON(this._delegate,qN.apply(void 0,arguments)))}catch(t){throw _A(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return OC(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?eA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=xC(e,CC);var t=xC(e.firestore,FC),n=UC(t),r=new XN(t);return vC(n,e._query,{source:"server"}).then((function(n){return new CN(t,r,e,n)}))}(this._delegate):function(e){e=xC(e,CC);var t=xC(e.firestore,FC),n=UC(t),r=new XN(t);return RN(e._query),vC(n,e._query).then((function(n){return new CN(t,r,e,n)}))}(this._delegate),t.then((function(e){return new AA(n.firestore,new CN(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=IA(n),a=EA(n,(function(t){return new AA(e.firestore,new CN(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return rA(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(wA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),NA=function(){function e(t,n){ia(this,e),this._firestore=t,this._delegate=n}return k(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new TA(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),AA=function(){function e(t,n){ia(this,e),this._firestore=t,this._delegate=n}return k(e,[{key:"query",get:function(){return new CA(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new TA(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new NA(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new TA(n._firestore,r))}))}},{key:"isEqual",value:function(e){return AN(this._delegate,e._delegate)}}]),e}(),RA=function(e){oa(n,e);var t=la(n);function n(e,r){var i;return ia(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return k(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new xA(this.firestore,e):null}},{key:"doc",value:function(e){try{return new xA(this.firestore,void 0===e?RC(this._delegate):RC(this._delegate,e))}catch(t){throw _A(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=xC(e.firestore,FC),r=RC(e),i=QN(e.converter,t);return aA(n,[rN(nN(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Zb.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new xA(t.firestore,e)}))}},{key:"isEqual",value:function(e){return PC(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(wA.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(CA);function PA(e){return xC(e,TC)}var OA=function(){function e(){ia(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=fa(HC,n)}return k(e,[{key:"isEqual",value:function(e){return(e=qa(e))instanceof HC&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(yk.keyField().canonicalString())}}]),e}(),DA=function(){function e(t){ia(this,e),this._delegate=t}return k(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new oN("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new iN("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=cA.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=lA.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new cN("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),LA={Firestore:mA,GeoPoint:$C,Timestamp:sk,Blob:pA,Transaction:kA,WriteBatch:bA,DocumentReference:xA,DocumentSnapshot:SA,Query:CA,QueryDocumentSnapshot:TA,QuerySnapshot:AA,CollectionReference:RA,FieldPath:OA,FieldValue:DA,setLogLevel:function(e){!function(e){Mg.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Ga("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},LA)))}(e,(function(e,t){return new mA(e,t,new yA)})),e.registerVersion("@firebase/firestore-compat","0.1.14")}(iu);var MA=iu.initializeApp({apiKey:"AIzaSyBRY57HLUYneKTzGcIiHkV-4bdv80cNASo",authDomain:"slack-clone-81083.firebaseapp.com",projectId:"slack-clone-81083",storageBucket:"slack-clone-81083.appspot.com",messagingSenderId:"338949198980",appId:"1:338949198980:web:63a29976c535d4ca445ed1",measurementId:"G-2WMV015EXT"}).firestore(),FA=iu.auth(),UA=new iu.auth.GoogleAuthProvider,VA=MA;var jA=function(e){var t=e.Icon,n=e.title,r=e.id,i=e.addChannelOption,a=ra(Ki);return(0,Wr.jsxs)("div",{className:"sidebarOption",onClick:i?function(){var e=prompt("Please enter the channel name");e&&VA.collection("rooms").add({name:e})}:function(){r?a.push("/room/".concat(r)):a.push(n)},children:[t&&(0,Wr.jsx)(t,{className:"sidebarOption__icon"}),t?(0,Wr.jsx)("h3",{children:n}):(0,Wr.jsxs)("h3",{className:"sidebarOption__channel",children:[(0,Wr.jsx)("span",{className:"sidebarOption__hash",children:"#"})," ",n]})]})};var zA=function(){var e=s(Qr(),1)[0].user,n=s((0,t.useState)([]),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){VA.collection("rooms").onSnapshot((function(e){return i(e.docs.map((function(e){return{id:e.id,name:e.data().name}})))}))}),[]),(0,Wr.jsxs)("div",{className:"sidebar",children:[(0,Wr.jsxs)("div",{className:"sidebar__header",children:[(0,Wr.jsxs)("div",{className:"sidebar__info",children:[(0,Wr.jsx)("h2",{children:"Learn and Teach "}),(0,Wr.jsxs)("h3",{children:[(0,Wr.jsx)(Yr,{}),null===e||void 0===e?void 0:e.displayName]})]}),(0,Wr.jsx)(Jr,{})]}),(0,Wr.jsx)(jA,{Icon:Xr,title:"Thread"}),(0,Wr.jsx)(jA,{Icon:Zr,title:"Mentions & Reactions"}),(0,Wr.jsx)(jA,{Icon:ei,title:"Saved items"}),(0,Wr.jsx)(jA,{Icon:ti,title:"Channel browser"}),(0,Wr.jsx)(jA,{Icon:ni,title:"People & user groups"}),(0,Wr.jsx)(jA,{Icon:ri,title:"Apps"}),(0,Wr.jsx)(jA,{Icon:ii,title:"File Browser"}),(0,Wr.jsx)(jA,{Icon:ai,title:"Show less"}),(0,Wr.jsx)("hr",{}),(0,Wr.jsx)(jA,{Icon:oi,title:"Channels"}),(0,Wr.jsx)("hr",{}),(0,Wr.jsx)(jA,{Icon:ui,addChannelOption:!0,title:"Add Channels"}),r.map((function(e){return(0,Wr.jsx)(jA,{title:e.name,id:e.id})}))]})},qA=Ur(t.createElement("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"})),BA=Ur(t.createElement("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}));var KA=function(e){var t=e.message,n=e.timestamp,r=e.user,i=e.userimage;return(0,Wr.jsxs)("div",{className:"message",children:[(0,Wr.jsx)("img",{src:i,alt:"Person Image"}),(0,Wr.jsxs)("div",{className:"message__info",children:[(0,Wr.jsxs)("h4",{children:[r,(0,Wr.jsx)("span",{className:"message__timestamp",children:new Date(null===n||void 0===n?void 0:n.toDate()).toUTCString()})]}),(0,Wr.jsxs)("p",{children:[" ",t," "]})]})]})};function WA(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function HA(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){WA(e,t),WA(n,t)}}),[e,n])}var GA="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;function QA(e){var n=t.useRef(e);return GA((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}var $A=!0,YA=!1,JA=null,XA={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ZA(e){e.metaKey||e.altKey||e.ctrlKey||($A=!0)}function eR(){$A=!1}function tR(){"hidden"===this.visibilityState&&YA&&($A=!0)}function nR(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return $A||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!XA[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function rR(){YA=!0,window.clearTimeout(JA),JA=window.setTimeout((function(){YA=!1}),100)}function iR(){var e=t.useCallback((function(e){var t,n=r.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",ZA,!0),t.addEventListener("mousedown",eR,!0),t.addEventListener("pointerdown",eR,!0),t.addEventListener("touchstart",eR,!0),t.addEventListener("visibilitychange",tR,!0))}),[]);return{isFocusVisible:nR,onBlurVisible:rR,ref:e}}var aR=t.createContext(null);function oR(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function uR(e,t,n){return null!=n[t]?n[t]:e.props[t]}function sR(e,n,r){var i=oR(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:uR(u,"exit",e),enter:uR(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:uR(u,"exit",e),enter:uR(u,"enter",e)})}})),a}var cR=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},lR=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(x(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}w(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,oR(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:uR(e,"appear",r),enter:uR(e,"enter",r),exit:uR(e,"exit",r)})}))):sR(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=oR(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=c({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=l(e,["component","childFactory"]),a=this.state.contextValue,o=cR(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(aR.Provider,{value:a},o):t.createElement(aR.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);lR.propTypes={},lR.defaultProps={component:"div",childFactory:function(e){return e}};var fR=lR,hR="undefined"===typeof window?t.useEffect:t.useLayoutEffect;var dR=function(e){var n=e.classes,r=e.pulsate,i=void 0!==r&&r,a=e.rippleX,o=e.rippleY,u=e.rippleSize,s=e.in,c=e.onExited,l=void 0===c?function(){}:c,f=e.timeout,h=t.useState(!1),p=h[0],v=h[1],y=d(n.ripple,n.rippleVisible,i&&n.ripplePulsate),m={width:u,height:u,top:-u/2+o,left:-u/2+a},g=d(n.child,p&&n.childLeaving,i&&n.childPulsate),k=QA(l);return hR((function(){if(!s){v(!0);var e=setTimeout(k,f);return function(){clearTimeout(e)}}}),[k,s,f]),t.createElement("span",{className:y,style:m},t.createElement("span",{className:g}))},pR=t.forwardRef((function(e,n){var r=e.center,i=void 0!==r&&r,a=e.classes,o=e.className,u=f(e,["center","classes","className"]),s=t.useState([]),l=s[0],h=s[1],p=t.useRef(0),v=t.useRef(null);t.useEffect((function(){v.current&&(v.current(),v.current=null)}),[l]);var y=t.useRef(!1),m=t.useRef(null),g=t.useRef(null),k=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(m.current)}}),[]);var b=t.useCallback((function(e){var n=e.pulsate,r=e.rippleX,i=e.rippleY,o=e.rippleSize,u=e.cb;h((function(e){return[].concat(mt(e),[t.createElement(dR,{key:p.current,classes:a,timeout:550,pulsate:n,rippleX:r,rippleY:i,rippleSize:o})])})),p.current+=1,v.current=u}),[a]),w=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,a=void 0!==r&&r,o=t.center,u=void 0===o?i||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&y.current)y.current=!1;else{"touchstart"===e.type&&(y.current=!0);var l,f,h,d=c?null:k.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,w=v.clientX,x=v.clientY;l=Math.round(w-p.left),f=Math.round(x-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var _=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,I=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(_,2)+Math.pow(I,2))}e.touches?null===g.current&&(g.current=function(){b({pulsate:a,rippleX:l,rippleY:f,rippleSize:h,cb:n})},m.current=setTimeout((function(){g.current&&(g.current(),g.current=null)}),80)):b({pulsate:a,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[i,b]),x=t.useCallback((function(){w({},{pulsate:!0})}),[w]),_=t.useCallback((function(e,t){if(clearTimeout(m.current),"touchend"===e.type&&g.current)return e.persist(),g.current(),g.current=null,void(m.current=setTimeout((function(){_(e,t)})));g.current=null,h((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:x,start:w,stop:_}}),[x,w,_]),t.createElement("span",c({className:d(a.root,o),ref:k},u),t.createElement(fR,{component:null,exit:!0},l))})),vR=Dr((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(t.memo(pR)),yR=t.forwardRef((function(e,n){var i=e.action,a=e.buttonRef,o=e.centerRipple,u=void 0!==o&&o,s=e.children,l=e.classes,h=e.className,p=e.component,v=void 0===p?"button":p,y=e.disabled,m=void 0!==y&&y,g=e.disableRipple,k=void 0!==g&&g,b=e.disableTouchRipple,w=void 0!==b&&b,x=e.focusRipple,_=void 0!==x&&x,I=e.focusVisibleClassName,E=e.onBlur,S=e.onClick,T=e.onFocus,C=e.onFocusVisible,N=e.onKeyDown,A=e.onKeyUp,R=e.onMouseDown,P=e.onMouseLeave,O=e.onMouseUp,D=e.onTouchEnd,L=e.onTouchMove,M=e.onTouchStart,F=e.onDragLeave,U=e.tabIndex,V=void 0===U?0:U,j=e.TouchRippleProps,z=e.type,q=void 0===z?"button":z,B=f(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),K=t.useRef(null);var W=t.useRef(null),H=t.useState(!1),G=H[0],Q=H[1];m&&G&&Q(!1);var $=iR(),Y=$.isFocusVisible,J=$.onBlurVisible,X=$.ref;function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;return QA((function(r){return t&&t(r),!n&&W.current&&W.current[e](r),!0}))}t.useImperativeHandle(i,(function(){return{focusVisible:function(){Q(!0),K.current.focus()}}}),[]),t.useEffect((function(){G&&_&&!k&&W.current.pulsate()}),[k,_,G]);var ee=Z("start",R),te=Z("stop",F),ne=Z("stop",O),re=Z("stop",(function(e){G&&e.preventDefault(),P&&P(e)})),ie=Z("start",M),ae=Z("stop",D),oe=Z("stop",L),ue=Z("stop",(function(e){G&&(J(e),Q(!1)),E&&E(e)}),!1),se=QA((function(e){K.current||(K.current=e.currentTarget),Y(e)&&(Q(!0),C&&C(e)),T&&T(e)})),ce=function(){var e=r.findDOMNode(K.current);return v&&"button"!==v&&!("A"===e.tagName&&e.href)},le=t.useRef(!1),fe=QA((function(e){_&&!le.current&&G&&W.current&&" "===e.key&&(le.current=!0,e.persist(),W.current.stop(e,(function(){W.current.start(e)}))),e.target===e.currentTarget&&ce()&&" "===e.key&&e.preventDefault(),N&&N(e),e.target===e.currentTarget&&ce()&&"Enter"===e.key&&!m&&(e.preventDefault(),S&&S(e))})),he=QA((function(e){_&&" "===e.key&&W.current&&G&&!e.defaultPrevented&&(le.current=!1,e.persist(),W.current.stop(e,(function(){W.current.pulsate(e)}))),A&&A(e),S&&e.target===e.currentTarget&&ce()&&" "===e.key&&!e.defaultPrevented&&S(e)})),de=v;"button"===de&&B.href&&(de="a");var pe={};"button"===de?(pe.type=q,pe.disabled=m):("a"===de&&B.href||(pe.role="button"),pe["aria-disabled"]=m);var ve=HA(a,n),ye=HA(X,K),me=HA(ve,ye),ge=t.useState(!1),ke=ge[0],be=ge[1];t.useEffect((function(){be(!0)}),[]);var we=ke&&!k&&!m;return t.createElement(de,c({className:d(l.root,h,G&&[l.focusVisible,I],m&&l.disabled),onBlur:ue,onClick:S,onFocus:se,onKeyDown:fe,onKeyUp:he,onMouseDown:ee,onMouseLeave:re,onMouseUp:ne,onDragLeave:te,onTouchEnd:ae,onTouchMove:oe,onTouchStart:ie,ref:me,tabIndex:m?-1:V},pe,B),s,we?t.createElement(vR,c({ref:W,center:u},j)):null)})),mR=Dr({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(yR),gR=t.forwardRef((function(e,n){var r=e.children,i=e.classes,a=e.className,o=e.color,u=void 0===o?"default":o,s=e.component,l=void 0===s?"button":s,h=e.disabled,p=void 0!==h&&h,v=e.disableElevation,y=void 0!==v&&v,m=e.disableFocusRipple,g=void 0!==m&&m,k=e.endIcon,b=e.focusVisibleClassName,w=e.fullWidth,x=void 0!==w&&w,_=e.size,I=void 0===_?"medium":_,E=e.startIcon,S=e.type,T=void 0===S?"button":S,C=e.variant,N=void 0===C?"text":C,A=f(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),R=E&&t.createElement("span",{className:d(i.startIcon,i["iconSize".concat(Lr(I))])},E),P=k&&t.createElement("span",{className:d(i.endIcon,i["iconSize".concat(Lr(I))])},k);return t.createElement(mR,c({className:d(i.root,i[N],a,"inherit"===u?i.colorInherit:"default"!==u&&i["".concat(N).concat(Lr(u))],"medium"!==I&&[i["".concat(N,"Size").concat(Lr(I))],i["size".concat(Lr(I))]],y&&i.disableElevation,p&&i.disabled,x&&i.fullWidth),component:l,disabled:p,focusRipple:!g,focusVisibleClassName:d(i.focusVisible,b),ref:n,type:T},A),t.createElement("span",{className:i.label},R,r,P))})),kR=Dr((function(e){return{root:c({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:er(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:er(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:er(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(er(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:er(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(er(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:er(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(gR);var bR=function(e){var n=e.channelName,r=e.channelId,i=s((0,t.useState)(""),2),a=i[0],o=i[1],u=s(Qr(),1)[0].user;return(0,Wr.jsx)("div",{className:"chatInput",children:(0,Wr.jsxs)("form",{children:[(0,Wr.jsx)("input",{value:a,onChange:function(e){return o(e.target.value)},placeholder:"Message # ".concat(null===n||void 0===n?void 0:n.toLowerCase())}),(0,Wr.jsx)(kR,{type:"submit",onClick:function(e){e.preventDefault(),r&&VA.collection("rooms").doc(r).collection("messages").add({message:a,timestamp:iu.firestore.FieldValue.serverTimestamp(),user:u.displayName,userimage:u.photoURL})},children:"Send"})]})})};var wR=function(){var e=function(){var e=ra(Wi).match;return e?e.params:{}}().roomId,n=s((0,t.useState)(null),2),r=n[0],i=n[1],a=s((0,t.useState)([]),2),o=a[0],u=a[1];return(0,t.useEffect)((function(){e&&VA.collection("rooms").doc(e).onSnapshot((function(e){return i(e.data())})),VA.collection("rooms").doc(e).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return u(e.docs.map((function(e){return e.data()})))}))}),[e]),(0,Wr.jsxs)("div",{className:"chat",children:[(0,Wr.jsxs)("div",{className:"chat__header",children:[(0,Wr.jsx)("div",{className:"chat__headerLeft",children:(0,Wr.jsxs)("h4",{className:"chat__channelName",children:[(0,Wr.jsxs)("strong",{children:["# ",null===r||void 0===r?void 0:r.name," "]}),(0,Wr.jsx)(qA,{})]})}),(0,Wr.jsx)("div",{className:"chat__headerRight",children:(0,Wr.jsxs)("p",{children:[(0,Wr.jsx)(BA,{}),"Details"]})})]}),(0,Wr.jsx)("div",{className:"chat__messages",children:o.map((function(e){var t=e.message,n=e.timestamp,r=e.user,i=e.userimage;return(0,Wr.jsx)(KA,{message:t,timestamp:n,user:r,userimage:i})}))}),(0,Wr.jsx)(bR,{channelName:null===r||void 0===r?void 0:r.name,channelId:e})]})},xR=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Ei(t.props),t}return w(n,e),n.prototype.render=function(){return t.createElement(Hi,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var _R=function(e,t){return"function"===typeof e?e(t):e},IR=function(e,t){return"string"===typeof e?gi(e,null,null,t):e},ER=function(e){return e},SR=t.forwardRef;"undefined"===typeof SR&&(SR=ER);var TR=SR((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,o=l(e,["innerRef","navigate","onClick"]),u=o.target,s=c({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return s.ref=ER!==SR&&n||r,t.createElement("a",s)}));var CR=SR((function(e,n){var r=e.component,i=void 0===r?TR:r,a=e.replace,o=e.to,u=e.innerRef,s=l(e,["component","replace","to","innerRef"]);return t.createElement(Wi.Consumer,null,(function(e){e||hi(!1);var r=e.history,l=IR(_R(o,e.location),e.location),f=l?r.createHref(l):"",h=c({},s,{href:f,navigate:function(){var t=_R(o,e.location),n=mi(e.location)===mi(IR(t));(a||n?r.replace:r.push)(t)}});return ER!==SR?h.ref=n||u:h.innerRef=u,t.createElement(i,h)}))})),NR=function(e){return e},AR=t.forwardRef;"undefined"===typeof AR&&(AR=NR);AR((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,u=e.activeStyle,s=e.className,f=e.exact,h=e.isActive,d=e.location,p=e.sensitive,v=e.strict,y=e.style,m=e.to,g=e.innerRef,k=l(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(Wi.Consumer,null,(function(e){e||hi(!1);var r=d||e.location,a=IR(_R(m,r),r),l=a.pathname,b=l&&l.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?$i(r.pathname,{path:b,exact:f,sensitive:p,strict:v}):null,x=!!(h?h(w,r):w),_="function"===typeof s?s(x):s,I="function"===typeof y?y(x):y;x&&(_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(_,o),I=c({},I,u));var E=c({"aria-current":x&&i||null,className:_,style:I,to:a},k);return NR!==AR?E.ref=n||g:E.innerRef=g,t.createElement(CR,E)}))}));function RR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RR(Object(n),!0).forEach((function(t){Vn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var OR="SET_USER",DR=function(e,t){return t.type===OR?PR(PR({},e),{},{user:t.user}):e};var LR=function(){var e=s(Qr(),2),t=(e[0],e[1]);return(0,Wr.jsxs)("div",{className:"login",children:[(0,Wr.jsxs)("div",{className:"login__container",children:[(0,Wr.jsx)("img",{src:"/images/slack.png",alt:""}),(0,Wr.jsx)("h1",{children:" Sign in to Clever Programmer "})," ",(0,Wr.jsx)("p",{children:" cleverprogrammer.slack.com "})," ",(0,Wr.jsx)(kR,{onClick:function(){FA.signInWithPopup(UA).then((function(e){console.log(e),t({type:OR,user:e.user})})).catch((function(e){alert(e.message)}))},children:" Sign in with Google "})," "]})," "]})};var MR=function(){var e=s(Qr(),2),t=e[0].user;return e[1],(0,Wr.jsx)("div",{className:"App",children:(0,Wr.jsx)(xR,{children:t?(0,Wr.jsxs)(Wr.Fragment,{children:[(0,Wr.jsx)($r,{}),(0,Wr.jsxs)("div",{className:"app__body",children:[(0,Wr.jsx)(zA,{}),(0,Wr.jsxs)(na,{children:[(0,Wr.jsx)(Yi,{path:"/room/:roomId",children:(0,Wr.jsx)(wR,{})}),(0,Wr.jsx)(Yi,{path:"/",children:(0,Wr.jsx)("h1",{children:"Welcomeeeeeeeeeeeeeeeee"})})]})]})]}):(0,Wr.jsx)("h1",{children:(0,Wr.jsx)(LR,{})})})})},FR=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.render((0,Wr.jsx)(t.StrictMode,{children:(0,Wr.jsx)(Gr,{initialState:{user:null},reducer:DR,children:(0,Wr.jsx)(MR,{})})}),document.getElementById("root")),FR()}()}();
//# sourceMappingURL=main.a8ac35c0.js.map